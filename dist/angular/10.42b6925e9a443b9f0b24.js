(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"1jOF":function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var i=c("AytR"),r=c("fXoL"),o=c("tk/3");let a=(()=>{class e{constructor(e){this.http=e,this.url=i.a.apiUrl+"/driver/"}addDriver(e){return this.http.post(this.url+"/addDriver",e)}getAllDriver(){return this.http.get(this.url+"/listDriver")}getAllDriversByPage(e){return this.http.post(this.url+"/listDriversByPage",e)}getDriverById(e){return this.http.get(this.url+e+"/editDriver")}updateDriver(e,t){return this.http.put(this.url+e+"/updateDriver",t)}deleteDriver(e){return this.http.delete(this.url+e+"/deleteDriver")}addDriverWithDevice(e){return this.http.post(this.url+"/addDeviceDriver",e)}deleteDeviceDriver(e){return this.http.post(this.url+"/deleteDeviceDriver",e)}getDriverByDeviceId(e){return this.http.get(this.url+e+"/getDriverByDevice")}addDriverWithGroup(e){return this.http.post(this.url+"/addGroupDriver",e)}deleteGroupDriver(e){return this.http.post(this.url+"/deleteGroupDriver",e)}getDriverByGroupId(e){return this.http.get(this.url+e+"/getDriverByGroup")}addDriverWithUser(e){return this.http.post(this.url+"/addUserDriver",e)}deleteUserDriver(e){return this.http.post(this.url+"/deleteUserDriver",e)}getDriverByUserId(e){return this.http.get(this.url+e+"/getDriverByUser")}getAllCustomerDriver(){return this.http.get(this.url+"/listCustomerDriver")}getDriverByCustomerId(e){return this.http.get(this.url+e+"/getDriverByCustomerId")}addDriverWithCustomer(e){return this.http.post(this.url+"/addCustomerDriver",e)}deleteCustomerDriver(e){return this.http.post(this.url+"/deleteCustomerDriver",e)}}return e.\u0275fac=function(t){return new(t||e)(r.jc(o.b))},e.\u0275prov=r.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"6yIB":function(e,t,c){"use strict";c.r(t),c.d(t,"UsersModule",(function(){return Tc}));var i=c("ofXK"),r=c("3Pt+"),o=c("jAig"),a=c("KUt4"),s=c("YUcS"),n=c("tyNb"),l=c("Cp0R"),u=c("i+38"),m=c("fXoL"),d=c("CjG4"),f=c("dNgK"),h=c("Wp6s"),p=c("kmnG"),g=c("qFsG"),b=c("bTqV");function v(e,t){1&e&&(m.fc(0,"div"),m.fc(1,"p",9),m.Tc(2," Current Password Not Valid"),m.ec(),m.ec())}function y(e,t){1&e&&(m.fc(0,"div"),m.fc(1,"p",9),m.Tc(2," Has Been Changed Successfully"),m.ec(),m.ec())}let C=(()=>{class e{constructor(e,t,c){this.userService=e,this.fb=t,this.snackBar=c}ngOnInit(){this.myform=this.fb.group({oldPassword:["",[r.u.required]],password:["",[r.u.required]],confirm_password:["",[r.u.required,Object(u.a)("password")]],user_id:[""]})}changePassword(){this.userData=JSON.parse(localStorage.getItem("userData")),this.myform.value.user_id=this.userData.id,this.userService.changePassword(this.myform.value).subscribe(e=>{this.openSnackBar()},e=>{this.show1=!0}),console.log(this.myform.value)}openSnackBar(){this.snackBar.open("Reset Successfully!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(d.a),m.Zb(r.e),m.Zb(f.a))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-change-password"]],decls:21,vars:4,consts:[[1,"customStyle"],[1,"title-style"],[3,"formGroup"],[1,"full"],["matInput","","type","password","placeholder","Current Password","formControlName","oldPassword","autocomplete","off","required",""],["matInput","","type","password","placeholder","New Password","formControlName","password","autocomplete","off","required",""],["type","password","matInput","","placeholder","Confirm New Password","formControlName","confirm_password","autocomplete","off","compare","password","required",""],[4,"ngIf"],["mat-stroked-button","","color","primary",1,"btn-block",3,"disabled","click"],[1,"red"]],template:function(e,t){1&e&&(m.fc(0,"mat-card",0),m.fc(1,"div",1),m.fc(2,"mat-card-title"),m.Tc(3,"Password Change Form"),m.ec(),m.ec(),m.fc(4,"mat-card-content"),m.fc(5,"form",2),m.fc(6,"mat-form-field",3),m.ac(7,"input",4),m.ec(),m.fc(8,"mat-form-field",3),m.ac(9,"input",5),m.ec(),m.fc(10,"mat-form-field",3),m.ac(11,"input",6),m.fc(12,"mat-error"),m.Tc(13," password does not match "),m.ec(),m.ec(),m.ec(),m.ec(),m.Sc(14,v,3,0,"div",7),m.fc(15,"mat-card-actions"),m.fc(16,"button",8),m.nc("click",(function(){return t.changePassword()})),m.Tc(17," Changed "),m.ec(),m.fc(18,"p"),m.Tc(19,"Note: Field marked with * is Mandatory"),m.ec(),m.ec(),m.Sc(20,y,3,0,"div",7),m.ec()),2&e&&(m.Ob(5),m.yc("formGroup",t.myform),m.Ob(9),m.yc("ngIf",t.show1),m.Ob(2),m.yc("disabled",!t.myform.valid),m.Ob(4),m.yc("ngIf",t.show))},directives:[h.a,h.f,h.c,r.v,r.o,r.g,p.c,g.b,r.c,r.n,r.f,r.t,p.b,i.m,h.b,b.b],styles:[".customStyle[_ngcontent-%COMP%]{border-radius:10px 10px 10px 10px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important;margin-bottom:15px}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.mat-stroked-button[_ngcontent-%COMP%]{width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}.red[_ngcontent-%COMP%]{color:#00f;font-size:16px}.reda[_ngcontent-%COMP%]{color:red}p[_ngcontent-%COMP%]{font-size:10px}.dd[_ngcontent-%COMP%]{width:120px;height:25px;margin-left:10px;margin-top:5px;margin-bottom:10px;text-align:left}a[_ngcontent-%COMP%]{cursor:pointer;margin-top:20px}.closeButton[_ngcontent-%COMP%]{width:30px;height:30px;margin-left:5px;cursor:pointer}"]}),e})();var S=c("d3UM"),O=c("FKr1");function D(e,t){if(1&e&&(m.fc(0,"mat-option",13),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.yc("value",e.id),m.Ob(1),m.Wc(" ",e.name," (",e.email,") ")}}function w(e,t){1&e&&(m.fc(0,"div",16),m.Tc(1,"Password is required"),m.ec())}function x(e,t){if(1&e&&(m.fc(0,"div",14),m.Sc(1,w,2,0,"div",15),m.ec()),2&e){const e=m.rc();m.Ob(1),m.yc("ngIf",e.myform.get("password").errors.required)}}let k=(()=>{class e{constructor(e,t,c){this.userService=e,this.fb=t,this.snackBar=c,this.users=[],this.nameUser=[],this.submitted=!1}ngOnInit(){this.myform=this.fb.group({user_id:["",[r.u.required]],password:["",[r.u.required]],confirm_password:["",[r.u.required,Object(u.a)("password")]]}),this.getAllUser()}getAllUser(){this.userService.getAllUser().subscribe(e=>{this.users=e,this.nameUser=this.users})}filterUser(e){this.users=this.nameUser.filter(t=>t.fullName.toLowerCase().indexOf(e)>-1)}resetPassword(){this.myform.markAllAsTouched(),this.submitted=!0,this.myform.invalid||(this.userService.resetPassword(this.myform.value).subscribe(e=>{this.openSnackBar()}),console.log(this.myform.value))}openSnackBar(){this.snackBar.open("Reset Successfully!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(d.a),m.Zb(r.e),m.Zb(f.a))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-reset-password"]],decls:29,vars:3,consts:[[1,"customStyle"],[1,"title-style"],[3,"formGroup"],[1,"full"],["formControlName","user_id","required",""],["dl",""],["placeholder","search","autocomplete","off",1,"dd",3,"keyup"],[1,"closeButton",3,"click"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","password","placeholder","New Password","formControlName","password","autocomplete","off","required",""],["class","invalid-feedback",4,"ngIf"],["type","password","matInput","","placeholder","Confirm New Password","formControlName","confirm_password","required","","autocomplete","off","compare","password"],["mat-stroked-button","","color","primary",1,"btn-block",3,"click"],[3,"value"],[1,"invalid-feedback"],["class","reda",4,"ngIf"],[1,"reda"]],template:function(e,t){if(1&e){const e=m.gc();m.fc(0,"mat-card",0),m.fc(1,"div",1),m.fc(2,"mat-card-title"),m.Tc(3,"Password Reset Form"),m.ec(),m.ec(),m.fc(4,"mat-card-content"),m.fc(5,"form",2),m.fc(6,"mat-form-field",3),m.fc(7,"mat-label"),m.Tc(8,"User Email"),m.ec(),m.fc(9,"mat-select",4,5),m.fc(11,"input",6),m.nc("keyup",(function(e){return t.filterUser(e.target.value)})),m.ec(),m.fc(12,"a"),m.fc(13,"button",7),m.nc("click",(function(){return m.Kc(e),m.Gc(10).close()})),m.fc(14,"b"),m.Tc(15,"x"),m.ec(),m.ec(),m.ec(),m.Sc(16,D,2,3,"mat-option",8),m.ec(),m.ec(),m.fc(17,"mat-form-field",3),m.ac(18,"input",9),m.ec(),m.Sc(19,x,2,1,"div",10),m.fc(20,"mat-form-field",3),m.ac(21,"input",11),m.fc(22,"mat-error"),m.Tc(23," password does not match "),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(24,"mat-card-actions"),m.fc(25,"button",12),m.nc("click",(function(){return t.resetPassword()})),m.Tc(26," Reset "),m.ec(),m.fc(27,"p"),m.Tc(28,"Note: Field marked with * is Mandatory"),m.ec(),m.ec(),m.ec()}2&e&&(m.Ob(5),m.yc("formGroup",t.myform),m.Ob(11),m.yc("ngForOf",t.users),m.Ob(3),m.yc("ngIf",t.submitted&&t.myform.get("password").errors))},directives:[h.a,h.f,h.c,r.v,r.o,r.g,p.c,p.g,S.a,r.n,r.f,r.t,i.l,g.b,r.c,i.m,p.b,h.b,b.b,O.o],styles:[".customStyle[_ngcontent-%COMP%]{border-radius:10px 10px 10px 10px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important;margin-bottom:15px}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.mat-stroked-button[_ngcontent-%COMP%]{width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}.red[_ngcontent-%COMP%]{color:#00f;font-size:16px}.reda[_ngcontent-%COMP%]{margin-left:5%;color:red}p[_ngcontent-%COMP%]{font-size:10px}.dd[_ngcontent-%COMP%]{width:120px;height:25px;margin-left:10px;margin-top:5px;margin-bottom:10px;text-align:left}a[_ngcontent-%COMP%]{cursor:pointer;margin-top:20px}.closeButton[_ngcontent-%COMP%]{width:30px;height:30px;margin-left:5px;cursor:pointer}"]}),e})();var T=c("idFR"),I=c("M5z4"),P=c("pD6V"),_=c("X9o6"),M=c("NFeN"),A=c("XiUz"),B=c("znSr"),N=c("7EHt"),R=c("bSwM"),U=c("iadO"),F=c("/1cH"),L=c("MutI"),Z=c("f0Cb");function $(e,t){if(1&e&&(m.fc(0,"mat-option",55),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.yc("value",e.id),m.Ob(1),m.Vc(" ",e.name," ")}}function j(e,t){if(1&e&&(m.fc(0,"mat-option",55),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.yc("value",e.value),m.Ob(1),m.Vc(" ",e.value," ")}}function E(e,t){if(1&e&&(m.fc(0,"span",59),m.Tc(1),m.ec()),2&e){const e=m.rc(2);m.Ob(1),m.Wc("Name: ",e.customerInfo.name," Email:",e.customerInfo.email,"")}}function q(e,t){if(1&e){const e=m.gc();m.fc(0,"mat-option",55),m.fc(1,"mat-list"),m.fc(2,"mat-list-item",2),m.nc("click",(function(){m.Kc(e);const c=t.$implicit;return m.rc(2).onChangeCustomer(c)})),m.Tc(3),m.ec(),m.ac(4,"mat-divider"),m.ec(),m.ec()}if(2&e){const e=t.$implicit;m.yc("value",e.customer_id),m.Ob(3),m.Wc(" ",e.name,"(",e.customer_id,") ")}}function V(e,t){if(1&e){const e=m.gc();m.fc(0,"div"),m.fc(1,"mat-form-field",24),m.fc(2,"input",56),m.nc("keyup",(function(t){return m.Kc(e),m.rc().applySearch(t.target.value)})),m.ec(),m.fc(3,"mat-hint",21),m.Tc(4," Please input customer id"),m.ec(),m.ec(),m.Sc(5,E,2,2,"span",57),m.fc(6,"mat-autocomplete",null,58),m.Sc(8,q,5,3,"mat-option",16),m.ec(),m.ec()}if(2&e){const e=m.Gc(7),t=m.rc();m.Ob(2),m.yc("matAutocomplete",e),m.Ob(3),m.yc("ngIf",t.customerInfo),m.Ob(3),m.yc("ngForOf",t.customerData)}}function z(e,t){if(1&e&&(m.fc(0,"span",59),m.Tc(1),m.ec()),2&e){const e=m.rc(2);m.Ob(1),m.Wc("Name: ",e.customerInfo.name," Email:",e.customerInfo.email,"")}}function G(e,t){if(1&e){const e=m.gc();m.fc(0,"mat-option",55),m.fc(1,"mat-list"),m.fc(2,"mat-list-item",2),m.nc("click",(function(){m.Kc(e);const c=t.$implicit;return m.rc(2).onChangeCustomer(c)})),m.Tc(3),m.ec(),m.ac(4,"mat-divider"),m.ec(),m.ec()}if(2&e){const e=t.$implicit;m.yc("value",e.customer_id),m.Ob(3),m.Wc(" ",e.name,"(",e.customer_id,") ")}}function W(e,t){if(1&e){const e=m.gc();m.fc(0,"div"),m.fc(1,"mat-form-field",24),m.fc(2,"input",60),m.nc("keyup",(function(t){return m.Kc(e),m.rc().resellerSearch(t.target.value)})),m.ec(),m.fc(3,"mat-hint",21),m.Tc(4," Please input reseller id"),m.ec(),m.ec(),m.Sc(5,z,2,2,"span",57),m.fc(6,"mat-autocomplete",null,58),m.Sc(8,G,5,3,"mat-option",16),m.ec(),m.ec()}if(2&e){const e=m.Gc(7),t=m.rc();m.Ob(2),m.yc("matAutocomplete",e),m.Ob(3),m.yc("ngIf",t.customerInfo),m.Ob(3),m.yc("ngForOf",t.resellerData)}}function X(e,t){if(1&e&&(m.fc(0,"mat-option",55),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.yc("value",e.value),m.Ob(1),m.Vc(" ",e.value," ")}}function K(e,t){if(1&e&&(m.fc(0,"mat-option",55),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.yc("value",e.id),m.Ob(1),m.Vc(" ",e.value," ")}}function H(e,t){if(1&e&&m.ac(0,"img",61),2&e){const e=m.rc();m.yc("src",e.imgurl,m.Lc)}}function J(e,t){if(1&e&&(m.fc(0,"mat-option",55),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.yc("value",e.id),m.Ob(1),m.Vc(" ",e.value," ")}}function Q(e,t){if(1&e&&(m.fc(0,"mat-option",55),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.yc("value",e.id),m.Ob(1),m.Vc(" ",e.value," ")}}const Y=function(e,t){return{full:e,half:t}};function ee(e,t){if(1&e&&(m.fc(0,"div",62),m.fc(1,"div",63),m.fc(2,"mat-form-field",7),m.ac(3,"input",64),m.ec(),m.fc(4,"mat-form-field",7),m.ac(5,"input",65),m.ec(),m.ec(),m.ec()),2&e){const e=t.index,c=m.rc();m.Ob(1),m.yc("formArrayName",e),m.Ob(1),m.yc("ngClass",m.Dc(3,Y,c.tr,c.fa)),m.Ob(2),m.yc("ngClass",m.Dc(6,Y,c.tr,c.fa))}}let te=(()=>{class e{constructor(e,t,c,i,r,o,a,s){this.fb=e,this.router=t,this.snackBar=c,this.userService=i,this.rolesService=r,this.customerService=o,this.mediaObserver=a,this.imageCompress=s,this.imgurl=null,this.fileUpload=null,this.object={},this.fieldArray=[],this.submitted=!1,this.selectedLatitude=0,this.selectedLongitude=0,this.selectedZoom=0,this.selectedDeviceLimit=10,this.selectedUserLimit=0,this.mapTypes=[{id:1,value:"OpenStreet Map"},{id:2,value:"Google Map"}],this.formats=[{id:1,value:"Decimal Degrees"},{id:2,value:"Degress Decimal Minutes"},{id:3,value:"Degrees Minutes Seconds"}],this.states=[{id:1,value:"Active"},{id:0,value:"Inactive"}],this.roles=[{id:1,value:"Admin"},{id:0,value:"User"}],this.gend=[{value:"Male"},{value:"Female"},{value:"Others"}],this.userTypes=[{value:"Admin"},{value:"Reseller"},{value:"Customer"}],this.step=0}setStep(e){this.step=e}ngOnInit(){this.myform=this.fb.group({firstName:["",[r.u.required]],lastName:["",[r.u.required]],mobile:["",r.u.pattern("[- +()0-9]+")],email:["",[r.u.required,r.u.email]],customer_id:[],address:[""],gender:[""],userType:[""],userRole:["",[r.u.required]],image:[""],password:["",[r.u.pattern("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-zd$@$!%*?&].{7,}")]],confirmPassword:["",[r.u.required,Object(u.a)("password")]],mapLayer:[""],latitude:[""],longitude:[""],zoom:[],hourFormat:[],cordinatesFormat:[""],poiLayer:[""],disabled:[],admin:[],readonly:[],deviceReadonly:[],limitCommands:[],expiration:[],deviceLimit:[],userLimit:[],token:[""],created_by:[""],status:[,[r.u.required]],attributes:this.fb.array([])}),this.getAllRole(),this.mediaSub=this.mediaObserver.media$.subscribe(e=>{"xs"==e.mqAlias?(this.tr=!0,this.fa=!1):(this.tr=!1,this.fa=!0)})}assignAttributes(){return this.fb.group({name:[""],value:[""]})}get fArray(){return this.myform.get("attributes")}addassignTicket(){this.fArray.push(this.assignAttributes())}isCustomer(e){const t=this.myform.get("customer_id");"Customer"===e?t.setValidators(r.u.required):t.clearValidators(),t.updateValueAndValidity()}getAllRole(){this.rolesService.getAllRole().subscribe(e=>{this.userRoles=e,this.filterRoles=this.userRoles})}applyFilter(e){this.userRoles=this.filterRoles.filter(t=>t.name.toLowerCase().indexOf(e)>-1)}onFileSelected(e){if(e.target.files.length>0){this.images=e.target.files[0];const t=new FileReader;t.onload=e=>{this.imgurl=e.target.result},t.readAsDataURL(this.images)}}compressFile(){this.imageCompress.uploadFile().then(({image:e,orientation:t})=>{this.imgResultBeforeCompress=e,console.warn("Size in bytes was:",this.imageCompress.byteCount(e)),this.imageCompress.compressFile(e,t,50,50).then(e=>{this.imgResultAfterCompress=e,console.warn("Size in bytes is now:",this.imageCompress.byteCount(e))})})}openSnackBar(){this.snackBar.open("Successfully added!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}errorMessage(){this.snackBar.open("Something is error!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}applySearch(e){this.customerService.customerSearch({name:e}).subscribe(e=>{this.customerData=e,console.log(this.customerData)})}resellerSearch(e){this.customerService.resellerSearch({name:e}).subscribe(e=>{this.resellerData=e,console.log(this.resellerData)})}onChangeCustomer(e){this.myform.value.customer_id=e.customer_id,this.customerInfo=e}onChange(e){console.log(e),"Customer"==e?(this.showCustommerField=1,this.showResellerField=0,console.log(this.showCustommerField)):"Reseller"==e?(this.showResellerField=1,this.showCustommerField=0):(this.showCustommerField=0,this.showResellerField=0)}goBack(){this.router.navigate(["admin/authorization/users/list"])}addUser(){if(this.myform.markAllAsTouched(),this.submitted=!0,this.myform.invalid)return;console.log(this.myform.value.attributes),this.myform.value.attributes&&this.myform.value.attributes.forEach(e=>{this.object[e.name]=e.value}),this.myform.value.attributes=this.object;const e=new FormData;e.append("image",this.images),e.append("firstName",this.myform.get("firstName").value),e.append("lastName",this.myform.get("lastName").value),e.append("mobile",this.myform.get("mobile").value),e.append("email",this.myform.get("email").value),e.append("customer_id",this.myform.value.customer_id),e.append("password",this.myform.get("password").value),e.append("userRole",this.myform.get("userRole").value),e.append("userType",this.myform.get("userType").value),e.append("address",this.myform.get("address").value),e.append("gender",this.myform.get("gender").value),e.append("status",this.myform.get("status").value),e.append("mapLayer",this.myform.get("mapLayer").value),e.append("latitude",this.myform.get("latitude").value),e.append("longitude",this.myform.get("longitude").value),e.append("zoom",this.myform.get("zoom").value),e.append("hourFormat",this.myform.get("hourFormat").value),e.append("cordinatesFormat",this.myform.get("cordinatesFormat").value),e.append("poiLayer",this.myform.get("poiLayer").value),e.append("disabled",this.myform.get("disabled").value),e.append("admin",this.myform.get("admin").value),e.append("readonly",this.myform.get("readonly").value),e.append("deviceReadonly",this.myform.get("deviceReadonly").value),e.append("expiration",this.myform.get("expiration").value),e.append("deviceLimit",this.myform.get("deviceLimit").value),e.append("userLimit",this.myform.get("userLimit").value),e.append("attributes",JSON.stringify(this.object)),e.append("token",this.myform.get("token").value),e.append("created_by",this.myform.value.created_by),console.log(this.myform.value),this.userService.addUser(e).subscribe(e=>{this.openSnackBar(),this.router.navigate(["admin/authorization/users/list"])},e=>{this.errorMessage()})}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(r.e),m.Zb(n.c),m.Zb(f.a),m.Zb(d.a),m.Zb(T.a),m.Zb(I.a),m.Zb(P.g),m.Zb(_.a))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-user-add"]],decls:143,vars:94,consts:[[1,"customStyle"],[1,"title-style"],[3,"click"],[1,"back"],[3,"formGroup"],["fxLayout","row","fxLayout.xs","column",1,"main"],["fxFlex","50%"],[3,"ngClass"],["trim","blur","matInput","","placeholder","First Name","formControlName","firstName","autocomplete","off","required",""],["trim","blur","matInput","","placeholder","Last Name","formControlName","lastName","autocomplete","off","required",""],["trim","blur","matInput","","placeholder","Contact Number","formControlName","mobile","minlength","8","autocomplete","off","required",""],["trim","blur","matInput","","placeholder","Email","formControlName","email","autocomplete","off","required",""],["formControlName","userRole","required",""],["sl",""],["matInput","","placeholder","search","autocomplete","off",1,"filterBox",3,"keyup"],[1,"closeButton",3,"click"],[3,"value",4,"ngFor","ngForOf"],["formControlName","userType","required","",3,"ngModelChange"],[4,"ngIf"],[1,"pwd"],["matInput","","type","password","placeholder","Password","formControlName","password","required","","autocomplete","off","pattern",""],["align","end"],["type","password","matInput","","placeholder","Confirm Password","formControlName","confirmPassword","autocomplete","off","compare","password","required",""],["formControlName","gender"],[1,"full"],["formControlName","status","required",""],["matInput","","placeholder","Address","formControlName","address","autocomplete","off"],[1,"image"],["type","file","formControlName","image","enctype","multipart/form-data","max-size","1","accept",".png,.jpg",3,"change"],["type","hide","style","width: 100px; height: 50px;",3,"src",4,"ngIf"],[1,"imagehint"],[1,"example-headers-align"],["hideToggle","",3,"expanded","opened"],["matInput","","placeholder","POI Layer","formControlName","poiLayer","autocomplete","off"],["required","",3,"ngClass"],["formControlName","mapLayer"],["matInput","","placeholder","Latitude","formControlName","latitude","autocomplete","off",3,"ngModel","ngModelChange"],["matInput","","placeholder","Longitude","formControlName","longitude","autocomplete","off",3,"ngModel","ngModelChange"],["matInput","","placeholder","Zoom","formControlName","zoom","autocomplete","off",3,"ngModel","ngModelChange"],["formControlName","cordinatesFormat"],["formControlName","hourFormat","labelPosition","before",1,"checkbox"],["formControlName","disabled","labelPosition","before",1,"checkbox"],["formControlName","admin","labelPosition","before",1,"checkbox"],["formControlName","readonly","labelPosition","before",1,"checkbox"],["formControlName","deviceReadonly","labelPosition","before",1,"checkbox"],["formControlName","limitCommands","labelPosition","before",1,"checkbox"],["matInput","","formControlName","expiration",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","placeholder","Device Limit","formControlName","deviceLimit","autocomplete","off",3,"ngModel","ngModelChange"],["matInput","","placeholder","User Limit","formControlName","userLimit","autocomplete","off",3,"ngModel","ngModelChange"],["matInput","","placeholder","Token","formControlName","token","autocomplete","off"],["formArrayName","attributes",4,"ngFor","ngForOf"],[1,"button"],["mat-stroked-button","","color","primary",1,"btn-block",3,"disabled","click"],[3,"value"],["matInput","","placeholder","Customer","formControlName","customer_id","required","",3,"matAutocomplete","keyup"],["class","customerInfo",4,"ngIf"],["auto","matAutocomplete"],[1,"customerInfo"],["matInput","","placeholder","Reseller","formControlName","customer_id","required","",3,"matAutocomplete","keyup"],["type","hide",2,"width","100px","height","50px",3,"src"],["formArrayName","attributes"],[3,"formArrayName"],["trim","blur","matInput","","placeholder","Name","formControlName","name","autocomplete","off"],["trim","blur","matInput","","placeholder","Value","formControlName","value","autocomplete","off"]],template:function(e,t){if(1&e){const e=m.gc();m.fc(0,"mat-card",0),m.fc(1,"div",1),m.fc(2,"a",2),m.nc("click",(function(){return t.goBack()})),m.fc(3,"mat-icon",3),m.Tc(4,"arrow_back"),m.ec(),m.ec(),m.fc(5,"mat-card-title"),m.Tc(6,"User Add Form"),m.ec(),m.ec(),m.fc(7,"mat-card-content"),m.fc(8,"form",4),m.fc(9,"div",5),m.fc(10,"div",6),m.fc(11,"mat-form-field",7),m.ac(12,"input",8),m.ec(),m.fc(13,"mat-form-field",7),m.ac(14,"input",9),m.ec(),m.fc(15,"mat-form-field",7),m.ac(16,"input",10),m.ec(),m.fc(17,"mat-form-field",7),m.ac(18,"input",11),m.ec(),m.fc(19,"mat-form-field",7),m.fc(20,"mat-label"),m.Tc(21,"User Role"),m.ec(),m.fc(22,"mat-select",12,13),m.fc(24,"input",14),m.nc("keyup",(function(e){return t.applyFilter(e.target.value)})),m.ec(),m.fc(25,"a"),m.fc(26,"mat-icon",15),m.nc("click",(function(){return m.Kc(e),m.Gc(23).close()})),m.Tc(27,"clear"),m.ec(),m.ec(),m.Sc(28,$,2,2,"mat-option",16),m.ec(),m.ec(),m.fc(29,"mat-form-field",7),m.fc(30,"mat-label"),m.Tc(31,"User Type"),m.ec(),m.fc(32,"mat-select",17),m.nc("ngModelChange",(function(e){return t.onChange(e)}))("ngModelChange",(function(e){return t.isCustomer(e)})),m.Sc(33,j,2,2,"mat-option",16),m.ec(),m.ec(),m.Sc(34,V,9,3,"div",18),m.Sc(35,W,9,3,"div",18),m.fc(36,"mat-form-field",19),m.ac(37,"input",20),m.fc(38,"mat-hint",21),m.Tc(39," Only use alphanumeric [0-9a-zA-Z], few special characters [#&?$-_.+!*(),]. Use at least one small letter, one capital letter and one digit."),m.ec(),m.ec(),m.fc(40,"mat-form-field",7),m.ac(41,"input",22),m.fc(42,"mat-error"),m.Tc(43," password does not match "),m.ec(),m.ec(),m.fc(44,"mat-form-field",7),m.fc(45,"mat-label"),m.Tc(46,"Gender"),m.ec(),m.fc(47,"mat-select",23),m.Sc(48,X,2,2,"mat-option",16),m.ec(),m.ec(),m.fc(49,"mat-form-field",24),m.fc(50,"mat-label"),m.Tc(51,"Status"),m.ec(),m.fc(52,"mat-select",25),m.Sc(53,K,2,2,"mat-option",16),m.ec(),m.ec(),m.fc(54,"mat-form-field",24),m.ac(55,"textarea",26),m.ec(),m.fc(56,"div",24),m.fc(57,"mat-label",27),m.Tc(58,"Image "),m.ec(),m.fc(59,"input",28),m.nc("change",(function(e){return t.onFileSelected(e)})),m.ec(),m.Sc(60,H,1,1,"img",29),m.fc(61,"div"),m.fc(62,"small",30),m.Tc(63,"Image type should be .png, .jpg, .gif and file size 1 MB"),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(64,"div",6),m.fc(65,"mat-accordion",31),m.fc(66,"mat-expansion-panel",32),m.nc("opened",(function(){return t.setStep(1)})),m.fc(67,"mat-expansion-panel-header"),m.fc(68,"mat-panel-title"),m.fc(69,"mat-icon"),m.Tc(70,"add"),m.ec(),m.Tc(71," Preferences "),m.ec(),m.ec(),m.fc(72,"mat-form-field",7),m.ac(73,"input",33),m.ec(),m.fc(74,"mat-form-field",34),m.fc(75,"mat-label"),m.Tc(76,"Map Layer"),m.ec(),m.fc(77,"mat-select",35),m.Sc(78,J,2,2,"mat-option",16),m.ec(),m.ec(),m.fc(79,"mat-form-field",7),m.fc(80,"input",36),m.nc("ngModelChange",(function(e){return t.selectedLatitude=e})),m.ec(),m.ec(),m.fc(81,"mat-form-field",7),m.fc(82,"input",37),m.nc("ngModelChange",(function(e){return t.selectedLongitude=e})),m.ec(),m.ec(),m.fc(83,"mat-form-field",7),m.fc(84,"input",38),m.nc("ngModelChange",(function(e){return t.selectedZoom=e})),m.ec(),m.ec(),m.fc(85,"mat-form-field",34),m.fc(86,"mat-label"),m.Tc(87,"Coordinates Format"),m.ec(),m.fc(88,"mat-select",39),m.Sc(89,Q,2,2,"mat-option",16),m.ec(),m.ec(),m.fc(90,"mat-checkbox",40),m.Tc(91," 12 Hour Format "),m.ec(),m.ec(),m.ec(),m.fc(92,"mat-accordion",31),m.fc(93,"mat-expansion-panel",32),m.nc("opened",(function(){return t.setStep(2)})),m.fc(94,"mat-expansion-panel-header"),m.fc(95,"mat-panel-title"),m.fc(96,"mat-icon"),m.Tc(97,"add"),m.ec(),m.Tc(98," Permissions "),m.ec(),m.ec(),m.fc(99,"div"),m.fc(100,"mat-checkbox",41),m.Tc(101," Disabled "),m.ec(),m.ec(),m.fc(102,"div"),m.fc(103,"mat-checkbox",42),m.Tc(104," Admin "),m.ec(),m.ec(),m.fc(105,"div"),m.fc(106,"mat-checkbox",43),m.Tc(107," Readonly "),m.ec(),m.ec(),m.fc(108,"div"),m.fc(109,"mat-checkbox",44),m.Tc(110," Device Readonly "),m.ec(),m.ec(),m.fc(111,"div"),m.fc(112,"mat-checkbox",45),m.Tc(113," Limit Commands "),m.ec(),m.ec(),m.fc(114,"mat-form-field",7),m.fc(115,"mat-label"),m.Tc(116,"Expiration"),m.ec(),m.ac(117,"input",46),m.ac(118,"mat-datepicker-toggle",47),m.ac(119,"mat-datepicker",null,48),m.ec(),m.fc(121,"mat-form-field",7),m.fc(122,"input",49),m.nc("ngModelChange",(function(e){return t.selectedDeviceLimit=e})),m.ec(),m.ec(),m.fc(123,"mat-form-field",7),m.fc(124,"input",50),m.nc("ngModelChange",(function(e){return t.selectedUserLimit=e})),m.ec(),m.ec(),m.fc(125,"mat-form-field",7),m.ac(126,"input",51),m.ec(),m.ec(),m.ec(),m.fc(127,"mat-accordion",31),m.fc(128,"mat-expansion-panel",32),m.nc("opened",(function(){return t.setStep(3)})),m.fc(129,"mat-expansion-panel-header"),m.fc(130,"mat-panel-title"),m.fc(131,"mat-icon"),m.Tc(132,"add"),m.ec(),m.Tc(133," Attributes "),m.ec(),m.ec(),m.Sc(134,ee,6,9,"div",52),m.fc(135,"button",2),m.nc("click",(function(){return t.addassignTicket()})),m.fc(136,"mat-icon"),m.Tc(137,"add"),m.ec(),m.ec(),m.ec(),m.ec(),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(138,"mat-card-actions",53),m.fc(139,"button",54),m.nc("click",(function(){return t.addUser()})),m.Tc(140," Submit "),m.ec(),m.fc(141,"p"),m.Tc(142,"Note: Field marked with * is Mandatory"),m.ec(),m.ec(),m.ec()}if(2&e){const e=m.Gc(120);m.Ob(8),m.yc("formGroup",t.myform),m.Ob(3),m.yc("ngClass",m.Dc(40,Y,t.tr,t.fa)),m.Ob(2),m.yc("ngClass",m.Dc(43,Y,t.tr,t.fa)),m.Ob(2),m.yc("ngClass",m.Dc(46,Y,t.tr,t.fa)),m.Ob(2),m.yc("ngClass",m.Dc(49,Y,t.tr,t.fa)),m.Ob(2),m.yc("ngClass",m.Dc(52,Y,t.tr,t.fa)),m.Ob(9),m.yc("ngForOf",t.userRoles),m.Ob(1),m.yc("ngClass",m.Dc(55,Y,t.tr,t.fa)),m.Ob(4),m.yc("ngForOf",t.userTypes),m.Ob(1),m.yc("ngIf",1==t.showCustommerField),m.Ob(1),m.yc("ngIf",1==t.showResellerField),m.Ob(5),m.yc("ngClass",m.Dc(58,Y,t.tr,t.fa)),m.Ob(4),m.yc("ngClass",m.Dc(61,Y,t.tr,t.fa)),m.Ob(4),m.yc("ngForOf",t.gend),m.Ob(5),m.yc("ngForOf",t.states),m.Ob(7),m.yc("ngIf",t.imgurl),m.Ob(6),m.yc("expanded",1===t.step),m.Ob(6),m.yc("ngClass",m.Dc(64,Y,t.tr,t.fa)),m.Ob(2),m.yc("ngClass",m.Dc(67,Y,t.tr,t.fa)),m.Ob(4),m.yc("ngForOf",t.mapTypes),m.Ob(1),m.yc("ngClass",m.Dc(70,Y,t.tr,t.fa)),m.Ob(1),m.yc("ngModel",t.selectedLatitude),m.Ob(1),m.yc("ngClass",m.Dc(73,Y,t.tr,t.fa)),m.Ob(1),m.yc("ngModel",t.selectedLongitude),m.Ob(1),m.yc("ngClass",m.Dc(76,Y,t.tr,t.fa)),m.Ob(1),m.yc("ngModel",t.selectedZoom),m.Ob(1),m.yc("ngClass",m.Dc(79,Y,t.tr,t.fa)),m.Ob(4),m.yc("ngForOf",t.formats),m.Ob(4),m.yc("expanded",2===t.step),m.Ob(21),m.yc("ngClass",m.Dc(82,Y,t.tr,t.fa)),m.Ob(3),m.yc("matDatepicker",e),m.Ob(1),m.yc("for",e),m.Ob(3),m.yc("ngClass",m.Dc(85,Y,t.tr,t.fa)),m.Ob(1),m.yc("ngModel",t.selectedDeviceLimit),m.Ob(1),m.yc("ngClass",m.Dc(88,Y,t.tr,t.fa)),m.Ob(1),m.yc("ngModel",t.selectedUserLimit),m.Ob(1),m.yc("ngClass",m.Dc(91,Y,t.tr,t.fa)),m.Ob(3),m.yc("expanded",3===t.step),m.Ob(6),m.yc("ngForOf",t.myform.get("attributes").controls),m.Ob(5),m.yc("disabled",!t.myform.valid)}},directives:[h.a,M.a,h.f,h.c,r.v,r.o,r.g,A.b,A.a,p.c,i.k,B.a,g.b,r.c,r.n,r.f,r.t,r.j,p.g,S.a,i.l,i.m,r.r,p.f,p.b,N.a,N.c,N.d,N.e,R.a,U.c,U.f,p.h,U.b,h.b,b.b,O.o,F.c,F.a,L.a,L.b,Z.a,r.d],styles:["mat-card[_ngcontent-%COMP%]{width:90%;top:0}.main[_ngcontent-%COMP%]{width:100%}.mainContent[_ngcontent-%COMP%]{width:50%}.optionalContent[_ngcontent-%COMP%]{width:50%;margin-top:-370px;float:right}.customStyle[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.mat-stroked-button[_ngcontent-%COMP%]{width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}.image[_ngcontent-%COMP%]{margin-right:10px}.checkbox[_ngcontent-%COMP%]{margin-left:15px}mat-grid-tile[_ngcontent-%COMP%]{background:#add8e6}.button[_ngcontent-%COMP%]{margin-top:35px}.filterBox[_ngcontent-%COMP%]{width:150px;height:25px;margin-left:10px;margin-top:5px;margin-bottom:5px;border-radius:10px 10px 10px 10px;border:2px solid #000}.customerInfo[_ngcontent-%COMP%]{margin-left:5%;font-size:12px}.pwd[_ngcontent-%COMP%]{width:90%;margin-left:5%;margin-bottom:3%}.imagehint[_ngcontent-%COMP%]{color:grey;margin-left:0}.back[_ngcontent-%COMP%]{float:left}"]}),e})();function ce(e,t){if(1&e&&(m.fc(0,"mat-option",45),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.yc("value",e.id),m.Ob(1),m.Vc(" ",e.name," ")}}function ie(e,t){if(1&e&&(m.fc(0,"mat-option",45),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.yc("value",e.value),m.Ob(1),m.Vc(" ",e.value," ")}}function re(e,t){if(1&e&&(m.fc(0,"span",50),m.Tc(1),m.ec()),2&e){const e=m.rc(2);m.Ob(1),m.Wc("Name: ",e.customerInfo.name," Email:",e.customerInfo.email,"")}}function oe(e,t){if(1&e){const e=m.gc();m.fc(0,"mat-option",45),m.fc(1,"mat-list"),m.fc(2,"mat-list-item",2),m.nc("click",(function(){m.Kc(e);const c=t.$implicit;return m.rc(2).onChangeCustomer(c)})),m.Tc(3),m.ec(),m.ac(4,"mat-divider"),m.ec(),m.ec()}if(2&e){const e=t.$implicit;m.yc("value",e.customer_id),m.Ob(3),m.Wc(" ",e.name,"(",e.customer_id,") ")}}function ae(e,t){if(1&e){const e=m.gc();m.fc(0,"div"),m.fc(1,"mat-form-field",22),m.fc(2,"input",46),m.nc("ngModelChange",(function(t){return m.Kc(e),m.rc().customer_id=t}))("keyup",(function(t){return m.Kc(e),m.rc().applySearch(t.target.value)})),m.ec(),m.fc(3,"mat-hint",47),m.Tc(4,"Please input customer id"),m.ec(),m.ec(),m.Sc(5,re,2,2,"span",48),m.fc(6,"mat-autocomplete",null,49),m.Sc(8,oe,5,3,"mat-option",16),m.ec(),m.ec()}if(2&e){const e=m.Gc(7),t=m.rc();m.Ob(2),m.yc("matAutocomplete",e)("ngModel",t.customer_id),m.Ob(3),m.yc("ngIf",t.customerInfo),m.Ob(3),m.yc("ngForOf",t.customerData)}}function se(e,t){if(1&e&&(m.fc(0,"span",50),m.Tc(1),m.ec()),2&e){const e=m.rc(2);m.Ob(1),m.Wc("Name: ",e.customerInfo.name," Email:",e.customerInfo.email,"")}}function ne(e,t){if(1&e){const e=m.gc();m.fc(0,"mat-option",45),m.fc(1,"mat-list"),m.fc(2,"mat-list-item",2),m.nc("click",(function(){m.Kc(e);const c=t.$implicit;return m.rc(2).onChangeCustomer(c)})),m.Tc(3),m.ec(),m.ac(4,"mat-divider"),m.ec(),m.ec()}if(2&e){const e=t.$implicit;m.yc("value",e.customer_id),m.Ob(3),m.Wc(" ",e.name,"(",e.customer_id,") ")}}function le(e,t){if(1&e){const e=m.gc();m.fc(0,"div"),m.fc(1,"mat-form-field",22),m.fc(2,"input",51),m.nc("ngModelChange",(function(t){return m.Kc(e),m.rc().customer_id=t}))("keyup",(function(t){return m.Kc(e),m.rc().resellerSearch(t.target.value)})),m.ec(),m.fc(3,"mat-hint",47),m.Tc(4," Please input reseller id"),m.ec(),m.ec(),m.Sc(5,se,2,2,"span",48),m.fc(6,"mat-autocomplete",null,49),m.Sc(8,ne,5,3,"mat-option",16),m.ec(),m.ec()}if(2&e){const e=m.Gc(7),t=m.rc();m.Ob(2),m.yc("matAutocomplete",e)("ngModel",t.customer_id),m.Ob(3),m.yc("ngIf",t.customerInfo),m.Ob(3),m.yc("ngForOf",t.resellerData)}}function ue(e,t){if(1&e&&(m.fc(0,"mat-option",45),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.yc("value",e.value),m.Ob(1),m.Vc(" ",e.value," ")}}function me(e,t){if(1&e&&(m.fc(0,"mat-option",45),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.yc("value",e.id),m.Ob(1),m.Vc(" ",e.value," ")}}function de(e,t){if(1&e&&(m.fc(0,"mat-option",45),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.yc("value",e.id),m.Ob(1),m.Vc(" ",e.value," ")}}function fe(e,t){if(1&e&&(m.fc(0,"mat-option",45),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.yc("value",e.id),m.Ob(1),m.Vc(" ",e.value," ")}}const he=function(e,t){return{full:e,half:t}};function pe(e,t){if(1&e&&(m.fc(0,"div",52),m.fc(1,"div",53),m.fc(2,"mat-form-field",7),m.ac(3,"input",54),m.ec(),m.fc(4,"mat-form-field",7),m.ac(5,"input",55),m.ec(),m.ec(),m.ec()),2&e){const e=t.index,c=m.rc();m.Ob(1),m.yc("formArrayName",e),m.Ob(1),m.yc("ngClass",m.Dc(3,he,c.tr,c.fa)),m.Ob(2),m.yc("ngClass",m.Dc(6,he,c.tr,c.fa))}}let ge=(()=>{class e{constructor(e,t,c,i,r,o,a,s){this.fb=e,this.router=t,this.snackBar=c,this.userService=i,this.rolesService=r,this.route=o,this.customerService=a,this.mediaObserver=s,this.customerIndex=[],this.imgurl=null,this.fileUpload=null,this.object={},this.fieldArray=[],this.submitted=!1,this.mapTypes=[{id:1,value:"OpenStree Map"},{id:2,value:"Bing Map"},{id:3,value:"Baidu Map"},{id:4,value:"Google Map"}],this.formats=[{id:1,value:"Decimal Degrees"},{id:2,value:"Degress Decimal Minutes"},{id:3,value:"Degrees Minutes Seconds"}],this.states=[{id:1,value:"Active"},{id:0,value:"Inactive"}],this.roles=[{id:1,value:"Admin"},{id:0,value:"User"}],this.gend=[{value:"Male"},{value:"Female"},{value:"Others"}],this.userTypes=[{value:"Admin"},{value:"Reseller"},{value:"Customer"}],this.step=0}setStep(e){this.step=e}ngOnInit(){this.myform=this.fb.group({firstName:["",[r.u.required]],lastName:["",[r.u.required]],mobile:["",r.u.pattern("[- +()0-9]+")],email:["",[r.u.required,r.u.email]],address:[""],customer_id:[""],gender:[""],userRole:["",[r.u.required]],userType:[""],mapLayer:[""],latitude:[""],longitude:[""],zoom:[],hourFormat:[],cordinatesFormat:[""],poiLayer:[],disabled:[],admin:[],readonly:[],deviceReadonly:[],limitCommands:[],expiration:[],deviceLimit:[],userLimit:[],token:[""],created_by:[""],status:[,[r.u.required]],attributes:this.fb.array([])}),this.route.paramMap.subscribe(e=>{this.Id=e.get("id"),this.edit(this.Id)}),this.getAllRole(),this.getAllCustomer(),this.mediaSub=this.mediaObserver.media$.subscribe(e=>{"xs"==e.mqAlias?(this.tr=!0,this.fa=!1):(this.tr=!1,this.fa=!0)})}assignAttributes(){return this.fb.group({name:[""],value:[""]})}get fArray(){return this.myform.get("attributes")}addassignTicket(){this.fArray.push(this.assignAttributes())}getAllRole(){this.rolesService.getAllRole().subscribe(e=>{this.userRoles=e,this.filterRoles=this.userRoles})}openSnackBar(){this.snackBar.open("Successfully updated!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}errorMessage(){this.snackBar.open("Something is error!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}edit(e){this.userService.getUserById(e).subscribe(e=>{this.d=e,console.log(this.d);var t=JSON.parse(this.d.attributes),c=Object.entries(t);this.attr=[],c.forEach(e=>{this.attr.push({name:e[0],value:e[1]})}),this.d.attributes=this.attr,console.log(this.d.attributes),this.setData(this.d)})}setData(e){this.myform.patchValue({firstName:e.first_name,lastName:e.last_name,mobile:e.phone,email:e.email,address:e.address,gender:e.gender,userRole:e.user_role,userType:e.user_type,mapLayer:e.map,latitude:e.latitude,longitude:e.longitude,zoom:e.zoom,hourFormat:e.twelvehourformat,cordinatesFormat:e.cordinatesformat,poiLayer:e.poilayer,disabled:e.disabled,admin:e.administrator,readonly:e.readonly,deviceReadonly:e.devicereadonly,limitCommands:e.limitcommands,expiration:e.expirationtime,deviceLimit:e.devicelimit,userLimit:e.userlimit,token:e.token,status:e.status}),0==e.customer_id&&(this.customer_id=""),0!=e.customer_id&&(this.customer_id=e.customer_id),this.createdBy=e.created_by,this.image=e.image,this.password=e.password,this.setAttributes()}setAttributes(){let e=this.myform.controls.attributes;this.d.attributes.forEach(t=>{e.push(this.fb.group(t))})}applyFilter(e){this.userRoles=this.filterRoles.filter(t=>t.name.toLowerCase().indexOf(e)>-1)}getAllCustomer(){this.customerService.getAllCustomerList().subscribe(e=>{this.customers=e,console.log(this.customers),this.customers.forEach((e,t)=>{this.customerIndex[e.customer_id]=this.customers[t]})})}applySearch(e){this.customerService.customerSearch({name:e}).subscribe(e=>{this.customerData=e,console.log(this.customerData)})}resellerSearch(e){this.customerService.resellerSearch({name:e}).subscribe(e=>{this.resellerData=e,console.log(this.resellerData)})}onChangeCustomer(e){this.myform.value.customer_id=e.customer_id,this.customerInfo=e}onChange(e){console.log(e),"Customer"==e?(this.showCustommerField=1,this.showResellerField=0,console.log(this.showCustommerField)):"Reseller"==e?(this.showResellerField=1,this.showCustommerField=0):(this.showCustommerField=0,this.showResellerField=0)}isCustomer(e){const t=this.myform.get("customer_id");"Customer"===e?t.setValidators(r.u.required):t.clearValidators(),t.updateValueAndValidity()}goBack(){this.router.navigate(["admin/authorization/users/list"])}updateUser(){this.myform.markAllAsTouched(),this.submitted=!0,this.myform.invalid||(this.myform.value.attributes.forEach(e=>{this.object[e.name]=e.value}),this.myform.value.attributes=this.object,this.userData=JSON.parse(localStorage.getItem("userData")),this.myform.value.updated_by=this.userData.id,this.myform.value.updated_time=new Date,this.myform.value.created_by=this.createdBy,this.myform.value.password=this.userData.password,this.myform.value.image=this.userData.image,this.myform.value.customer_id=this.customer_id,this.userService.updateUser(this.Id,this.myform.value).subscribe(e=>{this.openSnackBar(),this.router.navigate(["admin/authorization/users/list"])}))}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(r.e),m.Zb(n.c),m.Zb(f.a),m.Zb(d.a),m.Zb(T.a),m.Zb(n.a),m.Zb(I.a),m.Zb(P.g))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-user-edit"]],decls:122,vars:86,consts:[[1,"customStyle"],[1,"title-style"],[3,"click"],[1,"back"],[3,"formGroup"],["fxLayout","row","fxLayout.xs","column",1,"main"],["fxFlex","50%"],[3,"ngClass"],["trim","blur","matInput","","placeholder","First Name","formControlName","firstName","autocomplete","off","required",""],["trim","blur","matInput","","placeholder","Last Name","formControlName","lastName","autocomplete","off","required",""],["trim","blur","matInput","","placeholder","Contact Number","formControlName","mobile","autocomplete","off","required",""],["trim","blur","matInput","","placeholder","Email","formControlName","email","autocomplete","off","required",""],["formControlName","userRole","required",""],["sl",""],["matInput","","placeholder","search","autocomplete","off",1,"filterBox",3,"keyup"],[1,"closeButton",3,"click"],[3,"value",4,"ngFor","ngForOf"],["formControlName","userType","required","",3,"ngModelChange"],[4,"ngIf"],["formControlName","gender"],["required","",3,"ngClass"],["formControlName","status","required",""],[1,"full"],["matInput","","placeholder","Address","formControlName","address","autocomplete","off"],[1,"example-headers-align"],["hideToggle","",3,"expanded","opened"],["matInput","","placeholder","POI Layer","formControlName","poiLayer","autocomplete","off"],["formControlName","mapLayer"],["matInput","","placeholder","Latitude","formControlName","latitude","autocomplete","off"],["matInput","","placeholder","Longitude","formControlName","longitude","autocomplete","off"],["matInput","","placeholder","Zoom","formControlName","zoom","autocomplete","off"],["formControlName","cordinatesFormat"],["formControlName","hourFormat","labelPosition","before",1,"checkbox"],["formControlName","disabled","labelPosition","before",1,"checkbox"],["formControlName","admin","labelPosition","before",1,"checkbox"],["formControlName","readonly","labelPosition","before",1,"checkbox"],["formControlName","deviceReadonly","labelPosition","before",1,"checkbox"],["formControlName","limitCommands","labelPosition","before",1,"checkbox"],["matInput","","placeholder","Expiration","formControlName","expiration","autocomplete","off"],["matInput","","placeholder","Device Limit","formControlName","deviceLimit","autocomplete","off"],["matInput","","placeholder","User Limit","formControlName","userLimit","autocomplete","off"],["matInput","","placeholder","Token","formControlName","token","autocomplete","off"],["formArrayName","attributes",4,"ngFor","ngForOf"],[1,"button"],["mat-stroked-button","","color","primary",1,"btn-block",3,"disabled","click"],[3,"value"],["matInput","","placeholder","Customer","formControlName","customer_id","required","",3,"matAutocomplete","ngModel","ngModelChange","keyup"],["align","end"],["class","customerInfo",4,"ngIf"],["auto","matAutocomplete"],[1,"customerInfo"],["matInput","","placeholder","Reseller","formControlName","customer_id","required","",3,"matAutocomplete","ngModel","ngModelChange","keyup"],["formArrayName","attributes"],[3,"formArrayName"],["trim","blur","matInput","","placeholder","Name","formControlName","name","autocomplete","off"],["trim","blur","matInput","","placeholder","Value","formControlName","value","autocomplete","off"]],template:function(e,t){if(1&e){const e=m.gc();m.fc(0,"mat-card",0),m.fc(1,"div",1),m.fc(2,"a",2),m.nc("click",(function(){return t.goBack()})),m.fc(3,"mat-icon",3),m.Tc(4,"arrow_back"),m.ec(),m.ec(),m.fc(5,"mat-card-title"),m.Tc(6,"User Update Form"),m.ec(),m.ec(),m.fc(7,"mat-card-content"),m.fc(8,"form",4),m.fc(9,"div",5),m.fc(10,"div",6),m.fc(11,"mat-form-field",7),m.ac(12,"input",8),m.ec(),m.fc(13,"mat-form-field",7),m.ac(14,"input",9),m.ec(),m.fc(15,"mat-form-field",7),m.ac(16,"input",10),m.ec(),m.fc(17,"mat-form-field",7),m.ac(18,"input",11),m.ec(),m.fc(19,"mat-form-field",7),m.fc(20,"mat-label"),m.Tc(21,"User Role"),m.ec(),m.fc(22,"mat-select",12,13),m.fc(24,"input",14),m.nc("keyup",(function(e){return t.applyFilter(e.target.value)})),m.ec(),m.fc(25,"a"),m.fc(26,"mat-icon",15),m.nc("click",(function(){return m.Kc(e),m.Gc(23).close()})),m.Tc(27,"clear"),m.ec(),m.ec(),m.Sc(28,ce,2,2,"mat-option",16),m.ec(),m.ec(),m.fc(29,"mat-form-field",7),m.fc(30,"mat-label"),m.Tc(31,"User Type"),m.ec(),m.fc(32,"mat-select",17),m.nc("ngModelChange",(function(e){return t.onChange(e)}))("ngModelChange",(function(e){return t.isCustomer(e)})),m.Sc(33,ie,2,2,"mat-option",16),m.ec(),m.ec(),m.Sc(34,ae,9,4,"div",18),m.Sc(35,le,9,4,"div",18),m.fc(36,"mat-form-field",7),m.fc(37,"mat-label"),m.Tc(38,"Gender"),m.ec(),m.fc(39,"mat-select",19),m.Sc(40,ue,2,2,"mat-option",16),m.ec(),m.ec(),m.fc(41,"mat-form-field",20),m.fc(42,"mat-label"),m.Tc(43,"Status"),m.ec(),m.fc(44,"mat-select",21),m.Sc(45,me,2,2,"mat-option",16),m.ec(),m.ec(),m.fc(46,"mat-form-field",22),m.ac(47,"textarea",23),m.ec(),m.ec(),m.fc(48,"div",6),m.fc(49,"mat-accordion",24),m.fc(50,"mat-expansion-panel",25),m.nc("opened",(function(){return t.setStep(1)})),m.fc(51,"mat-expansion-panel-header"),m.fc(52,"mat-panel-title"),m.fc(53,"mat-icon"),m.Tc(54,"add"),m.ec(),m.Tc(55," Preferences "),m.ec(),m.ec(),m.fc(56,"mat-form-field",7),m.ac(57,"input",26),m.ec(),m.fc(58,"mat-form-field",20),m.fc(59,"mat-label"),m.Tc(60,"Map Layer"),m.ec(),m.fc(61,"mat-select",27),m.Sc(62,de,2,2,"mat-option",16),m.ec(),m.ec(),m.fc(63,"mat-form-field",7),m.ac(64,"input",28),m.ec(),m.fc(65,"mat-form-field",7),m.ac(66,"input",29),m.ec(),m.fc(67,"mat-form-field",7),m.ac(68,"input",30),m.ec(),m.fc(69,"mat-form-field",7),m.fc(70,"mat-label"),m.Tc(71,"Coordinates Format"),m.ec(),m.fc(72,"mat-select",31),m.Sc(73,fe,2,2,"mat-option",16),m.ec(),m.ec(),m.fc(74,"mat-checkbox",32),m.Tc(75," 12 Hour Format "),m.ec(),m.ec(),m.ec(),m.fc(76,"mat-accordion",24),m.fc(77,"mat-expansion-panel",25),m.nc("opened",(function(){return t.setStep(2)})),m.fc(78,"mat-expansion-panel-header"),m.fc(79,"mat-panel-title"),m.fc(80,"mat-icon"),m.Tc(81,"add"),m.ec(),m.Tc(82," Permissions "),m.ec(),m.ec(),m.fc(83,"div"),m.fc(84,"mat-checkbox",33),m.Tc(85," Disabled "),m.ec(),m.ec(),m.fc(86,"div"),m.fc(87,"mat-checkbox",34),m.Tc(88," Admin "),m.ec(),m.ec(),m.fc(89,"div"),m.fc(90,"mat-checkbox",35),m.Tc(91," Readonly "),m.ec(),m.ec(),m.fc(92,"div"),m.fc(93,"mat-checkbox",36),m.Tc(94," Device Readonly "),m.ec(),m.ec(),m.fc(95,"div"),m.fc(96,"mat-checkbox",37),m.Tc(97," Limit Commands "),m.ec(),m.ec(),m.fc(98,"mat-form-field",7),m.ac(99,"input",38),m.ec(),m.fc(100,"mat-form-field",7),m.ac(101,"input",39),m.ec(),m.fc(102,"mat-form-field",7),m.ac(103,"input",40),m.ec(),m.fc(104,"mat-form-field",7),m.ac(105,"input",41),m.ec(),m.ec(),m.ec(),m.fc(106,"mat-accordion",24),m.fc(107,"mat-expansion-panel",25),m.nc("opened",(function(){return t.setStep(3)})),m.fc(108,"mat-expansion-panel-header"),m.fc(109,"mat-panel-title"),m.fc(110,"mat-icon"),m.Tc(111,"add"),m.ec(),m.Tc(112," Attributes "),m.ec(),m.ec(),m.Sc(113,pe,6,9,"div",42),m.fc(114,"button",2),m.nc("click",(function(){return t.addassignTicket()})),m.fc(115,"mat-icon"),m.Tc(116,"add"),m.ec(),m.ec(),m.ec(),m.ec(),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(117,"mat-card-actions",43),m.fc(118,"button",44),m.nc("click",(function(){return t.updateUser()})),m.Tc(119," Update "),m.ec(),m.fc(120,"p"),m.Tc(121,"Note: Field marked with * is Mandatory"),m.ec(),m.ec(),m.ec()}2&e&&(m.Ob(8),m.yc("formGroup",t.myform),m.Ob(3),m.yc("ngClass",m.Dc(32,he,t.tr,t.fa)),m.Ob(2),m.yc("ngClass",m.Dc(35,he,t.tr,t.fa)),m.Ob(2),m.yc("ngClass",m.Dc(38,he,t.tr,t.fa)),m.Ob(2),m.yc("ngClass",m.Dc(41,he,t.tr,t.fa)),m.Ob(2),m.yc("ngClass",m.Dc(44,he,t.tr,t.fa)),m.Ob(9),m.yc("ngForOf",t.userRoles),m.Ob(1),m.yc("ngClass",m.Dc(47,he,t.tr,t.fa)),m.Ob(4),m.yc("ngForOf",t.userTypes),m.Ob(1),m.yc("ngIf",1==t.showCustommerField),m.Ob(1),m.yc("ngIf",1==t.showResellerField),m.Ob(1),m.yc("ngClass",m.Dc(50,he,t.tr,t.fa)),m.Ob(4),m.yc("ngForOf",t.gend),m.Ob(1),m.yc("ngClass",m.Dc(53,he,t.tr,t.fa)),m.Ob(4),m.yc("ngForOf",t.states),m.Ob(5),m.yc("expanded",1===t.step),m.Ob(6),m.yc("ngClass",m.Dc(56,he,t.tr,t.fa)),m.Ob(2),m.yc("ngClass",m.Dc(59,he,t.tr,t.fa)),m.Ob(4),m.yc("ngForOf",t.mapTypes),m.Ob(1),m.yc("ngClass",m.Dc(62,he,t.tr,t.fa)),m.Ob(2),m.yc("ngClass",m.Dc(65,he,t.tr,t.fa)),m.Ob(2),m.yc("ngClass",m.Dc(68,he,t.tr,t.fa)),m.Ob(2),m.yc("ngClass",m.Dc(71,he,t.tr,t.fa)),m.Ob(4),m.yc("ngForOf",t.formats),m.Ob(4),m.yc("expanded",2===t.step),m.Ob(21),m.yc("ngClass",m.Dc(74,he,t.tr,t.fa)),m.Ob(2),m.yc("ngClass",m.Dc(77,he,t.tr,t.fa)),m.Ob(2),m.yc("ngClass",m.Dc(80,he,t.tr,t.fa)),m.Ob(2),m.yc("ngClass",m.Dc(83,he,t.tr,t.fa)),m.Ob(3),m.yc("expanded",3===t.step),m.Ob(6),m.yc("ngForOf",t.myform.get("attributes").controls),m.Ob(5),m.yc("disabled",!t.myform.valid))},directives:[h.a,M.a,h.f,h.c,r.v,r.o,r.g,A.b,A.a,p.c,i.k,B.a,g.b,r.c,r.n,r.f,r.t,p.g,S.a,i.l,i.m,N.a,N.c,N.d,N.e,R.a,h.b,b.b,O.o,F.c,p.f,F.a,L.a,L.b,Z.a,r.d],styles:["mat-card[_ngcontent-%COMP%]{width:90%;top:0}.main[_ngcontent-%COMP%]{width:100%}.mainContent[_ngcontent-%COMP%]{width:50%}.optionalContent[_ngcontent-%COMP%]{width:50%;margin-top:-280px;float:right}.customStyle[_ngcontent-%COMP%]{border-radius:10px 10px 10px 10px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{margin-top:1%;margin-bottom:1%;color:#1a237e;text-align:center!important}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.mat-stroked-button[_ngcontent-%COMP%]{width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}.image[_ngcontent-%COMP%]{margin-right:10px}.checkbox[_ngcontent-%COMP%]{margin-left:15px}mat-grid-tile[_ngcontent-%COMP%]{background:#add8e6}.button[_ngcontent-%COMP%]{margin-top:35px}.filterBox[_ngcontent-%COMP%]{width:150px;height:25px;margin-left:10px;margin-top:5px;margin-bottom:5px;border-radius:10px 10px 10px 10px;border:2px solid #000}.customerInfo[_ngcontent-%COMP%]{margin-left:5%;font-size:12px}.back[_ngcontent-%COMP%], .back_button[_ngcontent-%COMP%]{float:left}"]}),e})();var be=c("M9IT"),ve=c("Dh3D"),ye=c("+0xr"),Ce=c("0IaG"),Se=c("1jOF"),Oe=c("H0VJ");function De(e,t){1&e&&m.ac(0,"th",11)}function we(e,t){if(1&e){const e=m.gc();m.fc(0,"td",12),m.fc(1,"mat-checkbox",13),m.nc("change",(function(c){m.Kc(e);const i=t.$implicit;return m.rc().check(c.checked,i)})),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.yc("checked",c.checkState(e.id))}}function xe(e,t){1&e&&(m.fc(0,"th",11),m.Tc(1,"Name"),m.ec())}function ke(e,t){if(1&e&&(m.fc(0,"td",12),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Uc(e.name)}}function Te(e,t){1&e&&(m.fc(0,"th",11),m.Tc(1,"Identifer"),m.ec())}function Ie(e,t){if(1&e&&(m.fc(0,"td",12),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Uc(e.identifier)}}function Pe(e,t){1&e&&m.ac(0,"tr",14)}function _e(e,t){1&e&&m.ac(0,"tr",15)}let Me=(()=>{class e{constructor(e,t,c,i,r,o,a){this.driverService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=r,this.dialog=o,this.data=a,this.dataSource=new ye.k([]),this.displayedColumns=["select","name","identifier"],this.Id=a.customer_id,this.user_id=a.user_id}ngOnInit(){this.getAllDriverByCustomer(),this.getAllDeviceByUser()}getAllDriverByCustomer(){this.driverService.getDriverByCustomerId(this.Id).subscribe(e=>{this.customerDrivers=e,this.dataSource=new ye.k(this.customerDrivers),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllDeviceByUser(){this.driverService.getDriverByUserId(this.user_id).subscribe(e=>{this.userDrivers=e,this.userDrivers&&this.userDrivers.forEach(e=>{this.userDrivers.push(e.driverid)})})}close(){this.dialogRef.close()}checkState(e){if(this.userDrivers)return this.userDrivers.indexOf(e)>-1}check(e,t){e?(this.object={userId:this.user_id,driverId:t.id},this.driverService.addDriverWithUser(this.object).subscribe()):(this.object={userId:this.user_id,driverId:t.id},this.driverService.deleteUserDriver(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(Se.a),m.Zb(f.a),m.Zb(n.c),m.Zb(Oe.a),m.Zb(Ce.f),m.Zb(Ce.b),m.Zb(Ce.a,8))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-driver-user"]],viewQuery:function(e,t){var c;1&e&&(m.Xc(ve.a,!0),m.Xc(be.a,!0)),2&e&&(m.Fc(c=m.oc())&&(t.sort=c.first),m.Fc(c=m.oc())&&(t.paginator=c.first))},decls:20,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(m.fc(0,"div",0),m.fc(1,"div",1),m.fc(2,"h3"),m.Tc(3,"Driver Table"),m.ec(),m.fc(4,"span"),m.fc(5,"a"),m.fc(6,"mat-icon",2),m.nc("click",(function(){return t.close()})),m.Tc(7,"X"),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(8,"table",3),m.dc(9,4),m.Sc(10,De,1,0,"th",5),m.Sc(11,we,2,1,"td",6),m.cc(),m.dc(12,7),m.Sc(13,xe,2,0,"th",5),m.Sc(14,ke,2,1,"td",6),m.cc(),m.dc(15,8),m.Sc(16,Te,2,0,"th",5),m.Sc(17,Ie,2,1,"td",6),m.cc(),m.Sc(18,Pe,1,0,"tr",9),m.Sc(19,_e,1,0,"tr",10),m.ec(),m.ec()),2&e&&(m.Ob(8),m.yc("dataSource",t.dataSource),m.Ob(10),m.yc("matHeaderRowDef",t.displayedColumns),m.Ob(1),m.yc("matRowDefColumns",t.displayedColumns))},directives:[M.a,ye.j,a.a,ye.c,ye.e,ye.b,ye.g,ye.i,ye.d,ye.a,R.a,ye.f,ye.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:70%;margin-left:5%}"]}),e})();var Ae=c("Kqty");function Be(e,t){1&e&&m.ac(0,"th",12)}function Ne(e,t){if(1&e){const e=m.gc();m.fc(0,"td",13),m.fc(1,"mat-checkbox",14),m.nc("change",(function(c){m.Kc(e);const i=t.$implicit;return m.rc().check(c.checked,i)})),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.yc("checked",c.checkState(e.id))}}function Re(e,t){1&e&&(m.fc(0,"th",12),m.Tc(1,"Type of notification"),m.ec())}function Ue(e,t){if(1&e&&(m.fc(0,"td",13),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Uc(e.type)}}function Fe(e,t){1&e&&(m.fc(0,"th",12),m.Tc(1,"All Devices"),m.ec())}function Le(e,t){if(1&e&&(m.fc(0,"td",13),m.Tc(1),m.ec()),2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.Uc(null==c.states[e.always]?null:c.states[e.always].value)}}function Ze(e,t){1&e&&(m.fc(0,"th",12),m.Tc(1,"Channels"),m.ec())}function $e(e,t){if(1&e&&(m.fc(0,"td",13),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Uc(e.notificators)}}function je(e,t){1&e&&m.ac(0,"tr",15)}function Ee(e,t){1&e&&m.ac(0,"tr",16)}let qe=(()=>{class e{constructor(e,t,c,i,r,o,a){this.notificationService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=r,this.dialog=o,this.data=a,this.dataSource=new ye.k([]),this.states=[{id:0,value:"NO"},{id:1,value:"YES"}],this.displayedColumns=["select","name","identifier","always"],this.Id=a.pageValue}ngOnInit(){this.getAllNotification(),this.getAllNotificationByUser()}getAllNotification(){this.notificationService.getAllNotification().subscribe(e=>{console.log(e),this.notifications=e,this.dataSource=new ye.k(e),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllNotificationByUser(){this.notificationService.getNotificationByUserId(this.Id).subscribe(e=>{console.log(e),this.userNotifications=e,this.userNotifications.forEach(e=>{this.userNotifications.push(e.notificationid)})})}close(){this.dialogRef.close()}checkState(e){if(this.userNotifications)return this.userNotifications.indexOf(e)>-1}check(e,t){e?(this.object={userId:this.Id,notificationId:t.id},this.notificationService.addNotificationWithUser(this.object).subscribe()):(this.object={userId:this.Id,notificationId:t.id},this.notificationService.deleteUserNotification(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(Ae.a),m.Zb(f.a),m.Zb(n.c),m.Zb(Oe.a),m.Zb(Ce.f),m.Zb(Ce.b),m.Zb(Ce.a,8))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-notification-user"]],viewQuery:function(e,t){var c;1&e&&(m.Xc(ve.a,!0),m.Xc(be.a,!0)),2&e&&(m.Fc(c=m.oc())&&(t.sort=c.first),m.Fc(c=m.oc())&&(t.paginator=c.first))},decls:23,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","always"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(m.fc(0,"div",0),m.fc(1,"div",1),m.fc(2,"h3"),m.Tc(3,"Notification Table"),m.ec(),m.fc(4,"span"),m.fc(5,"a"),m.fc(6,"mat-icon",2),m.nc("click",(function(){return t.close()})),m.Tc(7,"X"),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(8,"table",3),m.dc(9,4),m.Sc(10,Be,1,0,"th",5),m.Sc(11,Ne,2,1,"td",6),m.cc(),m.dc(12,7),m.Sc(13,Re,2,0,"th",5),m.Sc(14,Ue,2,1,"td",6),m.cc(),m.dc(15,8),m.Sc(16,Fe,2,0,"th",5),m.Sc(17,Le,2,1,"td",6),m.cc(),m.dc(18,9),m.Sc(19,Ze,2,0,"th",5),m.Sc(20,$e,2,1,"td",6),m.cc(),m.Sc(21,je,1,0,"tr",10),m.Sc(22,Ee,1,0,"tr",11),m.ec(),m.ec()),2&e&&(m.Ob(8),m.yc("dataSource",t.dataSource),m.Ob(13),m.yc("matHeaderRowDef",t.displayedColumns),m.Ob(1),m.yc("matRowDefColumns",t.displayedColumns))},directives:[M.a,ye.j,a.a,ye.c,ye.e,ye.b,ye.g,ye.i,ye.d,ye.a,R.a,ye.f,ye.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),e})();var Ve=c("hrIc");function ze(e,t){1&e&&m.ac(0,"th",13)}function Ge(e,t){if(1&e){const e=m.gc();m.fc(0,"td",14),m.fc(1,"mat-checkbox",15),m.nc("change",(function(c){m.Kc(e);const i=t.$implicit;return m.rc().check(c.checked,i)})),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.yc("checked",c.checkState(e.id))}}function We(e,t){1&e&&(m.fc(0,"th",13),m.Tc(1,"Name"),m.ec())}function Xe(e,t){if(1&e&&(m.fc(0,"td",14),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Uc(e.name)}}function Ke(e,t){1&e&&(m.fc(0,"th",13),m.Tc(1,"Type"),m.ec())}function He(e,t){if(1&e&&(m.fc(0,"td",14),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Uc(e.type)}}function Je(e,t){1&e&&(m.fc(0,"th",13),m.Tc(1,"Start"),m.ec())}function Qe(e,t){if(1&e&&(m.fc(0,"td",14),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Uc(e.start)}}function Ye(e,t){1&e&&(m.fc(0,"th",13),m.Tc(1,"Period"),m.ec())}function et(e,t){if(1&e&&(m.fc(0,"td",14),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Uc(e.period)}}function tt(e,t){1&e&&m.ac(0,"tr",16)}function ct(e,t){1&e&&m.ac(0,"tr",17)}let it=(()=>{class e{constructor(e,t,c,i,r,o,a){this.maintenanceService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=r,this.dialog=o,this.data=a,this.dataSource=new ye.k([]),this.displayedColumns=["select","name","type","start","period"],this.Id=a.pageValue}ngOnInit(){this.getAllMaintenance(),this.getAllMaintenanceByUser()}getAllMaintenance(){this.maintenanceService.getAllMaintenance().subscribe(e=>{this.maintenance=e,this.dataSource=new ye.k(e),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllMaintenanceByUser(){this.maintenanceService.getMaintenanceByUserId(this.Id).subscribe(e=>{console.log(e),this.userMaintenance=e,this.userMaintenance.forEach(e=>{this.userMaintenance.push(e.maintenance_id)})})}close(){this.dialogRef.close()}checkState(e){if(this.userMaintenance)return this.userMaintenance.indexOf(e)>-1}check(e,t){e?(this.object={userId:this.Id,maintenanceId:t.id},this.maintenanceService.addMaintenanceWithUser(this.object).subscribe()):(this.object={userId:this.Id,maintenanceId:t.id},this.maintenanceService.deleteUserMaintenance(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(Ve.a),m.Zb(f.a),m.Zb(n.c),m.Zb(Oe.a),m.Zb(Ce.f),m.Zb(Ce.b),m.Zb(Ce.a,8))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-maintenance-user"]],viewQuery:function(e,t){var c;1&e&&(m.Xc(ve.a,!0),m.Xc(be.a,!0)),2&e&&(m.Fc(c=m.oc())&&(t.sort=c.first),m.Fc(c=m.oc())&&(t.paginator=c.first))},decls:26,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","type"],["matColumnDef","start"],["matColumnDef","period"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(m.fc(0,"div",0),m.fc(1,"div",1),m.fc(2,"h3"),m.Tc(3,"Maintenance Table"),m.ec(),m.fc(4,"span"),m.fc(5,"a"),m.fc(6,"mat-icon",2),m.nc("click",(function(){return t.close()})),m.Tc(7,"X"),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(8,"table",3),m.dc(9,4),m.Sc(10,ze,1,0,"th",5),m.Sc(11,Ge,2,1,"td",6),m.cc(),m.dc(12,7),m.Sc(13,We,2,0,"th",5),m.Sc(14,Xe,2,1,"td",6),m.cc(),m.dc(15,8),m.Sc(16,Ke,2,0,"th",5),m.Sc(17,He,2,1,"td",6),m.cc(),m.dc(18,9),m.Sc(19,Je,2,0,"th",5),m.Sc(20,Qe,2,1,"td",6),m.cc(),m.dc(21,10),m.Sc(22,Ye,2,0,"th",5),m.Sc(23,et,2,1,"td",6),m.cc(),m.Sc(24,tt,1,0,"tr",11),m.Sc(25,ct,1,0,"tr",12),m.ec(),m.ec()),2&e&&(m.Ob(8),m.yc("dataSource",t.dataSource),m.Ob(16),m.yc("matHeaderRowDef",t.displayedColumns),m.Ob(1),m.yc("matRowDefColumns",t.displayedColumns))},directives:[M.a,ye.j,a.a,ye.c,ye.e,ye.b,ye.g,ye.i,ye.d,ye.a,R.a,ye.f,ye.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),e})();var rt=c("9TBo");function ot(e,t){1&e&&m.ac(0,"th",11)}function at(e,t){if(1&e){const e=m.gc();m.fc(0,"td",12),m.fc(1,"mat-checkbox",13),m.nc("change",(function(c){m.Kc(e);const i=t.$implicit;return m.rc().check(c.checked,i)})),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.yc("checked",c.checkState(e.id))}}function st(e,t){1&e&&(m.fc(0,"th",11),m.Tc(1,"Description"),m.ec())}function nt(e,t){if(1&e&&(m.fc(0,"td",12),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Uc(e.description)}}function lt(e,t){1&e&&(m.fc(0,"th",11),m.Tc(1,"Attribute"),m.ec())}function ut(e,t){if(1&e&&(m.fc(0,"td",12),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Uc(e.attribute)}}function mt(e,t){1&e&&m.ac(0,"tr",14)}function dt(e,t){1&e&&m.ac(0,"tr",15)}let ft=(()=>{class e{constructor(e,t,c,i,r,o,a){this.attributeService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=r,this.dialog=o,this.data=a,this.dataSource=new ye.k([]),this.displayedColumns=["select","name","identifier"],this.Id=a.pageValue}ngOnInit(){this.getAllAttribute(),this.getAllAttributeByUser()}getAllAttribute(){this.attributeService.getAllAttribute().subscribe(e=>{this.attributes=e,this.dataSource=new ye.k(e),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllAttributeByUser(){this.attributeService.getAttributeByUserId(this.Id).subscribe(e=>{console.log(e),this.userAttributes=e,this.userAttributes.forEach(e=>{this.userAttributes.push(e.attributeid)})})}close(){this.dialogRef.close()}checkState(e){if(this.userAttributes)return this.userAttributes.indexOf(e)>-1}check(e,t){console.log(t.id),e?(this.object={userId:this.Id,attributeId:t.id},this.attributeService.addAttributeWithUser(this.object).subscribe()):(this.object={userId:this.Id,attributeId:t.id},this.attributeService.deleteUserAttribute(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(rt.a),m.Zb(f.a),m.Zb(n.c),m.Zb(Oe.a),m.Zb(Ce.f),m.Zb(Ce.b),m.Zb(Ce.a,8))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-attribute-user"]],viewQuery:function(e,t){var c;1&e&&(m.Xc(ve.a,!0),m.Xc(be.a,!0)),2&e&&(m.Fc(c=m.oc())&&(t.sort=c.first),m.Fc(c=m.oc())&&(t.paginator=c.first))},decls:20,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(m.fc(0,"div",0),m.fc(1,"div",1),m.fc(2,"h3"),m.Tc(3,"Attribute Table"),m.ec(),m.fc(4,"span"),m.fc(5,"a"),m.fc(6,"mat-icon",2),m.nc("click",(function(){return t.close()})),m.Tc(7,"X"),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(8,"table",3),m.dc(9,4),m.Sc(10,ot,1,0,"th",5),m.Sc(11,at,2,1,"td",6),m.cc(),m.dc(12,7),m.Sc(13,st,2,0,"th",5),m.Sc(14,nt,2,1,"td",6),m.cc(),m.dc(15,8),m.Sc(16,lt,2,0,"th",5),m.Sc(17,ut,2,1,"td",6),m.cc(),m.Sc(18,mt,1,0,"tr",9),m.Sc(19,dt,1,0,"tr",10),m.ec(),m.ec()),2&e&&(m.Ob(8),m.yc("dataSource",t.dataSource),m.Ob(10),m.yc("matHeaderRowDef",t.displayedColumns),m.Ob(1),m.yc("matRowDefColumns",t.displayedColumns))},directives:[M.a,ye.j,a.a,ye.c,ye.e,ye.b,ye.g,ye.i,ye.d,ye.a,R.a,ye.f,ye.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:70%;margin-left:5%}"]}),e})();var ht=c("9dHA");function pt(e,t){1&e&&m.ac(0,"th",12)}function gt(e,t){if(1&e){const e=m.gc();m.fc(0,"td",13),m.fc(1,"mat-checkbox",14),m.nc("change",(function(c){m.Kc(e);const i=t.$implicit;return m.rc().check(c.checked,i)})),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.yc("checked",c.checkState(e.id))}}function bt(e,t){1&e&&(m.fc(0,"th",12),m.Tc(1,"Type"),m.ec())}function vt(e,t){if(1&e&&(m.fc(0,"td",13),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Uc(e.type)}}function yt(e,t){1&e&&(m.fc(0,"th",12),m.Tc(1,"Description"),m.ec())}function Ct(e,t){if(1&e&&(m.fc(0,"td",13),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Uc(e.description)}}function St(e,t){1&e&&(m.fc(0,"th",12),m.Tc(1,"Send SMS"),m.ec())}function Ot(e,t){if(1&e&&(m.fc(0,"td",13),m.Tc(1),m.ec()),2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.Uc(null==c.sms[e.textchannel]?null:c.sms[e.textchannel].value)}}function Dt(e,t){1&e&&m.ac(0,"tr",15)}function wt(e,t){1&e&&m.ac(0,"tr",16)}let xt=(()=>{class e{constructor(e,t,c,i,r,o,a){this.commandService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=r,this.dialog=o,this.data=a,this.dataSource=new ye.k([]),this.displayedColumns=["select","name","description","sms"],this.sms=[{id:1,value:"true"},{id:0,value:"false"}],this.Id=a.pageValue}ngOnInit(){this.getAllCommand(),this.getAllCommandByUser()}getAllCommand(){this.commandService.getAllCommand().subscribe(e=>{this.commands=e,this.dataSource=new ye.k(e),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllCommandByUser(){this.commandService.getCommandByUserId(this.Id).subscribe(e=>{console.log(e),this.userCommands=e,this.userCommands.forEach(e=>{this.userCommands.push(e.commandid)})})}close(){this.dialogRef.close()}checkState(e){if(this.userCommands)return this.userCommands.indexOf(e)>-1}check(e,t){e?(this.object={userId:this.Id,commandId:t.id},this.commandService.addCommandWithUser(this.object).subscribe()):(this.object={userId:this.Id,commandId:t.id},this.commandService.deleteUserCommand(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(ht.a),m.Zb(f.a),m.Zb(n.c),m.Zb(Oe.a),m.Zb(Ce.f),m.Zb(Ce.b),m.Zb(Ce.a,8))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-command-user"]],viewQuery:function(e,t){var c;1&e&&(m.Xc(ve.a,!0),m.Xc(be.a,!0)),2&e&&(m.Fc(c=m.oc())&&(t.sort=c.first),m.Fc(c=m.oc())&&(t.paginator=c.first))},decls:23,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","sms"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(m.fc(0,"div",0),m.fc(1,"div",1),m.fc(2,"h3"),m.Tc(3,"Command Table"),m.ec(),m.fc(4,"span"),m.fc(5,"a"),m.fc(6,"mat-icon",2),m.nc("click",(function(){return t.close()})),m.Tc(7,"X"),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(8,"table",3),m.dc(9,4),m.Sc(10,pt,1,0,"th",5),m.Sc(11,gt,2,1,"td",6),m.cc(),m.dc(12,7),m.Sc(13,bt,2,0,"th",5),m.Sc(14,vt,2,1,"td",6),m.cc(),m.dc(15,8),m.Sc(16,yt,2,0,"th",5),m.Sc(17,Ct,2,1,"td",6),m.cc(),m.dc(18,9),m.Sc(19,St,2,0,"th",5),m.Sc(20,Ot,2,1,"td",6),m.cc(),m.Sc(21,Dt,1,0,"tr",10),m.Sc(22,wt,1,0,"tr",11),m.ec(),m.ec()),2&e&&(m.Ob(8),m.yc("dataSource",t.dataSource),m.Ob(13),m.yc("matHeaderRowDef",t.displayedColumns),m.Ob(1),m.yc("matRowDefColumns",t.displayedColumns))},directives:[M.a,ye.j,a.a,ye.c,ye.e,ye.b,ye.g,ye.i,ye.d,ye.a,R.a,ye.f,ye.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),e})();var kt=c("XCAU");function Tt(e,t){1&e&&m.ac(0,"th",12)}function It(e,t){if(1&e){const e=m.gc();m.fc(0,"td",13),m.fc(1,"mat-checkbox",14),m.nc("change",(function(c){m.Kc(e);const i=t.$implicit;return m.rc().check(c.checked,i)})),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.yc("checked",c.checkState(e.id))}}function Pt(e,t){1&e&&(m.fc(0,"th",12),m.Tc(1,"Name"),m.ec())}function _t(e,t){if(1&e&&(m.fc(0,"td",13),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Uc(e.name)}}function Mt(e,t){1&e&&(m.fc(0,"th",12),m.Tc(1,"Identifier"),m.ec())}function At(e,t){if(1&e&&(m.fc(0,"td",13),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Uc(e.uniqueid)}}function Bt(e,t){1&e&&m.ac(0,"tr",15)}function Nt(e,t){1&e&&m.ac(0,"tr",16)}function Rt(e,t){1&e&&(m.fc(0,"div"),m.Tc(1," No Records Found! "),m.ec())}let Ut=(()=>{class e{constructor(e,t,c,i,r,o,a){this.devcieService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=r,this.dialog=o,this.data=a,this.source=[],this.dataSource=new ye.k([]),this.displayedColumns=["select","name","identifier"],this.sms=[{id:1,value:"true"},{id:0,value:"false"}],this.Id=a.customer_id,this.user_id=a.user_id}ngOnInit(){this.getAllDeviceByCustomer(),this.getAllDeviceByUser()}getAllDeviceByCustomer(){this.devcieService.getDeviceByCustomerId(this.Id).subscribe(e=>{this.customerDevices=e,this.dataSource=new ye.k(this.customerDevices),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllDeviceByUser(){this.devcieService.getDeviceByUserId(this.user_id).subscribe(e=>{this.userDevices=e,this.userDevices&&this.userDevices.forEach(e=>{this.userDevices.push(e.deviceid)})})}getAllDeviceByAllUser(){this.devcieService.getDeviceByAllUser().subscribe(e=>{console.log(e),this.userDevices=e})}close(){this.dialogRef.close()}checkState(e){if(this.userDevices)return this.userDevices.indexOf(e)>-1}check(e,t){e?(this.object={userId:this.user_id,deviceId:t.id},this.devcieService.addDeviceWithUser(this.object).subscribe()):(this.object={userId:this.user_id,deviceId:t.id},this.devcieService.deleteUserDevice(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(kt.a),m.Zb(f.a),m.Zb(n.c),m.Zb(Oe.a),m.Zb(Ce.f),m.Zb(Ce.b),m.Zb(Ce.a,8))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-device-user"]],viewQuery:function(e,t){var c;1&e&&(m.Xc(ve.a,!0),m.Xc(be.a,!0)),2&e&&(m.Fc(c=m.oc())&&(t.sort=c.first),m.Fc(c=m.oc())&&(t.paginator=c.first))},decls:21,vars:4,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(m.fc(0,"div",0),m.fc(1,"div",1),m.fc(2,"h3"),m.Tc(3,"Device Table"),m.ec(),m.fc(4,"span"),m.fc(5,"a"),m.fc(6,"mat-icon",2),m.nc("click",(function(){return t.close()})),m.Tc(7,"X"),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(8,"table",3),m.dc(9,4),m.Sc(10,Tt,1,0,"th",5),m.Sc(11,It,2,1,"td",6),m.cc(),m.dc(12,7),m.Sc(13,Pt,2,0,"th",5),m.Sc(14,_t,2,1,"td",6),m.cc(),m.dc(15,8),m.Sc(16,Mt,2,0,"th",5),m.Sc(17,At,2,1,"td",6),m.cc(),m.Sc(18,Bt,1,0,"tr",9),m.Sc(19,Nt,1,0,"tr",10),m.ec(),m.Sc(20,Rt,2,0,"div",11),m.ec()),2&e&&(m.Ob(8),m.yc("dataSource",t.dataSource),m.Ob(10),m.yc("matHeaderRowDef",t.displayedColumns),m.Ob(1),m.yc("matRowDefColumns",t.displayedColumns),m.Ob(1),m.yc("ngIf",0===t.dataSource.data.length))},directives:[M.a,ye.j,a.a,ye.c,ye.e,ye.b,ye.g,ye.i,i.m,ye.d,ye.a,R.a,ye.f,ye.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),e})();var Ft=c("lLy5");function Lt(e,t){1&e&&m.ac(0,"th",10)}function Zt(e,t){if(1&e){const e=m.gc();m.fc(0,"td",11),m.fc(1,"mat-checkbox",12),m.nc("change",(function(c){m.Kc(e);const i=t.$implicit;return m.rc().check(c.checked,i)})),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.yc("checked",c.checkState(e.id))}}function $t(e,t){1&e&&(m.fc(0,"th",10),m.Tc(1,"Name"),m.ec())}function jt(e,t){if(1&e&&(m.fc(0,"td",11),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Uc(e.name)}}function Et(e,t){1&e&&m.ac(0,"tr",13)}function qt(e,t){1&e&&m.ac(0,"tr",14)}let Vt=(()=>{class e{constructor(e,t,c,i,r,o,a){this.groupService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=r,this.dialog=o,this.data=a,this.dataSource=new ye.k([]),this.displayedColumns=["select","name"],this.sms=[{id:1,value:"true"},{id:0,value:"false"}],this.Id=a.pageValue}ngOnInit(){this.getAllDevice(),this.getAllDeviceByUser()}getAllDevice(){this.groupService.getAllGroup().subscribe(e=>{this.commands=e,this.dataSource=new ye.k(e),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllDeviceByUser(){this.groupService.getGroupByUserId(this.Id).subscribe(e=>{console.log(e),this.userGroups=e,this.userGroups.forEach(e=>{this.userGroups.push(e.groupid)})})}close(){this.dialogRef.close()}checkState(e){if(this.userGroups)return this.userGroups.indexOf(e)>-1}check(e,t){e?(this.object={userId:this.Id,groupId:t.id},this.groupService.addGroupWithUser(this.object).subscribe()):(this.object={userId:this.Id,groupId:t.id},this.groupService.deleteUserGroup(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(Ft.a),m.Zb(f.a),m.Zb(n.c),m.Zb(Oe.a),m.Zb(Ce.f),m.Zb(Ce.b),m.Zb(Ce.a,8))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-group-user"]],viewQuery:function(e,t){var c;1&e&&(m.Xc(ve.a,!0),m.Xc(be.a,!0)),2&e&&(m.Fc(c=m.oc())&&(t.sort=c.first),m.Fc(c=m.oc())&&(t.paginator=c.first))},decls:17,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(m.fc(0,"div",0),m.fc(1,"div",1),m.fc(2,"h3"),m.Tc(3,"Group Table"),m.ec(),m.fc(4,"span"),m.fc(5,"a"),m.fc(6,"mat-icon",2),m.nc("click",(function(){return t.close()})),m.Tc(7,"X"),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(8,"table",3),m.dc(9,4),m.Sc(10,Lt,1,0,"th",5),m.Sc(11,Zt,2,1,"td",6),m.cc(),m.dc(12,7),m.Sc(13,$t,2,0,"th",5),m.Sc(14,jt,2,1,"td",6),m.cc(),m.Sc(15,Et,1,0,"tr",8),m.Sc(16,qt,1,0,"tr",9),m.ec(),m.ec()),2&e&&(m.Ob(8),m.yc("dataSource",t.dataSource),m.Ob(7),m.yc("matHeaderRowDef",t.displayedColumns),m.Ob(1),m.yc("matRowDefColumns",t.displayedColumns))},directives:[M.a,ye.j,a.a,ye.c,ye.e,ye.b,ye.g,ye.i,ye.d,ye.a,R.a,ye.f,ye.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),e})();var zt=c("Nl8B"),Gt=c("STbY"),Wt=c("Xa2L");function Xt(e,t){if(1&e&&(m.fc(0,"mat-option",37),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.yc("value",e.id),m.Ob(1),m.Vc(" ",e.value," ")}}function Kt(e,t){1&e&&(m.fc(0,"th",38),m.Tc(1,"Action"),m.ec())}function Ht(e,t){if(1&e){const e=m.gc();m.fc(0,"button",45),m.fc(1,"mat-icon",46),m.nc("click",(function(){m.Kc(e);const t=m.rc().$implicit;return m.rc().editUser(t)})),m.Tc(2,"edit"),m.ec(),m.ec()}}function Jt(e,t){if(1&e){const e=m.gc();m.fc(0,"button",47),m.fc(1,"mat-icon",46),m.nc("click",(function(){m.Kc(e);const t=m.rc().$implicit;return m.rc().deleteUser(t)})),m.Tc(2,"delete_outline"),m.ec(),m.ec()}}function Qt(e,t){if(1&e&&(m.fc(0,"button",48),m.fc(1,"mat-icon"),m.Tc(2,"settings"),m.ec(),m.ec()),2&e){m.rc();const e=m.Gc(5);m.yc("matMenuTriggerFor",e)}}function Yt(e,t){if(1&e){const e=m.gc();m.fc(0,"td",39),m.Sc(1,Ht,3,0,"button",40),m.Sc(2,Jt,3,0,"button",41),m.Sc(3,Qt,3,1,"button",42),m.fc(4,"mat-menu",null,43),m.fc(6,"button",44),m.nc("click",(function(){m.Kc(e);const c=t.$implicit;return m.rc().openDeviceModal(c)})),m.Tc(7,"Devices"),m.ec(),m.fc(8,"button",44),m.nc("click",(function(){m.Kc(e);const c=t.$implicit;return m.rc().openGroupModal(c)})),m.Tc(9,"Groups"),m.ec(),m.fc(10,"button",44),m.nc("click",(function(){m.Kc(e);const c=t.$implicit;return m.rc().openDriverModal(c)})),m.Tc(11,"Drivers"),m.ec(),m.fc(12,"button",44),m.nc("click",(function(){m.Kc(e);const c=t.$implicit;return m.rc().openNotificationModal(c)})),m.Tc(13,"Notifications"),m.ec(),m.fc(14,"button",44),m.nc("click",(function(){m.Kc(e);const c=t.$implicit;return m.rc().openMaintenanceModal(c)})),m.Tc(15,"Maintenance"),m.ec(),m.fc(16,"button",44),m.nc("click",(function(){m.Kc(e);const c=t.$implicit;return m.rc().openAttributeModal(c)})),m.Tc(17,"Computed Attributes"),m.ec(),m.fc(18,"button",44),m.nc("click",(function(){m.Kc(e);const c=t.$implicit;return m.rc().openCommandModal(c)})),m.Tc(19,"Saved Commands"),m.ec(),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.yc("ngIf",1==c.assigedRole.includes("user_edit")),m.Ob(1),m.yc("ngIf",1==c.assigedRole.includes("user_delete")),m.Ob(1),m.yc("ngIf",1==c.assigedRole.includes("user_setting")&&0!=e.customer_id)}}function ec(e,t){1&e&&(m.fc(0,"th",49),m.Tc(1,"#"),m.ec())}function tc(e,t){if(1&e&&(m.fc(0,"td",39),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Uc(e.id)}}function cc(e,t){1&e&&(m.fc(0,"th",49),m.Tc(1,"Name"),m.ec())}function ic(e,t){if(1&e&&(m.fc(0,"td",39),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Uc(e.name)}}function rc(e,t){1&e&&(m.fc(0,"th",49),m.Tc(1,"Customer ID"),m.ec())}function oc(e,t){if(1&e&&(m.fc(0,"td",39),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Uc(0==e.customer_id?"":e.customer_id)}}function ac(e,t){1&e&&(m.fc(0,"th",49),m.Tc(1,"Customer Name"),m.ec())}function sc(e,t){if(1&e&&(m.fc(0,"td",39),m.Tc(1),m.ec()),2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.Uc(null==c.customerIndex[null==e?null:e.customer_id]?null:c.customerIndex[null==e?null:e.customer_id].name)}}function nc(e,t){1&e&&(m.fc(0,"th",49),m.Tc(1,"Contact Number"),m.ec())}function lc(e,t){if(1&e&&(m.fc(0,"td",39),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Uc(e.phone)}}function uc(e,t){1&e&&(m.fc(0,"th",49),m.Tc(1,"Email"),m.ec())}function mc(e,t){if(1&e&&(m.fc(0,"td",39),m.Tc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Uc(e.email)}}function dc(e,t){1&e&&(m.fc(0,"th",49),m.Tc(1,"Status"),m.ec())}function fc(e,t){if(1&e&&(m.fc(0,"td",39),m.Tc(1),m.ec()),2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.Uc(null==c.states[e.status]?null:c.states[e.status].value)}}function hc(e,t){1&e&&m.ac(0,"tr",50)}function pc(e,t){1&e&&m.ac(0,"tr",51)}const gc=function(e){return{active:e}};function bc(e,t){if(1&e){const e=m.gc();m.fc(0,"li",53),m.fc(1,"a",46),m.nc("click",(function(){m.Kc(e);const c=t.$implicit;return m.rc(2).getUserByPage(c)})),m.Tc(2),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc(2);m.yc("ngClass",m.Cc(2,gc,c.pager.currentPage===e)),m.Ob(2),m.Uc(e)}}const vc=function(e){return{disabled:e}};function yc(e,t){if(1&e){const e=m.gc();m.fc(0,"ul",52),m.fc(1,"li",53),m.fc(2,"a",46),m.nc("click",(function(){m.Kc(e);const t=m.rc();return t.getUserByPage(t.pager.currentPage-1)})),m.Tc(3,"\xab"),m.ec(),m.ec(),m.Sc(4,bc,3,4,"li",54),m.fc(5,"li",53),m.fc(6,"a",46),m.nc("click",(function(){m.Kc(e);const t=m.rc();return t.getUserByPage(t.pager.currentPage+1)})),m.Tc(7,"\xbb"),m.ec(),m.ec(),m.ec()}if(2&e){const e=m.rc();m.Ob(1),m.yc("ngClass",m.Cc(3,vc,1===e.pager.currentPage)),m.Ob(3),m.yc("ngForOf",e.pager.pages),m.Ob(1),m.yc("ngClass",m.Cc(5,vc,2===e.pager.currentPage))}}function Cc(e,t){1&e&&(m.fc(0,"mat-card",55),m.ac(1,"mat-progress-spinner",56),m.ec())}function Sc(e,t){1&e&&(m.fc(0,"mat-card"),m.Tc(1," No Records Found! "),m.ec())}const Oc=function(e,t){return{full:e,half:t}},Dc=function(){return[0]},wc=[{path:"add",component:te,canActivate:[l.a],data:{roles:"user_add"}},{path:"list",component:(()=>{class e{constructor(e,t,c,i,r,o,a,s,n){this.userService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialog=r,this.pagination=o,this.fb=a,this.customerService=s,this.mediaObserver=n,this.assigedRole=[],this.currentPage=1,this.params={},this.pager=[],this.record=[],this.customerIndex=[],this.idColumn="id",this.dataSource=new ye.k([]),this.states=[{id:0,value:"Inactive"},{id:1,value:"Active"}],this.displayedColumns=["action","id","name","customer_id","customer_name","mobile","email","status"],this.isLoading=!0,this.assigedRole=JSON.parse(sessionStorage.getItem("rolesData"))}ngOnInit(){this.myform=this.fb.group({name:[""],email:[""],phone:[""],customer_id:[""],status:[""]}),this.getAllCustomer(),this.getAllUser(),console.log("   ABCD "),console.log("   ABCD ".trim()),this.mediaSub=this.mediaObserver.media$.subscribe(e=>{"xs"==e.mqAlias?(this.tr=!0,this.fa=!1):(this.tr=!1,this.fa=!0)})}getAllCustomer(){this.customerService.getAllCustomerList().subscribe(e=>{this.customers=e,console.log(this.customers),this.customers.forEach((e,t)=>{this.customerIndex[e.customer_id]=this.customers[t]})})}getAllUser(){this.params={currentPage:this.currentPage},this.userService.getAllUserByPage(this.params).subscribe(e=>{this.users=e.rows,this.record=e.count,console.log(e.count),this.pager=this.pagination.paginate(this.record),console.log(this.pager.totalPages),this.dataSource=new ye.k(this.users),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator),this.isLoading=!1}),this.removeColumn()}getUserByPage(e){this.page=e,this.page>this.pager.totalPages||(this.params={currentPage:e,name:this.myform.value.name,email:this.myform.value.email,phone:this.myform.value.phone,customer_id:this.myform.value.customer_id,status:this.myform.value.status},this.userService.getAllUserByPage(this.params).subscribe(t=>{this.isLoading=!1,this.users=t.rows,this.record=t.count,console.log(this.record),this.pager=this.pagination.paginate(this.record,e),this.dataSource=new ye.k(this.users),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)}))}getUserBySearch(){this.params={currentPage:this.currentPage,name:this.myform.value.name,email:this.myform.value.email,phone:this.myform.value.phone,customer_id:this.myform.value.customer_id,status:this.myform.value.status},console.log(this.params),this.userService.getAllUserByPage(this.params).subscribe(e=>{this.isLoading=!1,this.users=e.rows,this.record=e.count,this.pager=this.pagination.paginate(this.record),this.dataSource=new ye.k(this.users),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}removeColumn(){0==this.assigedRole.includes("role_edit")&&0==this.assigedRole.includes("role_delete")&&(this.displayedColumns=["id","name","mobile","email","status"])}editUser(e){this.router.navigate(["admin/authorization/users/edit",e.id])}deleteUser(e){this.dialogService.openConfirmDialog().afterClosed().subscribe(t=>{t&&(this.userService.deleteUser(e.id).subscribe(),this.deleteRowDataTable(e.id,this.idColumn,this.paginator,this.dataSource),this.openSnackBar())})}deleteRowDataTable(e,t,c,i){this.users=i.data;const r=this.users.findIndex(c=>c[t]===e);i.data.splice(r,1),i.paginator=c}openSnackBar(){this.snackBar.open("Deleted!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}getBack(){this.getAllUser()}applyFilter(e){this.dataSource.filter=e.trim().toLowerCase()}openDriverModal(e){console.log(e.id);const t=new Ce.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(Me,{width:"680px",height:"460px",data:{user_id:e.id,customer_id:e.customer_id}}).afterClosed().subscribe(e=>{})}openNotificationModal(e){console.log(e.id);const t=new Ce.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(qe,{width:"580px",height:"460px",data:{pageValue:e.id}}).afterClosed().subscribe(e=>{})}openMaintenanceModal(e){console.log(e.id);const t=new Ce.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(it,{width:"580px",height:"460px",data:{pageValue:e.id}}).afterClosed().subscribe(e=>{})}openAttributeModal(e){console.log(e.id);const t=new Ce.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(ft,{width:"580px",height:"460px",data:{pageValue:e.id}}).afterClosed().subscribe(e=>{})}openCommandModal(e){console.log(e.id);const t=new Ce.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(xt,{width:"580px",height:"460px",data:{pageValue:e.id}}).afterClosed().subscribe(e=>{})}openDeviceModal(e){console.log(e.customer_id);const t=new Ce.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(Ut,{width:"580px",height:"460px",data:{user_id:e.id,customer_id:e.customer_id}}).afterClosed().subscribe(e=>{})}openGroupModal(e){console.log(e.id);const t=new Ce.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(Vt,{width:"580px",height:"460px",data:{pageValue:e.id}}).afterClosed().subscribe(e=>{})}settingDevice(e){console.log(e.id)}goAddPage(){this.router.navigate(["admin/authorization/users/add"])}cleanForm(e){Object.keys(e.controls).forEach(t=>e.get(t).setValue(e.get(t).value.trim()))}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(d.a),m.Zb(f.a),m.Zb(n.c),m.Zb(Oe.a),m.Zb(Ce.b),m.Zb(zt.a),m.Zb(r.e),m.Zb(I.a),m.Zb(P.g))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-user-list"]],viewQuery:function(e,t){var c;1&e&&(m.Xc(ve.a,!0),m.Xc(be.a,!0)),2&e&&(m.Fc(c=m.oc())&&(t.sort=c.first),m.Fc(c=m.oc())&&(t.paginator=c.first))},decls:64,vars:30,consts:[[1,"custom-style"],[1,"table-title"],["fxLayout","row","fxLayout.xs","column",1,"search-div"],["fxFlex","70%","fxFlex.xs","100%"],[3,"formGroup"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","19%",3,"ngClass"],["matInput","","appTrim","","placeholder","Name","formControlName","name","autocomplete","off"],["matInput","","placeholder","Email","formControlName","email","autocomplete","off"],["matInput","","placeholder","Contact Number","formControlName","phone","autocomplete","off"],["matInput","","placeholder","Customer ID","formControlName","customer_id","autocomplete","off"],["formControlName","status"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","30%","fxFlex.xs","100%",1,"manip"],["mat-button","",1,"mat-stroked-button","mat-primary",3,"click"],[1,"addButton"],["mat-button","",1,"mat-raised-button","mat-primary",3,"click"],[1,"table_container"],["mat-table","","matTableExporter","","matSort","",1,"mat-elevation-z8",3,"dataSource","hiddenColumns"],["exporter","matTableExporter"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","name"],["matColumnDef","customer_id"],["matColumnDef","customer_name"],["matColumnDef","mobile"],["matColumnDef","email"],["matColumnDef","status"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],[1,"middle"],["class","pagination",4,"ngIf"],["style","display:flex; justify-content: center; align-items: center",4,"ngIf"],[4,"ngIf"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",4,"ngIf"],["mat-icon-button","","color","warn",4,"ngIf"],["mat-icon-button","","color","info",3,"matMenuTriggerFor",4,"ngIf"],["setting","matMenu"],["mat-menu-item","",3,"click"],["mat-icon-button",""],[3,"click"],["mat-icon-button","","color","warn"],["mat-icon-button","","color","info",3,"matMenuTriggerFor"],["mat-header-cell","","mat-sort-header",""],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"],[1,"pagination"],[1,"pagination",3,"ngClass"],["class","pagination",3,"ngClass",4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"]],template:function(e,t){if(1&e){const e=m.gc();m.fc(0,"div",0),m.fc(1,"div",1),m.fc(2,"h3"),m.Tc(3,"User Table"),m.ec(),m.ec(),m.fc(4,"div",2),m.fc(5,"div",3),m.fc(6,"form",4),m.fc(7,"div",5),m.fc(8,"mat-form-field",6),m.ac(9,"input",7),m.ec(),m.fc(10,"mat-form-field",6),m.ac(11,"input",8),m.ec(),m.fc(12,"mat-form-field",6),m.ac(13,"input",9),m.ec(),m.fc(14,"mat-form-field",6),m.ac(15,"input",10),m.ec(),m.fc(16,"mat-form-field",6),m.fc(17,"mat-label"),m.Tc(18,"Status"),m.ec(),m.fc(19,"mat-select",11),m.Sc(20,Xt,2,2,"mat-option",12),m.ec(),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(21,"div",13),m.fc(22,"button",14),m.nc("click",(function(){return t.cleanForm(t.myform)}))("click",(function(){return t.getUserBySearch()})),m.Tc(23," Search "),m.ec(),m.fc(24,"button",14),m.nc("click",(function(){return t.getBack()})),m.Tc(25," Clear "),m.ec(),m.fc(26,"span",15),m.fc(27,"button",16),m.nc("click",(function(){return t.goAddPage()})),m.Tc(28," Add "),m.ec(),m.ec(),m.fc(29,"button",16),m.nc("click",(function(){return m.Kc(e),m.Gc(33).exportTable("csv",{fileName:"user"})})),m.Tc(30," CSV "),m.ec(),m.ec(),m.ec(),m.fc(31,"div",17),m.fc(32,"table",18,19),m.dc(34,20),m.Sc(35,Kt,2,0,"th",21),m.Sc(36,Yt,20,3,"td",22),m.cc(),m.dc(37,23),m.Sc(38,ec,2,0,"th",24),m.Sc(39,tc,2,1,"td",22),m.cc(),m.dc(40,25),m.Sc(41,cc,2,0,"th",24),m.Sc(42,ic,2,1,"td",22),m.cc(),m.dc(43,26),m.Sc(44,rc,2,0,"th",24),m.Sc(45,oc,2,1,"td",22),m.cc(),m.dc(46,27),m.Sc(47,ac,2,0,"th",24),m.Sc(48,sc,2,1,"td",22),m.cc(),m.dc(49,28),m.Sc(50,nc,2,0,"th",24),m.Sc(51,lc,2,1,"td",22),m.cc(),m.dc(52,29),m.Sc(53,uc,2,0,"th",24),m.Sc(54,mc,2,1,"td",22),m.cc(),m.dc(55,30),m.Sc(56,dc,2,0,"th",24),m.Sc(57,fc,2,1,"td",22),m.cc(),m.Sc(58,hc,1,0,"tr",31),m.Sc(59,pc,1,0,"tr",32),m.ec(),m.ec(),m.ec(),m.fc(60,"div",33),m.Sc(61,yc,8,7,"ul",34),m.ec(),m.Sc(62,Cc,2,0,"mat-card",35),m.Sc(63,Sc,2,0,"mat-card",36)}2&e&&(m.Ob(6),m.yc("formGroup",t.myform),m.Ob(2),m.yc("ngClass",m.Dc(14,Oc,t.tr,t.fa)),m.Ob(2),m.yc("ngClass",m.Dc(17,Oc,t.tr,t.fa)),m.Ob(2),m.yc("ngClass",m.Dc(20,Oc,t.tr,t.fa)),m.Ob(2),m.yc("ngClass",m.Dc(23,Oc,t.tr,t.fa)),m.Ob(2),m.yc("ngClass",m.Dc(26,Oc,t.tr,t.fa)),m.Ob(4),m.yc("ngForOf",t.states),m.Ob(12),m.yc("dataSource",t.dataSource)("hiddenColumns",m.Bc(29,Dc)),m.Ob(26),m.yc("matHeaderRowDef",t.displayedColumns),m.Ob(1),m.yc("matRowDefColumns",t.displayedColumns),m.Ob(2),m.yc("ngIf",t.pager.pages&&t.pager.pages.length),m.Ob(1),m.yc("ngIf",t.isLoading),m.Ob(1),m.yc("ngIf",""==t.users))},directives:[A.b,A.a,r.v,r.o,r.g,p.c,i.k,B.a,g.b,r.c,r.n,r.f,p.g,S.a,i.l,b.b,ye.j,a.a,ve.a,ye.c,ye.e,ye.b,ye.g,ye.i,i.m,O.o,ye.d,ye.a,Gt.d,Gt.a,M.a,Gt.c,ve.b,ye.f,ye.h,h.a,Wt.a],styles:[".table_container[_ngcontent-%COMP%]{margin-left:2%;width:96%;margin-right:2%;overflow:auto}.filter[_ngcontent-%COMP%]{width:15%;margin-right:50%}.header[_ngcontent-%COMP%]{overflow:hidden}.table[_ngcontent-%COMP%]{width:96%!important;margin-left:2%;margin-right:2%}.spacerb[_ngcontent-%COMP%]{margin-right:5px}h3[_ngcontent-%COMP%]{font-weight:500}.row[_ngcontent-%COMP%]{height:40px!important}.fl[_ngcontent-%COMP%]{position:relative;display:flex}.closeButton[_ngcontent-%COMP%]{margin-top:20px}.search_div[_ngcontent-%COMP%]{margin-left:10%}.search_field[_ngcontent-%COMP%]{margin-left:1%;width:10%;float:left}.mat-stroked-button[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;border:1px solid #00f}.mat-raised-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%]{width:8%;margin-left:.5%}.pagination[_ngcontent-%COMP%]{display:inline-block}.pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;float:left;padding:8px 16px;text-decoration:none;transition:background-color .3s;border:1px solid #ddd}.active[_ngcontent-%COMP%]{background-color:#29abe2;background:#4169e1;color:red}.pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:not(.active){background-color:#ddd}.middle[_ngcontent-%COMP%]{margin-left:50%}a[_ngcontent-%COMP%]{cursor:pointer}.mat-column-action[_ngcontent-%COMP%]{width:15%!important}.response[_ngcontent-%COMP%]{margin-left:2%}.manip[_ngcontent-%COMP%]{margin-bottom:1%;margin-top:1%}.full[_ngcontent-%COMP%], .manip[_ngcontent-%COMP%]{margin-left:5%}.full[_ngcontent-%COMP%]{width:90%}.half[_ngcontent-%COMP%]{width:42.5%;margin-left:2%;float:left}"]}),e})(),canActivate:[l.a],data:{roles:"user_list"}},{path:"edit/:id",component:ge,canActivate:[l.a],data:{roles:"user_edit"}},{path:"reset-password",component:k,canActivate:[l.a],data:{roles:"user_password_reset"}},{path:"change-password",component:C},{path:"user-profile",component:(()=>{class e{constructor(){this.userData=JSON.parse(localStorage.getItem("userData"))}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Tb({type:e,selectors:[["app-user-profile"]],decls:8,vars:4,template:function(e,t){1&e&&(m.fc(0,"mat-card"),m.Tc(1),m.ac(2,"br"),m.Tc(3),m.ac(4,"br"),m.Tc(5),m.ac(6,"br"),m.Tc(7),m.ec()),2&e&&(m.Ob(1),m.Vc(" Name: ",t.userData.fullName,""),m.Ob(2),m.Vc(" Email: ",t.userData.email,""),m.Ob(2),m.Vc(" Mobile: ",t.userData.mobile,""),m.Ob(2),m.Vc(" Device Limit: ",t.userData.device_limit,"\n"))},directives:[h.a],styles:[""]}),e})()}];let xc=(()=>{class e{}return e.\u0275mod=m.Xb({type:e}),e.\u0275inj=m.Wb({factory:function(t){return new(t||e)},imports:[[n.f.forChild(wc)],n.f]}),e})();c("mrSG"),c("jhN1");let kc=(()=>{class e{}return e.\u0275mod=m.Xb({type:e}),e.\u0275inj=m.Wb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})(),Tc=(()=>{class e{}return e.\u0275mod=m.Xb({type:e}),e.\u0275inj=m.Wb({factory:function(t){return new(t||e)},imports:[[i.c,xc,o.a,r.s,r.i,a.b,s.a,kc]]}),e})()},Cp0R:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var i=c("fXoL"),r=c("Ofeh"),o=c("tyNb");let a=(()=>{class e{constructor(e,t){this.loginService=e,this.router=t,this.assigedRole=[]}canActivate(e,t){return this.loginService.loggedIn()?(this.assigedRole=JSON.parse(sessionStorage.getItem("rolesData")),1==this.assigedRole.includes(e.data.roles)||(this.router.navigate(["/deny"]),!1)):(this.router.navigate(["/"]),!1)}}return e.\u0275fac=function(t){return new(t||e)(i.jc(r.a),i.jc(o.c))},e.\u0275prov=i.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},H0VJ:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var i=c("fXoL"),r=c("0IaG"),o=c("NFeN"),a=c("bTqV");let s=(()=>{class e{constructor(e){this.dialogRef=e}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return e.\u0275fac=function(t){return new(t||e)(i.Zb(r.f))},e.\u0275cmp=i.Tb({type:e,selectors:[["app-mat-dialog"]],decls:11,vars:2,consts:[[1,"content-container"],["id","close-button",3,"click"],[1,"content-span"],["mat-flat-button","","id","no-button",3,"mat-dialog-close"],["mat-flat-button","","id","yes-button","color","warn",3,"mat-dialog-close"]],template:function(e,t){1&e&&(i.fc(0,"div"),i.fc(1,"div",0),i.fc(2,"mat-icon",1),i.nc("click",(function(){return t.closeDialog()})),i.Tc(3,"close"),i.ec(),i.fc(4,"div",2),i.Tc(5,"Are you sure to delete this record ?"),i.ec(),i.ec(),i.fc(6,"div"),i.fc(7,"button",3),i.Tc(8,"No"),i.ec(),i.fc(9,"button",4),i.Tc(10,"Yes"),i.ec(),i.ec(),i.ec()),2&e&&(i.Ob(7),i.yc("mat-dialog-close",!1),i.Ob(2),i.yc("mat-dialog-close",!0))},directives:[o.a,a.b,r.c],styles:["#close-button[_ngcontent-%COMP%]{margin-left:90%;cursor:pointer}.content-span[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:20px}#no-button[_ngcontent-%COMP%]{width:30%;margin-left:7%;margin-right:25%;background-color:#ff0}#yes-button[_ngcontent-%COMP%]{width:30%}"]}),e})(),n=(()=>{class e{constructor(e){this.dialog=e}openConfirmDialog(){return this.dialog.open(s,{width:"300px",disableClose:!0,position:{top:"20px"}})}}return e.\u0275fac=function(t){return new(t||e)(i.jc(r.b))},e.\u0275prov=i.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},M5z4:function(e,t,c){"use strict";c.d(t,"a",(function(){return s}));var i=c("AytR"),r=c("2Vo4"),o=c("fXoL"),a=c("tk/3");let s=(()=>{class e{constructor(e){this.http=e,this.importDataSent=new r.a(""),this.importErrorSent=new r.a(""),this.messageSent=new r.a(""),this.deviceImportStatusSent=new r.a(""),this.importDataCatch=this.importDataSent.asObservable(),this.messageCatch=this.importDataSent.asObservable(),this.importErrorCatch=this.importErrorSent.asObservable(),this.deviceImportStatusCatch=this.deviceImportStatusSent.asObservable(),this.url=i.a.apiUrl+"/customer/"}importDataExchange(e){console.log(e),this.importDataSent.next(e)}importErrorExchange(e){this.importErrorSent.next(e)}messageExchange(e){this.messageSent.next(e)}deviceImportStatusExchange(e){console.log(e),this.deviceImportStatusSent.next(e)}DestroySubject(){alert("hi")}addCustomer(e){return this.http.post(this.url+"/addCustomer",e)}getAllCustomer(e){return this.http.post(this.url+"/listCustomer",e)}getCustomerById(e){return this.http.get(this.url+e+"/editCustomer")}getCustomerByUserId(e){return this.http.get(this.url+e+"/getCustomerByUserId")}updateCustomer(e,t){return this.http.put(this.url+e+"/updateCustomer",t)}getAllCustomerList(){return this.http.get(this.url+"/allCustomerList")}getAllCustomerListJoinWithDevices(){return this.http.get(this.url+"/allCustomerListJoinWithDevices")}customerSearch(e){return this.http.post(this.url+"/customerSearch",e)}resellerSearch(e){return this.http.post(this.url+"/resellerSearch",e)}DeviceByCustomer(e){return this.http.get(this.url+e+"/getDeviceByCustomer")}DeviceByDeviceId(e){return this.http.post(this.url+"/getDeviceByDeviceId",e)}DeviceIdByUser(e){return this.http.get(this.url+e+"/getDeviceIdByUser")}DeviceByCustomerWithPosition(e){return this.http.get(this.url+e+"/getDeviceByCustomerWithPosition")}DeviceByCustomerUserWithPosition(e){return this.http.post(this.url+"/getDeviceByCustomerUserWithPosition",e)}DevicePositionByPositionId(e){return this.http.post(this.url+"/getDevicePositionByPositionId",e)}DevicePositionByCustomer(e){return this.http.get(this.url+e+"/getDevicePositionByCustomer")}DeviceByCustomerId(e){return this.http.get(this.url+e+"/getDeviceByCustomerId")}getCustomerByReseller(e){return this.http.get(this.url+e+"/getCustomerByReseller")}addCustomerWithReseller(e){return this.http.post(this.url+"/addCustomerWithReseller",e)}getResellerAutoId(e){return this.http.get(this.url+e+"/getResellerAutoId")}getCustomerByResellerId(e){return this.http.get(this.url+e+"/getCustomerByResellerId")}getCustomerIdByAutoId(e){return this.http.get(this.url+e+"/getCustomerIdByAutoId")}}return e.\u0275fac=function(t){return new(t||e)(o.jc(a.b))},e.\u0275prov=o.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},Nl8B:function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));var i=c("fXoL");let r=(()=>{class e{constructor(){}paginate(e,t=1,c=25,i=9){let r,o,a=Math.ceil(e/c);if(t<1?t=1:t>a&&(t=a),a<=i)r=1,o=a;else{let e=Math.floor(i/2),c=Math.ceil(i/2)-1;t<=e?(r=1,o=i):t+c>=a?(r=a-i+1,o=a):(r=t-e,o=t+c)}let s=(t-1)*c,n=Math.min(s+c-1,e-1),l=Array.from(Array(o+1-r).keys()).map(e=>r+e);return{totalItems:e,currentPage:t,pageSize:c,totalPages:a,startPage:r,endPage:o,startIndex:s,endIndex:n,pages:l}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},XCAU:function(e,t,c){"use strict";c.d(t,"a",(function(){return s}));var i=c("2Vo4"),r=c("AytR"),o=c("fXoL"),a=c("tk/3");let s=(()=>{class e{constructor(e){this.http=e,this.url=r.a.apiUrl+"/device/",this.importDataSent=new i.a(""),this.importDataCatch=this.importDataSent.asObservable(),this.importErrorSent=new i.a(""),this.importErrorCatch=this.importErrorSent.asObservable()}importDataExchange(e){console.log(e),this.importDataSent.next(e)}importErrorExchange(e){this.importErrorSent.next(e)}getAllDevices(){return this.http.get(this.url+"/listDevices")}getAllDevicesByPage(e){return this.http.post(this.url+"/listDevicesByPage",e)}addDevice(e){return this.http.post(this.url+"/addDevice",e)}getAllFreeDevice(){return this.http.get(this.url+"/listFreeDevice")}getDeviceById(e){return this.http.get(this.url+e+"/editDevice")}updateDevice(e,t){return this.http.put(this.url+e+"/updateDevice",t)}deleteDevice(e){return this.http.delete(this.url+e+"/deleteDevice")}addDeviceWithUser(e){return this.http.post(this.url+"/addUserDevice",e)}deleteUserDevice(e){return this.http.post(this.url+"/deleteUserDevice",e)}getDeviceByUserId(e){return this.http.get(this.url+e+"/getDeviceByUser")}getDeviceByAllUser(){return this.http.get(this.url+"/getDeviceByAllUser")}addDeviceWithCustomer(e){return this.http.post(this.url+"/addCustomerDevice",e)}addDeviceWithCustomerByImport(e){return this.http.post(this.url+"/addDeviceWithCustomerByImport",e)}deleteCustomerDevice(e){return this.http.post(this.url+"/deleteCustomerDevice",e)}addDeviceWithCustomerReseller(e){return this.http.post(this.url+"/addCustomerResellerDevice",e)}deleteCustomerDeviceReseller(e){return this.http.post(this.url+"/deleteCustomerResellerDevice",e)}getDeviceByCustomerResellerId(e){return this.http.get(this.url+e+"/getDeviceByCustomerResellerId")}getDeviceByResellerId(e){return this.http.get(this.url+e+"/getDeviceByResellerId")}getDeviceByResellerIdFor(e){return this.http.get(this.url+e+"/getDeviceByResellerIdFor")}getDeviceByCustomerId(e){return this.http.get(this.url+e+"/getDeviceByCustomerId")}getAllPostion(){return this.http.get(this.url+"/listPositions")}getHistoryPostionBySearch(e){return this.http.post(this.url+"/listHistoryPositions",e)}getAllPostionBySearch(e){return this.http.post(this.url+"/listAllPositions",e)}getAllEvents(){return this.http.get(this.url+"/listEvents")}getAllEventsByReseller(e){return this.http.post(this.url+"/listEventsByReseller",e)}getDeviceWithPositionById(e){return this.http.get(this.url+e+"/getDeviceWithPositionById")}getDeviceCurrentPositionById(e){return this.http.get(this.url+e+"/getDeviceCurrentPositionById")}getMovingPosition(e){return this.http.post(this.url+"/movingPositions",e)}getDevicePositionByPositionId(e){return this.http.post(this.url+"/getDevicePositionByPositionId",e)}getEventPositionById(e){return this.http.get(this.url+e+"/getEventPositionById")}getDeviceIdByIMEI(e){return this.http.get(this.url+e+"/getDeviceIdByIMEI")}addDeviceWithReseller(e){return this.http.post(this.url+"/addDeviceWithReseller",e)}deleteDeviceFromReseller(e){return this.http.post(this.url+"/deleteDeviceFromReseller",e)}getAllDeviceCategory(){return this.http.get(this.url+"/listDeviceCategory")}addDeviceCategory(e){return this.http.post(this.url+"/addDeviceCategory",e)}getDeviceCategoryById(e){return this.http.get(this.url+e+"/editDeviceCategory")}updateDeviceCategory(e,t){return this.http.put(this.url+e+"/updateDeviceCategory",t)}deleteDeviceCategory(e){return this.http.delete(this.url+e+"/deleteDeviceCategory")}getAllPois(){return this.http.get(this.url+"/listPois")}addPois(e){return this.http.post(this.url+"/addPois",e)}}return e.\u0275fac=function(t){return new(t||e)(o.jc(a.b))},e.\u0275prov=o.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},mrSG:function(e,t,c){"use strict";function i(e,t,c,i){return new(c||(c=Promise))((function(r,o){function a(e){try{n(i.next(e))}catch(t){o(t)}}function s(e){try{n(i.throw(e))}catch(t){o(t)}}function n(e){var t;e.done?r(e.value):(t=e.value,t instanceof c?t:new c((function(e){e(t)}))).then(a,s)}n((i=i.apply(e,t||[])).next())}))}c.d(t,"a",(function(){return i}))}}]);
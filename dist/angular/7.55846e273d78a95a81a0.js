(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"1jOF":function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var i=c("AytR"),o=c("fXoL"),r=c("tk/3");let a=(()=>{class e{constructor(e){this.http=e,this.url=i.a.apiUrl+"/driver/"}addDriver(e){return this.http.post(this.url+"/addDriver",e)}getAllDriver(){return this.http.get(this.url+"/listDriver")}getDriverById(e){return this.http.get(this.url+e+"/editDriver")}updateDriver(e,t){return this.http.put(this.url+e+"/updateDriver",t)}deleteDriver(e){return this.http.delete(this.url+e+"/deleteDriver")}addDriverWithDevice(e){return this.http.post(this.url+"/addDeviceDriver",e)}deleteDeviceDriver(e){return this.http.post(this.url+"/deleteDeviceDriver",e)}getDriverByDeviceId(e){return this.http.get(this.url+e+"/getDriverByDevice")}addDriverWithGroup(e){return this.http.post(this.url+"/addGroupDriver",e)}deleteGroupDriver(e){return this.http.post(this.url+"/deleteGroupDriver",e)}getDriverByGroupId(e){return this.http.get(this.url+e+"/getDriverByGroup")}addDriverWithUser(e){return this.http.post(this.url+"/addUserDriver",e)}deleteUserDriver(e){return this.http.post(this.url+"/deleteUserDriver",e)}getDriverByUserId(e){return this.http.get(this.url+e+"/getDriverByUser")}getAllCustomerDriver(){return this.http.get(this.url+"/listCustomerDriver")}getDriverByCustomerId(e){return this.http.get(this.url+e+"/getDriverByCustomerId")}addDriverWithCustomer(e){return this.http.post(this.url+"/addCustomerDriver",e)}deleteCustomerDriver(e){return this.http.post(this.url+"/deleteCustomerDriver",e)}}return e.\u0275fac=function(t){return new(t||e)(o.jc(r.b))},e.\u0275prov=o.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"6yIB":function(e,t,c){"use strict";c.r(t),c.d(t,"UsersModule",(function(){return yc}));var i=c("ofXK"),o=c("3Pt+"),r=c("jAig"),a=c("KUt4"),s=c("YUcS"),n=c("tyNb"),l=c("Cp0R"),m=c("i+38"),u=c("fXoL"),d=c("CjG4"),f=c("dNgK"),h=c("Wp6s"),p=c("kmnG"),g=c("qFsG"),b=c("bTqV");function v(e,t){1&e&&(u.fc(0,"div"),u.fc(1,"p",9),u.Qc(2," Current Password Not Valid"),u.ec(),u.ec())}function y(e,t){1&e&&(u.fc(0,"div"),u.fc(1,"p",9),u.Qc(2," Has Been Changed Successfully"),u.ec(),u.ec())}let C=(()=>{class e{constructor(e,t,c){this.userService=e,this.fb=t,this.snackBar=c}ngOnInit(){this.myform=this.fb.group({oldPassword:["",[o.s.required]],password:["",[o.s.required]],confirm_password:["",[o.s.required,Object(m.a)("password")]],user_id:[""]})}changePassword(){this.userData=JSON.parse(localStorage.getItem("userData")),this.myform.value.user_id=this.userData.id,this.userService.changePassword(this.myform.value).subscribe(e=>{this.openSnackBar()},e=>{this.show1=!0}),console.log(this.myform.value)}openSnackBar(){this.snackBar.open("Reset Successfully!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(d.a),u.Zb(o.e),u.Zb(f.a))},e.\u0275cmp=u.Tb({type:e,selectors:[["app-change-password"]],decls:21,vars:4,consts:[[1,"customStyle"],[1,"title-style"],[3,"formGroup"],[1,"full"],["matInput","","type","password","placeholder","Current Password","formControlName","oldPassword","autocomplete","off","required",""],["matInput","","type","password","placeholder","New Password","formControlName","password","autocomplete","off","required",""],["type","password","matInput","","placeholder","Confirm New Password","formControlName","confirm_password","autocomplete","off","compare","password","required",""],[4,"ngIf"],["mat-stroked-button","","color","primary",1,"btn-block",3,"disabled","click"],[1,"red"]],template:function(e,t){1&e&&(u.fc(0,"mat-card",0),u.fc(1,"div",1),u.fc(2,"mat-card-title"),u.Qc(3,"Password Change Form"),u.ec(),u.ec(),u.fc(4,"mat-card-content"),u.fc(5,"form",2),u.fc(6,"mat-form-field",3),u.ac(7,"input",4),u.ec(),u.fc(8,"mat-form-field",3),u.ac(9,"input",5),u.ec(),u.fc(10,"mat-form-field",3),u.ac(11,"input",6),u.fc(12,"mat-error"),u.Qc(13," password does not match "),u.ec(),u.ec(),u.ec(),u.ec(),u.Pc(14,v,3,0,"div",7),u.fc(15,"mat-card-actions"),u.fc(16,"button",8),u.nc("click",(function(){return t.changePassword()})),u.Qc(17," Changed "),u.ec(),u.fc(18,"p"),u.Qc(19,"Note: Field marked with * is Mandatory"),u.ec(),u.ec(),u.Pc(20,y,3,0,"div",7),u.ec()),2&e&&(u.Ob(5),u.yc("formGroup",t.myform),u.Ob(9),u.yc("ngIf",t.show1),u.Ob(2),u.yc("disabled",!t.myform.valid),u.Ob(4),u.yc("ngIf",t.show))},directives:[h.a,h.f,h.c,o.t,o.n,o.g,p.c,g.b,o.c,o.m,o.f,o.r,p.b,i.m,h.b,b.b],styles:[".customStyle[_ngcontent-%COMP%]{border-radius:10px 10px 10px 10px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important;margin-bottom:15px}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.mat-stroked-button[_ngcontent-%COMP%]{width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}.red[_ngcontent-%COMP%]{color:#00f;font-size:16px}.reda[_ngcontent-%COMP%]{color:red}p[_ngcontent-%COMP%]{font-size:10px}.dd[_ngcontent-%COMP%]{width:120px;height:25px;margin-left:10px;margin-top:5px;margin-bottom:10px;text-align:left}a[_ngcontent-%COMP%]{cursor:pointer;margin-top:20px}.closeButton[_ngcontent-%COMP%]{width:30px;height:30px;margin-left:5px;cursor:pointer}"]}),e})();var w=c("d3UM"),P=c("FKr1");function O(e,t){if(1&e&&(u.fc(0,"mat-option",13),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.yc("value",e.id),u.Ob(1),u.Tc(" ",e.name," (",e.email,") ")}}function D(e,t){1&e&&(u.fc(0,"div",16),u.Qc(1,"Password is required"),u.ec())}function x(e,t){if(1&e&&(u.fc(0,"div",14),u.Pc(1,D,2,0,"div",15),u.ec()),2&e){const e=u.rc();u.Ob(1),u.yc("ngIf",e.myform.get("password").errors.required)}}let S=(()=>{class e{constructor(e,t,c){this.userService=e,this.fb=t,this.snackBar=c,this.users=[],this.nameUser=[],this.submitted=!1}ngOnInit(){this.myform=this.fb.group({user_id:["",[o.s.required]],password:["",[o.s.required]],confirm_password:["",[o.s.required,Object(m.a)("password")]]}),this.getAllUser()}getAllUser(){this.userService.getAllUser().subscribe(e=>{this.users=e,this.nameUser=this.users})}filterUser(e){this.users=this.nameUser.filter(t=>t.fullName.toLowerCase().indexOf(e)>-1)}resetPassword(){this.myform.markAllAsTouched(),this.submitted=!0,this.myform.invalid||(this.userService.resetPassword(this.myform.value).subscribe(e=>{this.openSnackBar()}),console.log(this.myform.value))}openSnackBar(){this.snackBar.open("Reset Successfully!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(d.a),u.Zb(o.e),u.Zb(f.a))},e.\u0275cmp=u.Tb({type:e,selectors:[["app-reset-password"]],decls:29,vars:3,consts:[[1,"customStyle"],[1,"title-style"],[3,"formGroup"],[1,"full"],["formControlName","user_id","required",""],["dl",""],["placeholder","search","autocomplete","off",1,"dd",3,"keyup"],[1,"closeButton",3,"click"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","password","placeholder","New Password","formControlName","password","autocomplete","off","required",""],["class","invalid-feedback",4,"ngIf"],["type","password","matInput","","placeholder","Confirm New Password","formControlName","confirm_password","required","","autocomplete","off","compare","password"],["mat-stroked-button","","color","primary",1,"btn-block",3,"click"],[3,"value"],[1,"invalid-feedback"],["class","reda",4,"ngIf"],[1,"reda"]],template:function(e,t){if(1&e){const e=u.gc();u.fc(0,"mat-card",0),u.fc(1,"div",1),u.fc(2,"mat-card-title"),u.Qc(3,"Password Reset Form"),u.ec(),u.ec(),u.fc(4,"mat-card-content"),u.fc(5,"form",2),u.fc(6,"mat-form-field",3),u.fc(7,"mat-label"),u.Qc(8,"User Email"),u.ec(),u.fc(9,"mat-select",4,5),u.fc(11,"input",6),u.nc("keyup",(function(e){return t.filterUser(e.target.value)})),u.ec(),u.fc(12,"a"),u.fc(13,"button",7),u.nc("click",(function(){return u.Hc(e),u.Fc(10).close()})),u.fc(14,"b"),u.Qc(15,"x"),u.ec(),u.ec(),u.ec(),u.Pc(16,O,2,3,"mat-option",8),u.ec(),u.ec(),u.fc(17,"mat-form-field",3),u.ac(18,"input",9),u.ec(),u.Pc(19,x,2,1,"div",10),u.fc(20,"mat-form-field",3),u.ac(21,"input",11),u.fc(22,"mat-error"),u.Qc(23," password does not match "),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(24,"mat-card-actions"),u.fc(25,"button",12),u.nc("click",(function(){return t.resetPassword()})),u.Qc(26," Reset "),u.ec(),u.fc(27,"p"),u.Qc(28,"Note: Field marked with * is Mandatory"),u.ec(),u.ec(),u.ec()}2&e&&(u.Ob(5),u.yc("formGroup",t.myform),u.Ob(11),u.yc("ngForOf",t.users),u.Ob(3),u.yc("ngIf",t.submitted&&t.myform.get("password").errors))},directives:[h.a,h.f,h.c,o.t,o.n,o.g,p.c,p.g,w.a,o.m,o.f,o.r,i.l,g.b,o.c,i.m,p.b,h.b,b.b,P.o],styles:[".customStyle[_ngcontent-%COMP%]{border-radius:10px 10px 10px 10px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important;margin-bottom:15px}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.mat-stroked-button[_ngcontent-%COMP%]{width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}.red[_ngcontent-%COMP%]{color:#00f;font-size:16px}.reda[_ngcontent-%COMP%]{margin-left:5%;color:red}p[_ngcontent-%COMP%]{font-size:10px}.dd[_ngcontent-%COMP%]{width:120px;height:25px;margin-left:10px;margin-top:5px;margin-bottom:10px;text-align:left}a[_ngcontent-%COMP%]{cursor:pointer;margin-top:20px}.closeButton[_ngcontent-%COMP%]{width:30px;height:30px;margin-left:5px;cursor:pointer}"]}),e})();var I=c("idFR"),k=c("M5z4"),_=c("XiUz"),M=c("NFeN"),Q=c("7EHt"),R=c("bSwM"),A=c("/1cH"),B=c("MutI"),N=c("f0Cb");function U(e,t){if(1&e&&(u.fc(0,"mat-option",49),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.yc("value",e.id),u.Ob(1),u.Sc(" ",e.name," ")}}function F(e,t){if(1&e&&(u.fc(0,"mat-option",49),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.yc("value",e.value),u.Ob(1),u.Sc(" ",e.value," ")}}function T(e,t){if(1&e&&(u.fc(0,"span",54),u.Qc(1),u.ec()),2&e){const e=u.rc(2);u.Ob(1),u.Tc("Name: ",e.customerInfo.name," Email:",e.customerInfo.email,"")}}function Z(e,t){if(1&e){const e=u.gc();u.fc(0,"mat-option",49),u.fc(1,"mat-list"),u.fc(2,"mat-list-item",46),u.nc("click",(function(){u.Hc(e);const c=t.$implicit;return u.rc(2).onChangeCustomer(c)})),u.Qc(3),u.ec(),u.ac(4,"mat-divider"),u.ec(),u.ec()}if(2&e){const e=t.$implicit;u.yc("value",e.customer_id),u.Ob(3),u.Tc(" ",e.name,"(",e.customer_id,") ")}}function L(e,t){if(1&e){const e=u.gc();u.fc(0,"div"),u.fc(1,"mat-form-field",21),u.fc(2,"input",50),u.nc("keyup",(function(t){return u.Hc(e),u.rc().applySearch(t.target.value)})),u.ec(),u.fc(3,"mat-hint",51),u.Qc(4," Please input customer id"),u.ec(),u.ec(),u.Pc(5,T,2,2,"span",52),u.fc(6,"mat-autocomplete",null,53),u.Pc(8,Z,5,3,"mat-option",14),u.ec(),u.ec()}if(2&e){const e=u.Fc(7),t=u.rc();u.Ob(2),u.yc("matAutocomplete",e),u.Ob(3),u.yc("ngIf",t.customerInfo),u.Ob(3),u.yc("ngForOf",t.customerData)}}function E(e,t){if(1&e&&(u.fc(0,"span",54),u.Qc(1),u.ec()),2&e){const e=u.rc(2);u.Ob(1),u.Tc("Name: ",e.customerInfo.name," Email:",e.customerInfo.email,"")}}function $(e,t){if(1&e){const e=u.gc();u.fc(0,"mat-option",49),u.fc(1,"mat-list"),u.fc(2,"mat-list-item",46),u.nc("click",(function(){u.Hc(e);const c=t.$implicit;return u.rc(2).onChangeCustomer(c)})),u.Qc(3),u.ec(),u.ac(4,"mat-divider"),u.ec(),u.ec()}if(2&e){const e=t.$implicit;u.yc("value",e.customer_id),u.Ob(3),u.Tc(" ",e.name,"(",e.customer_id,") ")}}function H(e,t){if(1&e){const e=u.gc();u.fc(0,"div"),u.fc(1,"mat-form-field",21),u.fc(2,"input",55),u.nc("keyup",(function(t){return u.Hc(e),u.rc().resellerSearch(t.target.value)})),u.ec(),u.fc(3,"mat-hint",51),u.Qc(4," Please input reseller id"),u.ec(),u.ec(),u.Pc(5,E,2,2,"span",52),u.fc(6,"mat-autocomplete",null,53),u.Pc(8,$,5,3,"mat-option",14),u.ec(),u.ec()}if(2&e){const e=u.Fc(7),t=u.rc();u.Ob(2),u.yc("matAutocomplete",e),u.Ob(3),u.yc("ngIf",t.customerInfo),u.Ob(3),u.yc("ngForOf",t.resellerData)}}function j(e,t){if(1&e&&(u.fc(0,"mat-option",49),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.yc("value",e.value),u.Ob(1),u.Sc(" ",e.value," ")}}function q(e,t){if(1&e&&(u.fc(0,"mat-option",49),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.yc("value",e.id),u.Ob(1),u.Sc(" ",e.value," ")}}function z(e,t){if(1&e&&u.ac(0,"img",56),2&e){const e=u.rc();u.yc("src",e.imgurl,u.Ic)}}function G(e,t){if(1&e&&(u.fc(0,"mat-option",49),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.yc("value",e.id),u.Ob(1),u.Sc(" ",e.value," ")}}function V(e,t){if(1&e&&(u.fc(0,"mat-option",49),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.yc("value",e.id),u.Ob(1),u.Sc(" ",e.value," ")}}function W(e,t){if(1&e&&(u.fc(0,"div",57),u.fc(1,"div",58),u.fc(2,"mat-form-field",5),u.ac(3,"input",59),u.ec(),u.fc(4,"mat-form-field",5),u.ac(5,"input",60),u.ec(),u.ec(),u.ec()),2&e){const e=t.index;u.Ob(1),u.yc("formArrayName",e)}}let X=(()=>{class e{constructor(e,t,c,i,o,r){this.fb=e,this.router=t,this.snackBar=c,this.userService=i,this.rolesService=o,this.customerService=r,this.imgurl=null,this.fileUpload=null,this.object={},this.fieldArray=[],this.submitted=!1,this.selectedLatitude=0,this.selectedLongitude=0,this.selectedZoom=0,this.mapTypes=[{id:1,value:"OpenStree Map"},{id:2,value:"Bing Map"},{id:3,value:"Baidu Map"}],this.formats=[{id:1,value:"Decimal Degrees"},{id:2,value:"Degress Decimal Minutes"},{id:3,value:"Degrees Minutes Seconds"}],this.states=[{id:1,value:"Active"},{id:0,value:"Inactive"}],this.roles=[{id:1,value:"Admin"},{id:0,value:"User"}],this.gend=[{value:"Male"},{value:"Female"}],this.userTypes=[{value:"Admin"},{value:"Reseller"},{value:"Customer"}],this.step=0}setStep(e){this.step=e}ngOnInit(){this.myform=this.fb.group({firstName:["",[o.s.required]],lastName:["",[o.s.required]],mobile:["",o.s.pattern("[- +()0-9]+")],email:["",[o.s.required,o.s.email]],customer_id:[],address:[""],gender:[""],userType:[""],userRole:["",[o.s.required]],image:[""],password:["",[o.s.required]],confirmPassword:["",[o.s.required,Object(m.a)("password")]],mapLayer:[""],latitude:[""],longitude:[""],zoom:[],hourFormat:[],cordinatesFormat:[""],poiLayer:[""],disabled:[],admin:[],readonly:[],deviceReadonly:[],limitCommands:[],expiration:[],deviceLimit:[],userLimit:[],token:[],created_by:[""],status:[,[o.s.required]],attributes:this.fb.array([])}),this.getAllRole()}assignAttributes(){return this.fb.group({name:[""],value:[""]})}get fArray(){return this.myform.get("attributes")}addassignTicket(){this.fArray.push(this.assignAttributes())}isCustomer(e){const t=this.myform.get("customer_id");"Customer"===e?t.setValidators(o.s.required):t.clearValidators(),t.updateValueAndValidity()}getAllRole(){this.rolesService.getAllRole().subscribe(e=>{this.userRoles=e,this.filterRoles=this.userRoles})}applyFilter(e){this.userRoles=this.filterRoles.filter(t=>t.name.toLowerCase().indexOf(e)>-1)}onFileSelected(e){if(e.target.files.length>0){this.images=e.target.files[0];const t=new FileReader;t.onload=e=>{this.imgurl=e.target.result},t.readAsDataURL(this.images)}}openSnackBar(){this.snackBar.open("Successfully added!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}errorMessage(){this.snackBar.open("Something is error!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}applySearch(e){this.customerService.customerSearch({name:e}).subscribe(e=>{this.customerData=e,console.log(this.customerData)})}resellerSearch(e){this.customerService.resellerSearch({name:e}).subscribe(e=>{this.resellerData=e,console.log(this.resellerData)})}onChangeCustomer(e){this.myform.value.customer_id=e.customer_id,this.customerInfo=e}onChange(e){console.log(e),"Customer"==e?(this.showCustommerField=1,this.showResellerField=0,console.log(this.showCustommerField)):"Reseller"==e?(this.showResellerField=1,this.showCustommerField=0):(this.showCustommerField=0,this.showResellerField=0)}addUser(){if(this.myform.markAllAsTouched(),this.submitted=!0,this.myform.invalid)return;console.log(this.myform.value.attributes),this.myform.value.attributes&&this.myform.value.attributes.forEach(e=>{this.object[e.name]=e.value}),this.myform.value.attributes=this.object;const e=new FormData;e.append("image",this.images),e.append("firstName",this.myform.get("firstName").value),e.append("lastName",this.myform.get("lastName").value),e.append("mobile",this.myform.get("mobile").value),e.append("email",this.myform.get("email").value),e.append("customer_id",this.myform.value.customer_id),e.append("password",this.myform.get("password").value),e.append("userRole",this.myform.get("userRole").value),e.append("userType",this.myform.get("userType").value),e.append("address",this.myform.get("address").value),e.append("gender",this.myform.get("gender").value),e.append("status",this.myform.get("status").value),e.append("mapLayer",this.myform.get("mapLayer").value),e.append("latitude",this.myform.get("latitude").value),e.append("longitude",this.myform.get("longitude").value),e.append("zoom",this.myform.get("zoom").value),e.append("hourFormat",this.myform.get("hourFormat").value),e.append("cordinatesFormat",this.myform.get("cordinatesFormat").value),e.append("poiLayer",this.myform.get("poiLayer").value),e.append("disabled",this.myform.get("disabled").value),e.append("admin",this.myform.get("admin").value),e.append("readonly",this.myform.get("readonly").value),e.append("deviceReadonly",this.myform.get("deviceReadonly").value),e.append("expiration",this.myform.get("expiration").value),e.append("deviceLimit",this.myform.get("deviceLimit").value),e.append("userLimit",this.myform.get("userLimit").value),e.append("attributes",JSON.stringify(this.object)),e.append("token",this.myform.get("token").value),e.append("created_by",this.myform.value.created_by),console.log(this.myform.value),this.userService.addUser(e).subscribe(e=>{this.openSnackBar(),this.router.navigate(["admin/authorization/users/list"])},e=>{this.errorMessage()})}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(o.e),u.Zb(n.c),u.Zb(f.a),u.Zb(d.a),u.Zb(I.a),u.Zb(k.a))},e.\u0275cmp=u.Tb({type:e,selectors:[["app-user-add"]],decls:130,vars:18,consts:[[1,"customStyle"],[1,"title-style"],[3,"formGroup"],["fxLayout","row","fxLayout.xs","column",1,"main"],["fxFlex","50%"],[1,"half"],["trim","blur","matInput","","placeholder","First Name","formControlName","firstName","autocomplete","off","required",""],["trim","blur","matInput","","placeholder","Last Name","formControlName","lastName","autocomplete","off","required",""],["trim","blur","matInput","","placeholder","Mobile","formControlName","mobile","autocomplete","off","required",""],["trim","blur","matInput","","placeholder","Email","formControlName","email","autocomplete","off","required",""],["formControlName","userRole","required",""],["sl",""],["matInput","","placeholder","search","autocomplete","off",1,"filterBox",3,"keyup"],[1,"closeButton",3,"click"],[3,"value",4,"ngFor","ngForOf"],["formControlName","userType","required","",3,"ngModelChange"],[4,"ngIf"],["matInput","","type","password","placeholder","Password","formControlName","password","autocomplete","off","required",""],["type","password","matInput","","placeholder","Confirm Password","formControlName","confirmPassword","autocomplete","off","compare","password","required",""],["formControlName","gender"],["formControlName","status","required",""],[1,"full"],["matInput","","placeholder","Address","formControlName","address","autocomplete","off"],["type","hide","style","width:100px;height:50px",3,"src",4,"ngIf"],[1,"image"],["type","file","formControlName","image","enctype","multipart/form-data","max-size","2",3,"change"],[1,"example-headers-align"],["hideToggle","",3,"expanded","opened"],["matInput","","placeholder","POI Layer","formControlName","poiLayer","autocomplete","off"],["required","",1,"half"],["formControlName","mapLayer"],["matInput","","placeholder","Latitude","formControlName","latitude","autocomplete","off",3,"ngModel","ngModelChange"],["matInput","","placeholder","Longitude","formControlName","longitude","autocomplete","off",3,"ngModel","ngModelChange"],["matInput","","placeholder","Zoom","formControlName","zoom","autocomplete","off",3,"ngModel","ngModelChange"],["formControlName","cordinatesFormat"],["formControlName","hourFormat","labelPosition","before",1,"checkbox"],["formControlName","disabled","labelPosition","before",1,"checkbox"],["formControlName","admin","labelPosition","before",1,"checkbox"],["formControlName","readonly","labelPosition","before",1,"checkbox"],["formControlName","deviceReadonly","labelPosition","before",1,"checkbox"],["formControlName","limitCommands","labelPosition","before",1,"checkbox"],["matInput","","placeholder","Expiration","formControlName","expiration","autocomplete","off"],["matInput","","placeholder","Device Limit","formControlName","deviceLimit","autocomplete","off"],["matInput","","placeholder","User Limit","formControlName","userLimit","autocomplete","off"],["matInput","","placeholder","Token","formControlName","token","autocomplete","off"],["formArrayName","attributes",4,"ngFor","ngForOf"],[3,"click"],[1,"button"],["mat-stroked-button","","color","primary",1,"btn-block",3,"disabled","click"],[3,"value"],["matInput","","placeholder","Customer","formControlName","customer_id","required","",3,"matAutocomplete","keyup"],["align","end"],["class","customerInfo",4,"ngIf"],["auto","matAutocomplete"],[1,"customerInfo"],["matInput","","placeholder","Reseller","formControlName","customer_id","required","",3,"matAutocomplete","keyup"],["type","hide",2,"width","100px","height","50px",3,"src"],["formArrayName","attributes"],[3,"formArrayName"],["trim","blur","matInput","","placeholder","Name","formControlName","name","autocomplete","off"],["trim","blur","matInput","","placeholder","Value","formControlName","value","autocomplete","off"]],template:function(e,t){if(1&e){const e=u.gc();u.fc(0,"mat-card",0),u.fc(1,"div",1),u.fc(2,"mat-card-title"),u.Qc(3,"User Add Form"),u.ec(),u.ec(),u.fc(4,"mat-card-content"),u.fc(5,"form",2),u.fc(6,"div",3),u.fc(7,"div",4),u.fc(8,"mat-form-field",5),u.ac(9,"input",6),u.ec(),u.fc(10,"mat-form-field",5),u.ac(11,"input",7),u.ec(),u.fc(12,"mat-form-field",5),u.ac(13,"input",8),u.ec(),u.fc(14,"mat-form-field",5),u.ac(15,"input",9),u.ec(),u.fc(16,"mat-form-field",5),u.fc(17,"mat-label"),u.Qc(18,"User Role"),u.ec(),u.fc(19,"mat-select",10,11),u.fc(21,"input",12),u.nc("keyup",(function(e){return t.applyFilter(e.target.value)})),u.ec(),u.fc(22,"a"),u.fc(23,"mat-icon",13),u.nc("click",(function(){return u.Hc(e),u.Fc(20).close()})),u.Qc(24,"clear"),u.ec(),u.ec(),u.Pc(25,U,2,2,"mat-option",14),u.ec(),u.ec(),u.fc(26,"mat-form-field",5),u.fc(27,"mat-label"),u.Qc(28,"User Type"),u.ec(),u.fc(29,"mat-select",15),u.nc("ngModelChange",(function(e){return t.onChange(e)}))("ngModelChange",(function(e){return t.isCustomer(e)})),u.Pc(30,F,2,2,"mat-option",14),u.ec(),u.ec(),u.Pc(31,L,9,3,"div",16),u.Pc(32,H,9,3,"div",16),u.fc(33,"mat-form-field",5),u.ac(34,"input",17),u.ec(),u.fc(35,"mat-form-field",5),u.ac(36,"input",18),u.fc(37,"mat-error"),u.Qc(38," password does not match "),u.ec(),u.ec(),u.fc(39,"mat-form-field",5),u.fc(40,"mat-label"),u.Qc(41,"Gender"),u.ec(),u.fc(42,"mat-select",19),u.Pc(43,j,2,2,"mat-option",14),u.ec(),u.ec(),u.fc(44,"mat-form-field",5),u.fc(45,"mat-label"),u.Qc(46,"Status"),u.ec(),u.fc(47,"mat-select",20),u.Pc(48,q,2,2,"mat-option",14),u.ec(),u.ec(),u.fc(49,"mat-form-field",21),u.ac(50,"textarea",22),u.ec(),u.fc(51,"div",21),u.Pc(52,z,1,1,"img",23),u.fc(53,"mat-label",24),u.Qc(54,"Image "),u.ec(),u.fc(55,"input",25),u.nc("change",(function(e){return t.onFileSelected(e)})),u.ec(),u.ec(),u.ec(),u.fc(56,"div",4),u.fc(57,"mat-accordion",26),u.fc(58,"mat-expansion-panel",27),u.nc("opened",(function(){return t.setStep(1)})),u.fc(59,"mat-expansion-panel-header"),u.fc(60,"mat-panel-title"),u.fc(61,"mat-icon"),u.Qc(62,"add"),u.ec(),u.Qc(63," Preferences "),u.ec(),u.ec(),u.fc(64,"mat-form-field",5),u.ac(65,"input",28),u.ec(),u.fc(66,"mat-form-field",29),u.fc(67,"mat-label"),u.Qc(68,"Map Layer"),u.ec(),u.fc(69,"mat-select",30),u.Pc(70,G,2,2,"mat-option",14),u.ec(),u.ec(),u.fc(71,"mat-form-field",5),u.fc(72,"input",31),u.nc("ngModelChange",(function(e){return t.selectedLatitude=e})),u.ec(),u.ec(),u.fc(73,"mat-form-field",5),u.fc(74,"input",32),u.nc("ngModelChange",(function(e){return t.selectedLongitude=e})),u.ec(),u.ec(),u.fc(75,"mat-form-field",5),u.fc(76,"input",33),u.nc("ngModelChange",(function(e){return t.selectedZoom=e})),u.ec(),u.ec(),u.fc(77,"mat-form-field",29),u.fc(78,"mat-label"),u.Qc(79,"Coordinates Format"),u.ec(),u.fc(80,"mat-select",34),u.Pc(81,V,2,2,"mat-option",14),u.ec(),u.ec(),u.fc(82,"mat-checkbox",35),u.Qc(83," 12 Hour Format "),u.ec(),u.ec(),u.ec(),u.fc(84,"mat-accordion",26),u.fc(85,"mat-expansion-panel",27),u.nc("opened",(function(){return t.setStep(2)})),u.fc(86,"mat-expansion-panel-header"),u.fc(87,"mat-panel-title"),u.fc(88,"mat-icon"),u.Qc(89,"add"),u.ec(),u.Qc(90," Permissions "),u.ec(),u.ec(),u.fc(91,"div"),u.fc(92,"mat-checkbox",36),u.Qc(93," Disabled "),u.ec(),u.ec(),u.fc(94,"div"),u.fc(95,"mat-checkbox",37),u.Qc(96," Admin "),u.ec(),u.ec(),u.fc(97,"div"),u.fc(98,"mat-checkbox",38),u.Qc(99," Readonly "),u.ec(),u.ec(),u.fc(100,"div"),u.fc(101,"mat-checkbox",39),u.Qc(102," Device Readonly "),u.ec(),u.ec(),u.fc(103,"div"),u.fc(104,"mat-checkbox",40),u.Qc(105," Limit Commands "),u.ec(),u.ec(),u.fc(106,"mat-form-field",5),u.ac(107,"input",41),u.ec(),u.fc(108,"mat-form-field",5),u.ac(109,"input",42),u.ec(),u.fc(110,"mat-form-field",5),u.ac(111,"input",43),u.ec(),u.fc(112,"mat-form-field",5),u.ac(113,"input",44),u.ec(),u.ec(),u.ec(),u.fc(114,"mat-accordion",26),u.fc(115,"mat-expansion-panel",27),u.nc("opened",(function(){return t.setStep(3)})),u.fc(116,"mat-expansion-panel-header"),u.fc(117,"mat-panel-title"),u.fc(118,"mat-icon"),u.Qc(119,"add"),u.ec(),u.Qc(120," Attributes "),u.ec(),u.ec(),u.Pc(121,W,6,1,"div",45),u.fc(122,"button",46),u.nc("click",(function(){return t.addassignTicket()})),u.fc(123,"mat-icon"),u.Qc(124,"add"),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(125,"mat-card-actions",47),u.fc(126,"button",48),u.nc("click",(function(){return t.addUser()})),u.Qc(127," Submit "),u.ec(),u.fc(128,"p"),u.Qc(129,"Note: Field marked with * is Mandatory"),u.ec(),u.ec(),u.ec()}2&e&&(u.Ob(5),u.yc("formGroup",t.myform),u.Ob(20),u.yc("ngForOf",t.userRoles),u.Ob(5),u.yc("ngForOf",t.userTypes),u.Ob(1),u.yc("ngIf",1==t.showCustommerField),u.Ob(1),u.yc("ngIf",1==t.showResellerField),u.Ob(11),u.yc("ngForOf",t.gend),u.Ob(5),u.yc("ngForOf",t.states),u.Ob(4),u.yc("ngIf",t.imgurl),u.Ob(6),u.yc("expanded",1===t.step),u.Ob(12),u.yc("ngForOf",t.mapTypes),u.Ob(2),u.yc("ngModel",t.selectedLatitude),u.Ob(2),u.yc("ngModel",t.selectedLongitude),u.Ob(2),u.yc("ngModel",t.selectedZoom),u.Ob(5),u.yc("ngForOf",t.formats),u.Ob(4),u.yc("expanded",2===t.step),u.Ob(30),u.yc("expanded",3===t.step),u.Ob(6),u.yc("ngForOf",t.myform.get("attributes").controls),u.Ob(5),u.yc("disabled",!t.myform.valid))},directives:[h.a,h.f,h.c,o.t,o.n,o.g,_.b,_.a,p.c,g.b,o.c,o.m,o.f,o.r,p.g,w.a,M.a,i.l,i.m,p.b,Q.a,Q.c,Q.d,Q.e,R.a,h.b,b.b,P.o,A.c,p.f,A.a,B.a,B.b,N.a,o.d],styles:["mat-card[_ngcontent-%COMP%]{width:90%;top:0}.main[_ngcontent-%COMP%]{width:100%}.mainContent[_ngcontent-%COMP%]{width:50%}.optionalContent[_ngcontent-%COMP%]{width:50%;margin-top:-370px;float:right}.customStyle[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.mat-stroked-button[_ngcontent-%COMP%]{width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}.image[_ngcontent-%COMP%]{margin-right:10px}.checkbox[_ngcontent-%COMP%]{margin-left:15px}mat-grid-tile[_ngcontent-%COMP%]{background:#add8e6}.button[_ngcontent-%COMP%]{margin-top:35px}.filterBox[_ngcontent-%COMP%]{width:150px;height:25px;margin-left:10px;margin-top:5px;margin-bottom:5px;border-radius:10px 10px 10px 10px;border:2px solid #000}.customerInfo[_ngcontent-%COMP%]{margin-left:5%;font-size:12px}"]}),e})();function J(e,t){if(1&e&&(u.fc(0,"mat-option",45),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.yc("value",e.id),u.Ob(1),u.Sc(" ",e.name," ")}}function K(e,t){if(1&e&&(u.fc(0,"mat-option",45),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.yc("value",e.value),u.Ob(1),u.Sc(" ",e.value," ")}}function Y(e,t){if(1&e&&(u.fc(0,"span",50),u.Qc(1),u.ec()),2&e){const e=u.rc(2);u.Ob(1),u.Tc("Name: ",e.customerInfo.name," Email:",e.customerInfo.email,"")}}function ee(e,t){if(1&e){const e=u.gc();u.fc(0,"mat-option",45),u.fc(1,"mat-list"),u.fc(2,"mat-list-item",42),u.nc("click",(function(){u.Hc(e);const c=t.$implicit;return u.rc(2).onChangeCustomer(c)})),u.Qc(3),u.ec(),u.ac(4,"mat-divider"),u.ec(),u.ec()}if(2&e){const e=t.$implicit;u.yc("value",e.customer_id),u.Ob(3),u.Tc(" ",e.name,"(",e.customer_id,") ")}}function te(e,t){if(1&e){const e=u.gc();u.fc(0,"div"),u.fc(1,"mat-form-field",21),u.fc(2,"input",46),u.nc("ngModelChange",(function(t){return u.Hc(e),u.rc().customer_id=t}))("keyup",(function(t){return u.Hc(e),u.rc().applySearch(t.target.value)})),u.ec(),u.fc(3,"mat-hint",47),u.Qc(4,"Please input customer id"),u.ec(),u.ec(),u.Pc(5,Y,2,2,"span",48),u.fc(6,"mat-autocomplete",null,49),u.Pc(8,ee,5,3,"mat-option",15),u.ec(),u.ec()}if(2&e){const e=u.Fc(7),t=u.rc();u.Ob(2),u.yc("matAutocomplete",e)("ngModel",t.customer_id),u.Ob(3),u.yc("ngIf",t.customerInfo),u.Ob(3),u.yc("ngForOf",t.customerData)}}function ce(e,t){if(1&e&&(u.fc(0,"span",50),u.Qc(1),u.ec()),2&e){const e=u.rc(2);u.Ob(1),u.Tc("Name: ",e.customerInfo.name," Email:",e.customerInfo.email,"")}}function ie(e,t){if(1&e){const e=u.gc();u.fc(0,"mat-option",45),u.fc(1,"mat-list"),u.fc(2,"mat-list-item",42),u.nc("click",(function(){u.Hc(e);const c=t.$implicit;return u.rc(2).onChangeCustomer(c)})),u.Qc(3),u.ec(),u.ac(4,"mat-divider"),u.ec(),u.ec()}if(2&e){const e=t.$implicit;u.yc("value",e.customer_id),u.Ob(3),u.Tc(" ",e.name,"(",e.customer_id,") ")}}function oe(e,t){if(1&e){const e=u.gc();u.fc(0,"div"),u.fc(1,"mat-form-field",21),u.fc(2,"input",51),u.nc("ngModelChange",(function(t){return u.Hc(e),u.rc().customer_id=t}))("keyup",(function(t){return u.Hc(e),u.rc().resellerSearch(t.target.value)})),u.ec(),u.fc(3,"mat-hint",47),u.Qc(4," Please input reseller id"),u.ec(),u.ec(),u.Pc(5,ce,2,2,"span",48),u.fc(6,"mat-autocomplete",null,49),u.Pc(8,ie,5,3,"mat-option",15),u.ec(),u.ec()}if(2&e){const e=u.Fc(7),t=u.rc();u.Ob(2),u.yc("matAutocomplete",e)("ngModel",t.customer_id),u.Ob(3),u.yc("ngIf",t.customerInfo),u.Ob(3),u.yc("ngForOf",t.resellerData)}}function re(e,t){if(1&e&&(u.fc(0,"mat-option",45),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.yc("value",e.value),u.Ob(1),u.Sc(" ",e.value," ")}}function ae(e,t){if(1&e&&(u.fc(0,"mat-option",45),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.yc("value",e.id),u.Ob(1),u.Sc(" ",e.value," ")}}function se(e,t){if(1&e&&(u.fc(0,"mat-option",45),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.yc("value",e.id),u.Ob(1),u.Sc(" ",e.value," ")}}function ne(e,t){if(1&e&&(u.fc(0,"mat-option",45),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.yc("value",e.id),u.Ob(1),u.Sc(" ",e.value," ")}}function le(e,t){if(1&e&&(u.fc(0,"div",52),u.fc(1,"div",53),u.fc(2,"mat-form-field",6),u.ac(3,"input",54),u.ec(),u.fc(4,"mat-form-field",6),u.ac(5,"input",55),u.ec(),u.ec(),u.ec()),2&e){const e=t.index;u.Ob(1),u.yc("formArrayName",e)}}let me=(()=>{class e{constructor(e,t,c,i,o,r,a){this.fb=e,this.router=t,this.snackBar=c,this.userService=i,this.rolesService=o,this.route=r,this.customerService=a,this.customerIndex=[],this.imgurl=null,this.fileUpload=null,this.object={},this.fieldArray=[],this.submitted=!1,this.mapTypes=[{id:1,value:"OpenStree Map"},{id:2,value:"Bing Map"},{id:3,value:"Baidu Map"}],this.formats=[{id:1,value:"Decimal Degrees"},{id:2,value:"Degress Decimal Minutes"},{id:3,value:"Degrees Minutes Seconds"}],this.states=[{id:1,value:"Active"},{id:0,value:"Inactive"}],this.roles=[{id:1,value:"Admin"},{id:0,value:"User"}],this.gend=[{value:"Male"},{value:"Female"}],this.userTypes=[{value:"Admin"},{value:"Reseller"},{value:"Customer"}],this.step=0}setStep(e){this.step=e}ngOnInit(){this.myform=this.fb.group({firstName:["",[o.s.required]],lastName:["",[o.s.required]],mobile:["",o.s.pattern("[- +()0-9]+")],email:["",[o.s.required,o.s.email]],address:[""],customer_id:[""],gender:[""],userRole:["",[o.s.required]],userType:[""],mapLayer:[""],latitude:[""],longitude:[""],zoom:[],hourFormat:[],cordinatesFormat:[""],poiLayer:[],disabled:[],admin:[],readonly:[],deviceReadonly:[],limitCommands:[],expiration:[],deviceLimit:[],userLimit:[],token:[],created_by:[""],status:[,[o.s.required]],attributes:this.fb.array([])}),this.route.paramMap.subscribe(e=>{this.Id=e.get("id"),this.edit(this.Id)}),this.getAllRole(),this.getAllCustomer()}assignAttributes(){return this.fb.group({name:[""],value:[""]})}get fArray(){return this.myform.get("attributes")}addassignTicket(){this.fArray.push(this.assignAttributes())}getAllRole(){this.rolesService.getAllRole().subscribe(e=>{this.userRoles=e,this.filterRoles=this.userRoles})}openSnackBar(){this.snackBar.open("Successfully added!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}errorMessage(){this.snackBar.open("Something is error!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}edit(e){this.userService.getUserById(e).subscribe(e=>{this.d=e,console.log(this.d);var t=JSON.parse(this.d.attributes),c=Object.entries(t);this.attr=[],c.forEach(e=>{this.attr.push({name:e[0],value:e[1]})}),this.d.attributes=this.attr,console.log(this.d.attributes),this.setData(this.d)})}setData(e){this.myform.patchValue({firstName:e.first_name,lastName:e.last_name,mobile:e.phone,email:e.email,address:e.address,gender:e.gender,userRole:e.user_role,userType:e.user_type,mapLayer:e.map,latitude:e.latitude,longitude:e.longitude,zoom:e.zoom,hourFormat:e.twelvehourformat,cordinatesFormat:e.cordinatesformat,poiLayer:e.poilayer,disabled:e.disabled,admin:e.administrator,readonly:e.readonly,deviceReadonly:e.devicereadonly,limitCommands:e.limitcommands,expiration:e.expirationtime,deviceLimit:e.devicelimit,userLimit:e.userlimit,token:e.token,status:e.status}),0==e.customer_id&&(this.customer_id=""),0!=e.customer_id&&(this.customer_id=e.customer_id),this.createdBy=e.created_by,this.image=e.image,this.password=e.password,this.setAttributes()}setAttributes(){let e=this.myform.controls.attributes;this.d.attributes.forEach(t=>{e.push(this.fb.group(t))})}applyFilter(e){this.userRoles=this.filterRoles.filter(t=>t.name.toLowerCase().indexOf(e)>-1)}getAllCustomer(){this.customerService.getAllCustomerList().subscribe(e=>{this.customers=e,console.log(this.customers),this.customers.forEach((e,t)=>{this.customerIndex[e.customer_id]=this.customers[t]})})}applySearch(e){this.customerService.customerSearch({name:e}).subscribe(e=>{this.customerData=e,console.log(this.customerData)})}resellerSearch(e){this.customerService.resellerSearch({name:e}).subscribe(e=>{this.resellerData=e,console.log(this.resellerData)})}onChangeCustomer(e){this.myform.value.customer_id=e.customer_id,this.customerInfo=e}onChange(e){console.log(e),"Customer"==e?(this.showCustommerField=1,this.showResellerField=0,console.log(this.showCustommerField)):"Reseller"==e?(this.showResellerField=1,this.showCustommerField=0):(this.showCustommerField=0,this.showResellerField=0)}isCustomer(e){const t=this.myform.get("customer_id");"Customer"===e?t.setValidators(o.s.required):t.clearValidators(),t.updateValueAndValidity()}goBack(){this.router.navigate(["admin/authorization/users/list"])}updateUser(){this.myform.markAllAsTouched(),this.submitted=!0,this.myform.invalid||(this.myform.value.attributes.forEach(e=>{this.object[e.name]=e.value}),this.myform.value.attributes=this.object,this.userData=JSON.parse(localStorage.getItem("userData")),this.myform.value.updated_by=this.userData.id,this.myform.value.updated_time=new Date,this.myform.value.created_by=this.createdBy,this.myform.value.password=this.userData.password,this.myform.value.image=this.userData.image,this.myform.value.customer_id=this.customer_id,this.userService.updateUser(this.Id,this.myform.value).subscribe(e=>{this.openSnackBar(),this.router.navigate(["admin/authorization/users/list"])}))}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(o.e),u.Zb(n.c),u.Zb(f.a),u.Zb(d.a),u.Zb(I.a),u.Zb(n.a),u.Zb(k.a))},e.\u0275cmp=u.Tb({type:e,selectors:[["app-user-edit"]],decls:122,vars:14,consts:[[1,"customStyle"],["mat-button","",1,"mat-primary",3,"click"],[1,"title-style"],[3,"formGroup"],["fxLayout","row","fxLayout.xs","column",1,"main"],["fxFlex","50%"],[1,"half"],["trim","blur","matInput","","placeholder","First Name","formControlName","firstName","autocomplete","off","required",""],["trim","blur","matInput","","placeholder","Last Name","formControlName","lastName","autocomplete","off","required",""],["trim","blur","matInput","","placeholder","Mobile","formControlName","mobile","autocomplete","off","required",""],["trim","blur","matInput","","placeholder","Email","formControlName","email","autocomplete","off","required",""],["formControlName","userRole","required",""],["sl",""],["matInput","","placeholder","search","autocomplete","off",1,"filterBox",3,"keyup"],[1,"closeButton",3,"click"],[3,"value",4,"ngFor","ngForOf"],["formControlName","userType","required","",3,"ngModelChange"],[4,"ngIf"],["formControlName","gender"],["required","",1,"half"],["formControlName","status","required",""],[1,"full"],["matInput","","placeholder","Address","formControlName","address","autocomplete","off"],[1,"example-headers-align"],["hideToggle","",3,"expanded","opened"],["matInput","","placeholder","POI Layer","formControlName","poiLayer","autocomplete","off"],["formControlName","mapLayer"],["matInput","","placeholder","Latitude","formControlName","latitude","autocomplete","off"],["matInput","","placeholder","Longitude","formControlName","longitude","autocomplete","off"],["matInput","","placeholder","Zoom","formControlName","zoom","autocomplete","off"],["formControlName","cordinatesFormat"],["formControlName","hourFormat","labelPosition","before",1,"checkbox"],["formControlName","disabled","labelPosition","before",1,"checkbox"],["formControlName","admin","labelPosition","before",1,"checkbox"],["formControlName","readonly","labelPosition","before",1,"checkbox"],["formControlName","deviceReadonly","labelPosition","before",1,"checkbox"],["formControlName","limitCommands","labelPosition","before",1,"checkbox"],["matInput","","placeholder","Expiration","formControlName","expiration","autocomplete","off"],["matInput","","placeholder","Device Limit","formControlName","deviceLimit","autocomplete","off"],["matInput","","placeholder","User Limit","formControlName","userLimit","autocomplete","off"],["matInput","","placeholder","Token","formControlName","token","autocomplete","off"],["formArrayName","attributes",4,"ngFor","ngForOf"],[3,"click"],[1,"button"],["mat-stroked-button","","color","primary",1,"btn-block",3,"disabled","click"],[3,"value"],["matInput","","placeholder","Customer","formControlName","customer_id","required","",3,"matAutocomplete","ngModel","ngModelChange","keyup"],["align","end"],["class","customerInfo",4,"ngIf"],["auto","matAutocomplete"],[1,"customerInfo"],["matInput","","placeholder","Reseller","formControlName","customer_id","required","",3,"matAutocomplete","ngModel","ngModelChange","keyup"],["formArrayName","attributes"],[3,"formArrayName"],["trim","blur","matInput","","placeholder","Name","formControlName","name","autocomplete","off"],["trim","blur","matInput","","placeholder","Value","formControlName","value","autocomplete","off"]],template:function(e,t){if(1&e){const e=u.gc();u.fc(0,"mat-card",0),u.fc(1,"button",1),u.nc("click",(function(){return t.goBack()})),u.fc(2,"mat-icon"),u.Qc(3,"arrow_back"),u.ec(),u.ec(),u.fc(4,"div",2),u.fc(5,"mat-card-title"),u.Qc(6,"User Update Form"),u.ec(),u.ec(),u.fc(7,"mat-card-content"),u.fc(8,"form",3),u.fc(9,"div",4),u.fc(10,"div",5),u.fc(11,"mat-form-field",6),u.ac(12,"input",7),u.ec(),u.fc(13,"mat-form-field",6),u.ac(14,"input",8),u.ec(),u.fc(15,"mat-form-field",6),u.ac(16,"input",9),u.ec(),u.fc(17,"mat-form-field",6),u.ac(18,"input",10),u.ec(),u.fc(19,"mat-form-field",6),u.fc(20,"mat-label"),u.Qc(21,"User Role"),u.ec(),u.fc(22,"mat-select",11,12),u.fc(24,"input",13),u.nc("keyup",(function(e){return t.applyFilter(e.target.value)})),u.ec(),u.fc(25,"a"),u.fc(26,"mat-icon",14),u.nc("click",(function(){return u.Hc(e),u.Fc(23).close()})),u.Qc(27,"clear"),u.ec(),u.ec(),u.Pc(28,J,2,2,"mat-option",15),u.ec(),u.ec(),u.fc(29,"mat-form-field",6),u.fc(30,"mat-label"),u.Qc(31,"User Type"),u.ec(),u.fc(32,"mat-select",16),u.nc("ngModelChange",(function(e){return t.onChange(e)}))("ngModelChange",(function(e){return t.isCustomer(e)})),u.Pc(33,K,2,2,"mat-option",15),u.ec(),u.ec(),u.Pc(34,te,9,4,"div",17),u.Pc(35,oe,9,4,"div",17),u.fc(36,"mat-form-field",6),u.fc(37,"mat-label"),u.Qc(38,"Gender"),u.ec(),u.fc(39,"mat-select",18),u.Pc(40,re,2,2,"mat-option",15),u.ec(),u.ec(),u.fc(41,"mat-form-field",19),u.fc(42,"mat-label"),u.Qc(43,"Status"),u.ec(),u.fc(44,"mat-select",20),u.Pc(45,ae,2,2,"mat-option",15),u.ec(),u.ec(),u.fc(46,"mat-form-field",21),u.ac(47,"textarea",22),u.ec(),u.ec(),u.fc(48,"div",5),u.fc(49,"mat-accordion",23),u.fc(50,"mat-expansion-panel",24),u.nc("opened",(function(){return t.setStep(1)})),u.fc(51,"mat-expansion-panel-header"),u.fc(52,"mat-panel-title"),u.fc(53,"mat-icon"),u.Qc(54,"add"),u.ec(),u.Qc(55," Preferences "),u.ec(),u.ec(),u.fc(56,"mat-form-field",6),u.ac(57,"input",25),u.ec(),u.fc(58,"mat-form-field",19),u.fc(59,"mat-label"),u.Qc(60,"Map Layer"),u.ec(),u.fc(61,"mat-select",26),u.Pc(62,se,2,2,"mat-option",15),u.ec(),u.ec(),u.fc(63,"mat-form-field",6),u.ac(64,"input",27),u.ec(),u.fc(65,"mat-form-field",6),u.ac(66,"input",28),u.ec(),u.fc(67,"mat-form-field",6),u.ac(68,"input",29),u.ec(),u.fc(69,"mat-form-field",6),u.fc(70,"mat-label"),u.Qc(71,"Coordinates Format"),u.ec(),u.fc(72,"mat-select",30),u.Pc(73,ne,2,2,"mat-option",15),u.ec(),u.ec(),u.fc(74,"mat-checkbox",31),u.Qc(75," 12 Hour Format "),u.ec(),u.ec(),u.ec(),u.fc(76,"mat-accordion",23),u.fc(77,"mat-expansion-panel",24),u.nc("opened",(function(){return t.setStep(2)})),u.fc(78,"mat-expansion-panel-header"),u.fc(79,"mat-panel-title"),u.fc(80,"mat-icon"),u.Qc(81,"add"),u.ec(),u.Qc(82," Permissions "),u.ec(),u.ec(),u.fc(83,"div"),u.fc(84,"mat-checkbox",32),u.Qc(85," Disabled "),u.ec(),u.ec(),u.fc(86,"div"),u.fc(87,"mat-checkbox",33),u.Qc(88," Admin "),u.ec(),u.ec(),u.fc(89,"div"),u.fc(90,"mat-checkbox",34),u.Qc(91," Readonly "),u.ec(),u.ec(),u.fc(92,"div"),u.fc(93,"mat-checkbox",35),u.Qc(94," Device Readonly "),u.ec(),u.ec(),u.fc(95,"div"),u.fc(96,"mat-checkbox",36),u.Qc(97," Limit Commands "),u.ec(),u.ec(),u.fc(98,"mat-form-field",6),u.ac(99,"input",37),u.ec(),u.fc(100,"mat-form-field",6),u.ac(101,"input",38),u.ec(),u.fc(102,"mat-form-field",6),u.ac(103,"input",39),u.ec(),u.fc(104,"mat-form-field",6),u.ac(105,"input",40),u.ec(),u.ec(),u.ec(),u.fc(106,"mat-accordion",23),u.fc(107,"mat-expansion-panel",24),u.nc("opened",(function(){return t.setStep(3)})),u.fc(108,"mat-expansion-panel-header"),u.fc(109,"mat-panel-title"),u.fc(110,"mat-icon"),u.Qc(111,"add"),u.ec(),u.Qc(112," Attributes "),u.ec(),u.ec(),u.Pc(113,le,6,1,"div",41),u.fc(114,"button",42),u.nc("click",(function(){return t.addassignTicket()})),u.fc(115,"mat-icon"),u.Qc(116,"add"),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(117,"mat-card-actions",43),u.fc(118,"button",44),u.nc("click",(function(){return t.updateUser()})),u.Qc(119," Update "),u.ec(),u.fc(120,"p"),u.Qc(121,"Note: Field marked with * is Mandatory"),u.ec(),u.ec(),u.ec()}2&e&&(u.Ob(8),u.yc("formGroup",t.myform),u.Ob(20),u.yc("ngForOf",t.userRoles),u.Ob(5),u.yc("ngForOf",t.userTypes),u.Ob(1),u.yc("ngIf",1==t.showCustommerField),u.Ob(1),u.yc("ngIf",1==t.showResellerField),u.Ob(5),u.yc("ngForOf",t.gend),u.Ob(5),u.yc("ngForOf",t.states),u.Ob(5),u.yc("expanded",1===t.step),u.Ob(12),u.yc("ngForOf",t.mapTypes),u.Ob(11),u.yc("ngForOf",t.formats),u.Ob(4),u.yc("expanded",2===t.step),u.Ob(30),u.yc("expanded",3===t.step),u.Ob(6),u.yc("ngForOf",t.myform.get("attributes").controls),u.Ob(5),u.yc("disabled",!t.myform.valid))},directives:[h.a,b.b,M.a,h.f,h.c,o.t,o.n,o.g,_.b,_.a,p.c,g.b,o.c,o.m,o.f,o.r,p.g,w.a,i.l,i.m,Q.a,Q.c,Q.d,Q.e,R.a,h.b,P.o,A.c,p.f,A.a,B.a,B.b,N.a,o.d],styles:["mat-card[_ngcontent-%COMP%]{width:90%;top:0}.main[_ngcontent-%COMP%]{width:100%}.mainContent[_ngcontent-%COMP%]{width:50%}.optionalContent[_ngcontent-%COMP%]{width:50%;margin-top:-280px;float:right}.customStyle[_ngcontent-%COMP%]{border-radius:10px 10px 10px 10px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{margin-top:-2%;color:#1a237e;text-align:center!important}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.mat-stroked-button[_ngcontent-%COMP%]{width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}.image[_ngcontent-%COMP%]{margin-right:10px}.checkbox[_ngcontent-%COMP%]{margin-left:15px}mat-grid-tile[_ngcontent-%COMP%]{background:#add8e6}.button[_ngcontent-%COMP%]{margin-top:35px}.filterBox[_ngcontent-%COMP%]{width:150px;height:25px;margin-left:10px;margin-top:5px;margin-bottom:5px;border-radius:10px 10px 10px 10px;border:2px solid #000}.customerInfo[_ngcontent-%COMP%]{margin-left:5%;font-size:12px}.back_button[_ngcontent-%COMP%]{float:left}"]}),e})();var ue=c("M9IT"),de=c("Dh3D"),fe=c("+0xr"),he=c("0IaG"),pe=c("1jOF"),ge=c("H0VJ");function be(e,t){1&e&&u.ac(0,"th",11)}function ve(e,t){if(1&e){const e=u.gc();u.fc(0,"td",12),u.fc(1,"mat-checkbox",13),u.nc("change",(function(c){u.Hc(e);const i=t.$implicit;return u.rc().check(c.checked,i)})),u.ec(),u.ec()}if(2&e){const e=t.$implicit,c=u.rc();u.Ob(1),u.yc("checked",c.checkState(e.id))}}function ye(e,t){1&e&&(u.fc(0,"th",11),u.Qc(1,"Name"),u.ec())}function Ce(e,t){if(1&e&&(u.fc(0,"td",12),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.Ob(1),u.Rc(e.name)}}function we(e,t){1&e&&(u.fc(0,"th",11),u.Qc(1,"Identifer"),u.ec())}function Pe(e,t){if(1&e&&(u.fc(0,"td",12),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.Ob(1),u.Rc(e.identifier)}}function Oe(e,t){1&e&&u.ac(0,"tr",14)}function De(e,t){1&e&&u.ac(0,"tr",15)}let xe=(()=>{class e{constructor(e,t,c,i,o,r,a){this.driverService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=o,this.dialog=r,this.data=a,this.dataSource=new fe.k([]),this.displayedColumns=["select","name","identifier"],this.Id=a.customer_id,this.user_id=a.user_id}ngOnInit(){this.getAllDriverByCustomer(),this.getAllDeviceByUser()}getAllDriverByCustomer(){this.driverService.getDriverByCustomerId(this.Id).subscribe(e=>{this.customerDrivers=e,this.dataSource=new fe.k(this.customerDrivers),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllDeviceByUser(){this.driverService.getDriverByUserId(this.user_id).subscribe(e=>{this.userDrivers=e,this.userDrivers&&this.userDrivers.forEach(e=>{this.userDrivers.push(e.driverid)})})}close(){this.dialogRef.close()}checkState(e){if(this.userDrivers)return this.userDrivers.indexOf(e)>-1}check(e,t){e?(this.object={userId:this.user_id,driverId:t.id},this.driverService.addDriverWithUser(this.object).subscribe()):(this.object={userId:this.user_id,driverId:t.id},this.driverService.deleteUserDriver(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(pe.a),u.Zb(f.a),u.Zb(n.c),u.Zb(ge.a),u.Zb(he.f),u.Zb(he.b),u.Zb(he.a,8))},e.\u0275cmp=u.Tb({type:e,selectors:[["app-driver-user"]],viewQuery:function(e,t){var c;1&e&&(u.Uc(de.a,!0),u.Uc(ue.a,!0)),2&e&&(u.Ec(c=u.oc())&&(t.sort=c.first),u.Ec(c=u.oc())&&(t.paginator=c.first))},decls:20,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(u.fc(0,"div",0),u.fc(1,"div",1),u.fc(2,"h3"),u.Qc(3,"Driver Table"),u.ec(),u.fc(4,"span"),u.fc(5,"a"),u.fc(6,"mat-icon",2),u.nc("click",(function(){return t.close()})),u.Qc(7,"X"),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(8,"table",3),u.dc(9,4),u.Pc(10,be,1,0,"th",5),u.Pc(11,ve,2,1,"td",6),u.cc(),u.dc(12,7),u.Pc(13,ye,2,0,"th",5),u.Pc(14,Ce,2,1,"td",6),u.cc(),u.dc(15,8),u.Pc(16,we,2,0,"th",5),u.Pc(17,Pe,2,1,"td",6),u.cc(),u.Pc(18,Oe,1,0,"tr",9),u.Pc(19,De,1,0,"tr",10),u.ec(),u.ec()),2&e&&(u.Ob(8),u.yc("dataSource",t.dataSource),u.Ob(10),u.yc("matHeaderRowDef",t.displayedColumns),u.Ob(1),u.yc("matRowDefColumns",t.displayedColumns))},directives:[M.a,fe.j,a.a,fe.c,fe.e,fe.b,fe.g,fe.i,fe.d,fe.a,R.a,fe.f,fe.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:70%;margin-left:5%}"]}),e})();var Se=c("Kqty");function Ie(e,t){1&e&&u.ac(0,"th",12)}function ke(e,t){if(1&e){const e=u.gc();u.fc(0,"td",13),u.fc(1,"mat-checkbox",14),u.nc("change",(function(c){u.Hc(e);const i=t.$implicit;return u.rc().check(c.checked,i)})),u.ec(),u.ec()}if(2&e){const e=t.$implicit,c=u.rc();u.Ob(1),u.yc("checked",c.checkState(e.id))}}function _e(e,t){1&e&&(u.fc(0,"th",12),u.Qc(1,"Type of notification"),u.ec())}function Me(e,t){if(1&e&&(u.fc(0,"td",13),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.Ob(1),u.Rc(e.type)}}function Qe(e,t){1&e&&(u.fc(0,"th",12),u.Qc(1,"All Devices"),u.ec())}function Re(e,t){if(1&e&&(u.fc(0,"td",13),u.Qc(1),u.ec()),2&e){const e=t.$implicit,c=u.rc();u.Ob(1),u.Rc(null==c.states[e.always]?null:c.states[e.always].value)}}function Ae(e,t){1&e&&(u.fc(0,"th",12),u.Qc(1,"Channels"),u.ec())}function Be(e,t){if(1&e&&(u.fc(0,"td",13),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.Ob(1),u.Rc(e.notificators)}}function Ne(e,t){1&e&&u.ac(0,"tr",15)}function Ue(e,t){1&e&&u.ac(0,"tr",16)}let Fe=(()=>{class e{constructor(e,t,c,i,o,r,a){this.notificationService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=o,this.dialog=r,this.data=a,this.dataSource=new fe.k([]),this.states=[{id:0,value:"NO"},{id:1,value:"YES"}],this.displayedColumns=["select","name","identifier","always"],this.Id=a.pageValue}ngOnInit(){this.getAllNotification(),this.getAllNotificationByUser()}getAllNotification(){this.notificationService.getAllNotification().subscribe(e=>{console.log(e),this.notifications=e,this.dataSource=new fe.k(e),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllNotificationByUser(){this.notificationService.getNotificationByUserId(this.Id).subscribe(e=>{console.log(e),this.userNotifications=e,this.userNotifications.forEach(e=>{this.userNotifications.push(e.notificationid)})})}close(){this.dialogRef.close()}checkState(e){if(this.userNotifications)return this.userNotifications.indexOf(e)>-1}check(e,t){e?(this.object={userId:this.Id,notificationId:t.id},this.notificationService.addNotificationWithUser(this.object).subscribe()):(this.object={userId:this.Id,notificationId:t.id},this.notificationService.deleteUserNotification(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(Se.a),u.Zb(f.a),u.Zb(n.c),u.Zb(ge.a),u.Zb(he.f),u.Zb(he.b),u.Zb(he.a,8))},e.\u0275cmp=u.Tb({type:e,selectors:[["app-notification-user"]],viewQuery:function(e,t){var c;1&e&&(u.Uc(de.a,!0),u.Uc(ue.a,!0)),2&e&&(u.Ec(c=u.oc())&&(t.sort=c.first),u.Ec(c=u.oc())&&(t.paginator=c.first))},decls:23,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","always"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(u.fc(0,"div",0),u.fc(1,"div",1),u.fc(2,"h3"),u.Qc(3,"Notification Table"),u.ec(),u.fc(4,"span"),u.fc(5,"a"),u.fc(6,"mat-icon",2),u.nc("click",(function(){return t.close()})),u.Qc(7,"X"),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(8,"table",3),u.dc(9,4),u.Pc(10,Ie,1,0,"th",5),u.Pc(11,ke,2,1,"td",6),u.cc(),u.dc(12,7),u.Pc(13,_e,2,0,"th",5),u.Pc(14,Me,2,1,"td",6),u.cc(),u.dc(15,8),u.Pc(16,Qe,2,0,"th",5),u.Pc(17,Re,2,1,"td",6),u.cc(),u.dc(18,9),u.Pc(19,Ae,2,0,"th",5),u.Pc(20,Be,2,1,"td",6),u.cc(),u.Pc(21,Ne,1,0,"tr",10),u.Pc(22,Ue,1,0,"tr",11),u.ec(),u.ec()),2&e&&(u.Ob(8),u.yc("dataSource",t.dataSource),u.Ob(13),u.yc("matHeaderRowDef",t.displayedColumns),u.Ob(1),u.yc("matRowDefColumns",t.displayedColumns))},directives:[M.a,fe.j,a.a,fe.c,fe.e,fe.b,fe.g,fe.i,fe.d,fe.a,R.a,fe.f,fe.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),e})();var Te=c("hrIc");function Ze(e,t){1&e&&u.ac(0,"th",13)}function Le(e,t){if(1&e){const e=u.gc();u.fc(0,"td",14),u.fc(1,"mat-checkbox",15),u.nc("change",(function(c){u.Hc(e);const i=t.$implicit;return u.rc().check(c.checked,i)})),u.ec(),u.ec()}if(2&e){const e=t.$implicit,c=u.rc();u.Ob(1),u.yc("checked",c.checkState(e.id))}}function Ee(e,t){1&e&&(u.fc(0,"th",13),u.Qc(1,"Name"),u.ec())}function $e(e,t){if(1&e&&(u.fc(0,"td",14),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.Ob(1),u.Rc(e.name)}}function He(e,t){1&e&&(u.fc(0,"th",13),u.Qc(1,"Type"),u.ec())}function je(e,t){if(1&e&&(u.fc(0,"td",14),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.Ob(1),u.Rc(e.type)}}function qe(e,t){1&e&&(u.fc(0,"th",13),u.Qc(1,"Start"),u.ec())}function ze(e,t){if(1&e&&(u.fc(0,"td",14),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.Ob(1),u.Rc(e.start)}}function Ge(e,t){1&e&&(u.fc(0,"th",13),u.Qc(1,"Period"),u.ec())}function Ve(e,t){if(1&e&&(u.fc(0,"td",14),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.Ob(1),u.Rc(e.period)}}function We(e,t){1&e&&u.ac(0,"tr",16)}function Xe(e,t){1&e&&u.ac(0,"tr",17)}let Je=(()=>{class e{constructor(e,t,c,i,o,r,a){this.maintenanceService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=o,this.dialog=r,this.data=a,this.dataSource=new fe.k([]),this.displayedColumns=["select","name","type","start","period"],this.Id=a.pageValue}ngOnInit(){this.getAllMaintenance(),this.getAllMaintenanceByUser()}getAllMaintenance(){this.maintenanceService.getAllMaintenance().subscribe(e=>{this.maintenance=e,this.dataSource=new fe.k(e),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllMaintenanceByUser(){this.maintenanceService.getMaintenanceByUserId(this.Id).subscribe(e=>{console.log(e),this.userMaintenance=e,this.userMaintenance.forEach(e=>{this.userMaintenance.push(e.maintenance_id)})})}close(){this.dialogRef.close()}checkState(e){if(this.userMaintenance)return this.userMaintenance.indexOf(e)>-1}check(e,t){e?(this.object={userId:this.Id,maintenanceId:t.id},this.maintenanceService.addMaintenanceWithUser(this.object).subscribe()):(this.object={userId:this.Id,maintenanceId:t.id},this.maintenanceService.deleteUserMaintenance(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(Te.a),u.Zb(f.a),u.Zb(n.c),u.Zb(ge.a),u.Zb(he.f),u.Zb(he.b),u.Zb(he.a,8))},e.\u0275cmp=u.Tb({type:e,selectors:[["app-maintenance-user"]],viewQuery:function(e,t){var c;1&e&&(u.Uc(de.a,!0),u.Uc(ue.a,!0)),2&e&&(u.Ec(c=u.oc())&&(t.sort=c.first),u.Ec(c=u.oc())&&(t.paginator=c.first))},decls:26,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","type"],["matColumnDef","start"],["matColumnDef","period"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(u.fc(0,"div",0),u.fc(1,"div",1),u.fc(2,"h3"),u.Qc(3,"Maintenance Table"),u.ec(),u.fc(4,"span"),u.fc(5,"a"),u.fc(6,"mat-icon",2),u.nc("click",(function(){return t.close()})),u.Qc(7,"X"),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(8,"table",3),u.dc(9,4),u.Pc(10,Ze,1,0,"th",5),u.Pc(11,Le,2,1,"td",6),u.cc(),u.dc(12,7),u.Pc(13,Ee,2,0,"th",5),u.Pc(14,$e,2,1,"td",6),u.cc(),u.dc(15,8),u.Pc(16,He,2,0,"th",5),u.Pc(17,je,2,1,"td",6),u.cc(),u.dc(18,9),u.Pc(19,qe,2,0,"th",5),u.Pc(20,ze,2,1,"td",6),u.cc(),u.dc(21,10),u.Pc(22,Ge,2,0,"th",5),u.Pc(23,Ve,2,1,"td",6),u.cc(),u.Pc(24,We,1,0,"tr",11),u.Pc(25,Xe,1,0,"tr",12),u.ec(),u.ec()),2&e&&(u.Ob(8),u.yc("dataSource",t.dataSource),u.Ob(16),u.yc("matHeaderRowDef",t.displayedColumns),u.Ob(1),u.yc("matRowDefColumns",t.displayedColumns))},directives:[M.a,fe.j,a.a,fe.c,fe.e,fe.b,fe.g,fe.i,fe.d,fe.a,R.a,fe.f,fe.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),e})();var Ke=c("9TBo");function Ye(e,t){1&e&&u.ac(0,"th",11)}function et(e,t){if(1&e){const e=u.gc();u.fc(0,"td",12),u.fc(1,"mat-checkbox",13),u.nc("change",(function(c){u.Hc(e);const i=t.$implicit;return u.rc().check(c.checked,i)})),u.ec(),u.ec()}if(2&e){const e=t.$implicit,c=u.rc();u.Ob(1),u.yc("checked",c.checkState(e.id))}}function tt(e,t){1&e&&(u.fc(0,"th",11),u.Qc(1,"Description"),u.ec())}function ct(e,t){if(1&e&&(u.fc(0,"td",12),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.Ob(1),u.Rc(e.description)}}function it(e,t){1&e&&(u.fc(0,"th",11),u.Qc(1,"Attribute"),u.ec())}function ot(e,t){if(1&e&&(u.fc(0,"td",12),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.Ob(1),u.Rc(e.attribute)}}function rt(e,t){1&e&&u.ac(0,"tr",14)}function at(e,t){1&e&&u.ac(0,"tr",15)}let st=(()=>{class e{constructor(e,t,c,i,o,r,a){this.attributeService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=o,this.dialog=r,this.data=a,this.dataSource=new fe.k([]),this.displayedColumns=["select","name","identifier"],this.Id=a.pageValue}ngOnInit(){this.getAllAttribute(),this.getAllAttributeByUser()}getAllAttribute(){this.attributeService.getAllAttribute().subscribe(e=>{this.attributes=e,this.dataSource=new fe.k(e),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllAttributeByUser(){this.attributeService.getAttributeByUserId(this.Id).subscribe(e=>{console.log(e),this.userAttributes=e,this.userAttributes.forEach(e=>{this.userAttributes.push(e.attributeid)})})}close(){this.dialogRef.close()}checkState(e){if(this.userAttributes)return this.userAttributes.indexOf(e)>-1}check(e,t){console.log(t.id),e?(this.object={userId:this.Id,attributeId:t.id},this.attributeService.addAttributeWithUser(this.object).subscribe()):(this.object={userId:this.Id,attributeId:t.id},this.attributeService.deleteUserAttribute(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(Ke.a),u.Zb(f.a),u.Zb(n.c),u.Zb(ge.a),u.Zb(he.f),u.Zb(he.b),u.Zb(he.a,8))},e.\u0275cmp=u.Tb({type:e,selectors:[["app-attribute-user"]],viewQuery:function(e,t){var c;1&e&&(u.Uc(de.a,!0),u.Uc(ue.a,!0)),2&e&&(u.Ec(c=u.oc())&&(t.sort=c.first),u.Ec(c=u.oc())&&(t.paginator=c.first))},decls:20,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(u.fc(0,"div",0),u.fc(1,"div",1),u.fc(2,"h3"),u.Qc(3,"Attribute Table"),u.ec(),u.fc(4,"span"),u.fc(5,"a"),u.fc(6,"mat-icon",2),u.nc("click",(function(){return t.close()})),u.Qc(7,"X"),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(8,"table",3),u.dc(9,4),u.Pc(10,Ye,1,0,"th",5),u.Pc(11,et,2,1,"td",6),u.cc(),u.dc(12,7),u.Pc(13,tt,2,0,"th",5),u.Pc(14,ct,2,1,"td",6),u.cc(),u.dc(15,8),u.Pc(16,it,2,0,"th",5),u.Pc(17,ot,2,1,"td",6),u.cc(),u.Pc(18,rt,1,0,"tr",9),u.Pc(19,at,1,0,"tr",10),u.ec(),u.ec()),2&e&&(u.Ob(8),u.yc("dataSource",t.dataSource),u.Ob(10),u.yc("matHeaderRowDef",t.displayedColumns),u.Ob(1),u.yc("matRowDefColumns",t.displayedColumns))},directives:[M.a,fe.j,a.a,fe.c,fe.e,fe.b,fe.g,fe.i,fe.d,fe.a,R.a,fe.f,fe.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:70%;margin-left:5%}"]}),e})();var nt=c("9dHA");function lt(e,t){1&e&&u.ac(0,"th",12)}function mt(e,t){if(1&e){const e=u.gc();u.fc(0,"td",13),u.fc(1,"mat-checkbox",14),u.nc("change",(function(c){u.Hc(e);const i=t.$implicit;return u.rc().check(c.checked,i)})),u.ec(),u.ec()}if(2&e){const e=t.$implicit,c=u.rc();u.Ob(1),u.yc("checked",c.checkState(e.id))}}function ut(e,t){1&e&&(u.fc(0,"th",12),u.Qc(1,"Type"),u.ec())}function dt(e,t){if(1&e&&(u.fc(0,"td",13),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.Ob(1),u.Rc(e.type)}}function ft(e,t){1&e&&(u.fc(0,"th",12),u.Qc(1,"Description"),u.ec())}function ht(e,t){if(1&e&&(u.fc(0,"td",13),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.Ob(1),u.Rc(e.description)}}function pt(e,t){1&e&&(u.fc(0,"th",12),u.Qc(1,"Send SMS"),u.ec())}function gt(e,t){if(1&e&&(u.fc(0,"td",13),u.Qc(1),u.ec()),2&e){const e=t.$implicit,c=u.rc();u.Ob(1),u.Rc(null==c.sms[e.textchannel]?null:c.sms[e.textchannel].value)}}function bt(e,t){1&e&&u.ac(0,"tr",15)}function vt(e,t){1&e&&u.ac(0,"tr",16)}let yt=(()=>{class e{constructor(e,t,c,i,o,r,a){this.commandService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=o,this.dialog=r,this.data=a,this.dataSource=new fe.k([]),this.displayedColumns=["select","name","description","sms"],this.sms=[{id:1,value:"true"},{id:0,value:"false"}],this.Id=a.pageValue}ngOnInit(){this.getAllCommand(),this.getAllCommandByUser()}getAllCommand(){this.commandService.getAllCommand().subscribe(e=>{this.commands=e,this.dataSource=new fe.k(e),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllCommandByUser(){this.commandService.getCommandByUserId(this.Id).subscribe(e=>{console.log(e),this.userCommands=e,this.userCommands.forEach(e=>{this.userCommands.push(e.commandid)})})}close(){this.dialogRef.close()}checkState(e){if(this.userCommands)return this.userCommands.indexOf(e)>-1}check(e,t){e?(this.object={userId:this.Id,commandId:t.id},this.commandService.addCommandWithUser(this.object).subscribe()):(this.object={userId:this.Id,commandId:t.id},this.commandService.deleteUserCommand(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(nt.a),u.Zb(f.a),u.Zb(n.c),u.Zb(ge.a),u.Zb(he.f),u.Zb(he.b),u.Zb(he.a,8))},e.\u0275cmp=u.Tb({type:e,selectors:[["app-command-user"]],viewQuery:function(e,t){var c;1&e&&(u.Uc(de.a,!0),u.Uc(ue.a,!0)),2&e&&(u.Ec(c=u.oc())&&(t.sort=c.first),u.Ec(c=u.oc())&&(t.paginator=c.first))},decls:23,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","sms"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(u.fc(0,"div",0),u.fc(1,"div",1),u.fc(2,"h3"),u.Qc(3,"Command Table"),u.ec(),u.fc(4,"span"),u.fc(5,"a"),u.fc(6,"mat-icon",2),u.nc("click",(function(){return t.close()})),u.Qc(7,"X"),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(8,"table",3),u.dc(9,4),u.Pc(10,lt,1,0,"th",5),u.Pc(11,mt,2,1,"td",6),u.cc(),u.dc(12,7),u.Pc(13,ut,2,0,"th",5),u.Pc(14,dt,2,1,"td",6),u.cc(),u.dc(15,8),u.Pc(16,ft,2,0,"th",5),u.Pc(17,ht,2,1,"td",6),u.cc(),u.dc(18,9),u.Pc(19,pt,2,0,"th",5),u.Pc(20,gt,2,1,"td",6),u.cc(),u.Pc(21,bt,1,0,"tr",10),u.Pc(22,vt,1,0,"tr",11),u.ec(),u.ec()),2&e&&(u.Ob(8),u.yc("dataSource",t.dataSource),u.Ob(13),u.yc("matHeaderRowDef",t.displayedColumns),u.Ob(1),u.yc("matRowDefColumns",t.displayedColumns))},directives:[M.a,fe.j,a.a,fe.c,fe.e,fe.b,fe.g,fe.i,fe.d,fe.a,R.a,fe.f,fe.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),e})();var Ct=c("XCAU");function wt(e,t){1&e&&u.ac(0,"th",12)}function Pt(e,t){if(1&e){const e=u.gc();u.fc(0,"td",13),u.fc(1,"mat-checkbox",14),u.nc("change",(function(c){u.Hc(e);const i=t.$implicit;return u.rc().check(c.checked,i)})),u.ec(),u.ec()}if(2&e){const e=t.$implicit,c=u.rc();u.Ob(1),u.yc("checked",c.checkState(e.id))}}function Ot(e,t){1&e&&(u.fc(0,"th",12),u.Qc(1,"Name"),u.ec())}function Dt(e,t){if(1&e&&(u.fc(0,"td",13),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.Ob(1),u.Rc(e.name)}}function xt(e,t){1&e&&(u.fc(0,"th",12),u.Qc(1,"Identifier"),u.ec())}function St(e,t){if(1&e&&(u.fc(0,"td",13),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.Ob(1),u.Rc(e.uniqueid)}}function It(e,t){1&e&&u.ac(0,"tr",15)}function kt(e,t){1&e&&u.ac(0,"tr",16)}function _t(e,t){1&e&&(u.fc(0,"div"),u.Qc(1," No Records Found! "),u.ec())}let Mt=(()=>{class e{constructor(e,t,c,i,o,r,a){this.devcieService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=o,this.dialog=r,this.data=a,this.source=[],this.dataSource=new fe.k([]),this.displayedColumns=["select","name","identifier"],this.sms=[{id:1,value:"true"},{id:0,value:"false"}],this.Id=a.customer_id,this.user_id=a.user_id}ngOnInit(){this.getAllDeviceByCustomer(),this.getAllDeviceByUser()}getAllDeviceByCustomer(){this.devcieService.getDeviceByCustomerId(this.Id).subscribe(e=>{this.customerDevices=e,this.dataSource=new fe.k(this.customerDevices),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllDeviceByUser(){this.devcieService.getDeviceByUserId(this.user_id).subscribe(e=>{this.userDevices=e,this.userDevices&&this.userDevices.forEach(e=>{this.userDevices.push(e.deviceid)})})}getAllDeviceByAllUser(){this.devcieService.getDeviceByAllUser().subscribe(e=>{console.log(e),this.userDevices=e})}close(){this.dialogRef.close()}checkState(e){if(this.userDevices)return this.userDevices.indexOf(e)>-1}check(e,t){e?(this.object={userId:this.user_id,deviceId:t.id},this.devcieService.addDeviceWithUser(this.object).subscribe()):(this.object={userId:this.user_id,deviceId:t.id},this.devcieService.deleteUserDevice(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(Ct.a),u.Zb(f.a),u.Zb(n.c),u.Zb(ge.a),u.Zb(he.f),u.Zb(he.b),u.Zb(he.a,8))},e.\u0275cmp=u.Tb({type:e,selectors:[["app-device-user"]],viewQuery:function(e,t){var c;1&e&&(u.Uc(de.a,!0),u.Uc(ue.a,!0)),2&e&&(u.Ec(c=u.oc())&&(t.sort=c.first),u.Ec(c=u.oc())&&(t.paginator=c.first))},decls:21,vars:4,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(u.fc(0,"div",0),u.fc(1,"div",1),u.fc(2,"h3"),u.Qc(3,"Device Table"),u.ec(),u.fc(4,"span"),u.fc(5,"a"),u.fc(6,"mat-icon",2),u.nc("click",(function(){return t.close()})),u.Qc(7,"X"),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(8,"table",3),u.dc(9,4),u.Pc(10,wt,1,0,"th",5),u.Pc(11,Pt,2,1,"td",6),u.cc(),u.dc(12,7),u.Pc(13,Ot,2,0,"th",5),u.Pc(14,Dt,2,1,"td",6),u.cc(),u.dc(15,8),u.Pc(16,xt,2,0,"th",5),u.Pc(17,St,2,1,"td",6),u.cc(),u.Pc(18,It,1,0,"tr",9),u.Pc(19,kt,1,0,"tr",10),u.ec(),u.Pc(20,_t,2,0,"div",11),u.ec()),2&e&&(u.Ob(8),u.yc("dataSource",t.dataSource),u.Ob(10),u.yc("matHeaderRowDef",t.displayedColumns),u.Ob(1),u.yc("matRowDefColumns",t.displayedColumns),u.Ob(1),u.yc("ngIf",0===t.dataSource.data.length))},directives:[M.a,fe.j,a.a,fe.c,fe.e,fe.b,fe.g,fe.i,i.m,fe.d,fe.a,R.a,fe.f,fe.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),e})();var Qt=c("lLy5");function Rt(e,t){1&e&&u.ac(0,"th",10)}function At(e,t){if(1&e){const e=u.gc();u.fc(0,"td",11),u.fc(1,"mat-checkbox",12),u.nc("change",(function(c){u.Hc(e);const i=t.$implicit;return u.rc().check(c.checked,i)})),u.ec(),u.ec()}if(2&e){const e=t.$implicit,c=u.rc();u.Ob(1),u.yc("checked",c.checkState(e.id))}}function Bt(e,t){1&e&&(u.fc(0,"th",10),u.Qc(1,"Name"),u.ec())}function Nt(e,t){if(1&e&&(u.fc(0,"td",11),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.Ob(1),u.Rc(e.name)}}function Ut(e,t){1&e&&u.ac(0,"tr",13)}function Ft(e,t){1&e&&u.ac(0,"tr",14)}let Tt=(()=>{class e{constructor(e,t,c,i,o,r,a){this.groupService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=o,this.dialog=r,this.data=a,this.dataSource=new fe.k([]),this.displayedColumns=["select","name"],this.sms=[{id:1,value:"true"},{id:0,value:"false"}],this.Id=a.pageValue}ngOnInit(){this.getAllDevice(),this.getAllDeviceByUser()}getAllDevice(){this.groupService.getAllGroup().subscribe(e=>{this.commands=e,this.dataSource=new fe.k(e),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllDeviceByUser(){this.groupService.getGroupByUserId(this.Id).subscribe(e=>{console.log(e),this.userGroups=e,this.userGroups.forEach(e=>{this.userGroups.push(e.groupid)})})}close(){this.dialogRef.close()}checkState(e){if(this.userGroups)return this.userGroups.indexOf(e)>-1}check(e,t){e?(this.object={userId:this.Id,groupId:t.id},this.groupService.addGroupWithUser(this.object).subscribe()):(this.object={userId:this.Id,groupId:t.id},this.groupService.deleteUserGroup(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(Qt.a),u.Zb(f.a),u.Zb(n.c),u.Zb(ge.a),u.Zb(he.f),u.Zb(he.b),u.Zb(he.a,8))},e.\u0275cmp=u.Tb({type:e,selectors:[["app-group-user"]],viewQuery:function(e,t){var c;1&e&&(u.Uc(de.a,!0),u.Uc(ue.a,!0)),2&e&&(u.Ec(c=u.oc())&&(t.sort=c.first),u.Ec(c=u.oc())&&(t.paginator=c.first))},decls:17,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(u.fc(0,"div",0),u.fc(1,"div",1),u.fc(2,"h3"),u.Qc(3,"Group Table"),u.ec(),u.fc(4,"span"),u.fc(5,"a"),u.fc(6,"mat-icon",2),u.nc("click",(function(){return t.close()})),u.Qc(7,"X"),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(8,"table",3),u.dc(9,4),u.Pc(10,Rt,1,0,"th",5),u.Pc(11,At,2,1,"td",6),u.cc(),u.dc(12,7),u.Pc(13,Bt,2,0,"th",5),u.Pc(14,Nt,2,1,"td",6),u.cc(),u.Pc(15,Ut,1,0,"tr",8),u.Pc(16,Ft,1,0,"tr",9),u.ec(),u.ec()),2&e&&(u.Ob(8),u.yc("dataSource",t.dataSource),u.Ob(7),u.yc("matHeaderRowDef",t.displayedColumns),u.Ob(1),u.yc("matRowDefColumns",t.displayedColumns))},directives:[M.a,fe.j,a.a,fe.c,fe.e,fe.b,fe.g,fe.i,fe.d,fe.a,R.a,fe.f,fe.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),e})();var Zt=c("Nl8B"),Lt=c("STbY"),Et=c("znSr"),$t=c("Xa2L");function Ht(e,t){1&e&&(u.fc(0,"th",35),u.Qc(1,"Action"),u.ec())}function jt(e,t){if(1&e){const e=u.gc();u.fc(0,"button",42),u.fc(1,"mat-icon",43),u.nc("click",(function(){u.Hc(e);const t=u.rc().$implicit;return u.rc().editUser(t)})),u.Qc(2,"edit"),u.ec(),u.ec()}}function qt(e,t){if(1&e){const e=u.gc();u.fc(0,"button",44),u.fc(1,"mat-icon",43),u.nc("click",(function(){u.Hc(e);const t=u.rc().$implicit;return u.rc().deleteUser(t)})),u.Qc(2,"delete_outline"),u.ec(),u.ec()}}function zt(e,t){if(1&e&&(u.fc(0,"button",45),u.fc(1,"mat-icon"),u.Qc(2,"settings"),u.ec(),u.ec()),2&e){u.rc();const e=u.Fc(5);u.yc("matMenuTriggerFor",e)}}function Gt(e,t){if(1&e){const e=u.gc();u.fc(0,"td",36),u.Pc(1,jt,3,0,"button",37),u.Pc(2,qt,3,0,"button",38),u.Pc(3,zt,3,1,"button",39),u.fc(4,"mat-menu",null,40),u.fc(6,"button",41),u.nc("click",(function(){u.Hc(e);const c=t.$implicit;return u.rc().openDeviceModal(c)})),u.Qc(7,"Devices"),u.ec(),u.fc(8,"button",41),u.nc("click",(function(){u.Hc(e);const c=t.$implicit;return u.rc().openGroupModal(c)})),u.Qc(9,"Groups"),u.ec(),u.fc(10,"button",41),u.nc("click",(function(){u.Hc(e);const c=t.$implicit;return u.rc().openDriverModal(c)})),u.Qc(11,"Drivers"),u.ec(),u.fc(12,"button",41),u.nc("click",(function(){u.Hc(e);const c=t.$implicit;return u.rc().openNotificationModal(c)})),u.Qc(13,"Notifications"),u.ec(),u.fc(14,"button",41),u.nc("click",(function(){u.Hc(e);const c=t.$implicit;return u.rc().openMaintenanceModal(c)})),u.Qc(15,"Maintenance"),u.ec(),u.fc(16,"button",41),u.nc("click",(function(){u.Hc(e);const c=t.$implicit;return u.rc().openAttributeModal(c)})),u.Qc(17,"Computed Attributes"),u.ec(),u.fc(18,"button",41),u.nc("click",(function(){u.Hc(e);const c=t.$implicit;return u.rc().openCommandModal(c)})),u.Qc(19,"Saved Commands"),u.ec(),u.ec(),u.ec()}if(2&e){const e=t.$implicit,c=u.rc();u.Ob(1),u.yc("ngIf",1==c.assigedRole.includes("user_edit")),u.Ob(1),u.yc("ngIf",1==c.assigedRole.includes("user_delete")),u.Ob(1),u.yc("ngIf",1==c.assigedRole.includes("user_setting")&&0!=e.customer_id)}}function Vt(e,t){1&e&&(u.fc(0,"th",46),u.Qc(1,"#"),u.ec())}function Wt(e,t){if(1&e&&(u.fc(0,"td",36),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.Ob(1),u.Rc(e.id)}}function Xt(e,t){1&e&&(u.fc(0,"th",46),u.Qc(1,"Name"),u.ec())}function Jt(e,t){if(1&e&&(u.fc(0,"td",36),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.Ob(1),u.Rc(e.name)}}function Kt(e,t){1&e&&(u.fc(0,"th",46),u.Qc(1,"Customer ID"),u.ec())}function Yt(e,t){if(1&e&&(u.fc(0,"td",36),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.Ob(1),u.Rc(0==e.customer_id?"":e.customer_id)}}function ec(e,t){1&e&&(u.fc(0,"th",46),u.Qc(1,"Customer Name"),u.ec())}function tc(e,t){if(1&e&&(u.fc(0,"td",36),u.Qc(1),u.ec()),2&e){const e=t.$implicit,c=u.rc();u.Ob(1),u.Rc(null==c.customerIndex[null==e?null:e.customer_id]?null:c.customerIndex[null==e?null:e.customer_id].name)}}function cc(e,t){1&e&&(u.fc(0,"th",46),u.Qc(1,"Mobile"),u.ec())}function ic(e,t){if(1&e&&(u.fc(0,"td",36),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.Ob(1),u.Rc(e.phone)}}function oc(e,t){1&e&&(u.fc(0,"th",46),u.Qc(1,"Email"),u.ec())}function rc(e,t){if(1&e&&(u.fc(0,"td",36),u.Qc(1),u.ec()),2&e){const e=t.$implicit;u.Ob(1),u.Rc(e.email)}}function ac(e,t){1&e&&(u.fc(0,"th",46),u.Qc(1,"Status"),u.ec())}function sc(e,t){if(1&e&&(u.fc(0,"td",36),u.Qc(1),u.ec()),2&e){const e=t.$implicit,c=u.rc();u.Ob(1),u.Rc(null==c.states[e.status]?null:c.states[e.status].value)}}function nc(e,t){1&e&&u.ac(0,"tr",47)}function lc(e,t){1&e&&u.ac(0,"tr",48)}const mc=function(e){return{active:e}};function uc(e,t){if(1&e){const e=u.gc();u.fc(0,"li",50),u.fc(1,"a",43),u.nc("click",(function(){u.Hc(e);const c=t.$implicit;return u.rc(2).getUserByPage(c)})),u.Qc(2),u.ec(),u.ec()}if(2&e){const e=t.$implicit,c=u.rc(2);u.yc("ngClass",u.Bc(2,mc,c.pager.currentPage===e)),u.Ob(2),u.Rc(e)}}const dc=function(e){return{disabled:e}};function fc(e,t){if(1&e){const e=u.gc();u.fc(0,"ul",49),u.fc(1,"li",50),u.fc(2,"a",43),u.nc("click",(function(){u.Hc(e);const t=u.rc();return t.getUserByPage(t.pager.currentPage-1)})),u.Qc(3,"\xab"),u.ec(),u.ec(),u.Pc(4,uc,3,4,"li",51),u.fc(5,"li",50),u.fc(6,"a",43),u.nc("click",(function(){u.Hc(e);const t=u.rc();return t.getUserByPage(t.pager.currentPage+1)})),u.Qc(7,"\xbb"),u.ec(),u.ec(),u.ec()}if(2&e){const e=u.rc();u.Ob(1),u.yc("ngClass",u.Bc(3,dc,1===e.pager.currentPage)),u.Ob(3),u.yc("ngForOf",e.pager.pages),u.Ob(1),u.yc("ngClass",u.Bc(5,dc,2===e.pager.currentPage))}}function hc(e,t){1&e&&(u.fc(0,"mat-card",52),u.ac(1,"mat-progress-spinner",53),u.ec())}function pc(e,t){1&e&&(u.fc(0,"mat-card"),u.Qc(1," No Records Found! "),u.ec())}const gc=function(){return[0]},bc=[{path:"add",component:X,canActivate:[l.a],data:{roles:"user_add"}},{path:"list",component:(()=>{class e{constructor(e,t,c,i,o,r,a,s){this.userService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialog=o,this.pagination=r,this.fb=a,this.customerService=s,this.assigedRole=[],this.currentPage=1,this.params={},this.pager=[],this.record=[],this.customerIndex=[],this.idColumn="id",this.dataSource=new fe.k([]),this.states=[{id:0,value:"Inactive"},{id:1,value:"Active"}],this.displayedColumns=["action","id","name","customer_id","customer_name","mobile","email","status"],this.isLoading=!0,this.assigedRole=JSON.parse(sessionStorage.getItem("rolesData"))}ngOnInit(){this.myform=this.fb.group({name:[""],email:[""],phone:[""],customer_id:[""]}),this.getAllCustomer(),this.getAllUser(),console.log("   ABCD "),console.log("   ABCD ".trim())}getAllCustomer(){this.customerService.getAllCustomerList().subscribe(e=>{this.customers=e,console.log(this.customers),this.customers.forEach((e,t)=>{this.customerIndex[e.customer_id]=this.customers[t]})})}getAllUser(){this.params={currentPage:this.currentPage},this.userService.getAllUserByPage(this.params).subscribe(e=>{this.users=e.rows,this.record=e.count,console.log(e.count),this.pager=this.pagination.paginate(this.record),console.log(this.pager.totalPages),this.dataSource=new fe.k(this.users),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator),this.isLoading=!1}),this.removeColumn()}getUserByPage(e){Object.keys(this.myform).forEach(e=>this.myform.setValue(this.myform.value.trim())),this.page=e,this.page>this.pager.totalPages||(this.params={currentPage:e,name:this.myform.value.name,email:this.myform.value.email,phone:this.myform.value.phone,customer_id:this.myform.value.customer_id},this.userService.getAllUserByPage(this.params).subscribe(t=>{this.isLoading=!1,this.users=t.rows,console.log(this.record),this.pager=this.pagination.paginate(this.record,e),this.dataSource=new fe.k(this.users),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)}))}getUserBySearch(){this.params={currentPage:this.currentPage,name:this.myform.value.name,email:this.myform.value.email,phone:this.myform.value.phone,customer_id:this.myform.value.customer_id},console.log(this.params),this.userService.getAllUserByPage(this.params).subscribe(e=>{this.isLoading=!1,this.users=e.rows,this.record=e.count,this.pager=this.pagination.paginate(this.record),this.dataSource=new fe.k(this.users),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}removeColumn(){0==this.assigedRole.includes("role_edit")&&0==this.assigedRole.includes("role_delete")&&(this.displayedColumns=["id","name","mobile","email","status"])}editUser(e){this.router.navigate(["admin/authorization/users/edit",e.id])}deleteUser(e){this.dialogService.openConfirmDialog().afterClosed().subscribe(t=>{t&&(this.userService.deleteUser(e.id).subscribe(),this.deleteRowDataTable(e.id,this.idColumn,this.paginator,this.dataSource),this.openSnackBar())})}deleteRowDataTable(e,t,c,i){this.users=i.data;const o=this.users.findIndex(c=>c[t]===e);i.data.splice(o,1),i.paginator=c}openSnackBar(){this.snackBar.open("Deleted!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}getBack(){this.getAllUser()}applyFilter(e){this.dataSource.filter=e.trim().toLowerCase()}openDriverModal(e){console.log(e.id);const t=new he.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(xe,{width:"680px",height:"460px",data:{user_id:e.id,customer_id:e.customer_id}}).afterClosed().subscribe(e=>{})}openNotificationModal(e){console.log(e.id);const t=new he.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(Fe,{width:"580px",height:"460px",data:{pageValue:e.id}}).afterClosed().subscribe(e=>{})}openMaintenanceModal(e){console.log(e.id);const t=new he.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(Je,{width:"580px",height:"460px",data:{pageValue:e.id}}).afterClosed().subscribe(e=>{})}openAttributeModal(e){console.log(e.id);const t=new he.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(st,{width:"580px",height:"460px",data:{pageValue:e.id}}).afterClosed().subscribe(e=>{})}openCommandModal(e){console.log(e.id);const t=new he.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(yt,{width:"580px",height:"460px",data:{pageValue:e.id}}).afterClosed().subscribe(e=>{})}openDeviceModal(e){console.log(e.customer_id);const t=new he.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(Mt,{width:"580px",height:"460px",data:{user_id:e.id,customer_id:e.customer_id}}).afterClosed().subscribe(e=>{})}openGroupModal(e){console.log(e.id);const t=new he.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(Tt,{width:"580px",height:"460px",data:{pageValue:e.id}}).afterClosed().subscribe(e=>{})}settingDevice(e){console.log(e.id)}goAddPage(){this.router.navigate(["admin/authorization/users/add"])}cleanForm(e){Object.keys(e.controls).forEach(t=>e.get(t).setValue(e.get(t).value.trim()))}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(d.a),u.Zb(f.a),u.Zb(n.c),u.Zb(ge.a),u.Zb(he.b),u.Zb(Zt.a),u.Zb(o.e),u.Zb(k.a))},e.\u0275cmp=u.Tb({type:e,selectors:[["app-user-list"]],viewQuery:function(e,t){var c;1&e&&(u.Uc(de.a,!0),u.Uc(ue.a,!0)),2&e&&(u.Ec(c=u.oc())&&(t.sort=c.first),u.Ec(c=u.oc())&&(t.paginator=c.first))},decls:58,vars:9,consts:[[1,"custom-style"],[1,"table-title"],["fxLayout","row","fxLayout.xs","column",1,"search-div"],["fxFlex","70%","fxFlex.xs","100%"],[3,"formGroup"],["fxFlex","24%","fxFlex.xs","30%",1,"search_field"],["matInput","","appTrim","","placeholder","Name","formControlName","name","autocomplete","off"],["fxFlex","24%",1,"search_field"],["matInput","","placeholder","Email","formControlName","email","autocomplete","off"],["matInput","","placeholder","Phone","formControlName","phone","autocomplete","off"],["matInput","","placeholder","Customer ID","formControlName","customer_id","autocomplete","off"],["fxFlex","30%","fxFlex.xs","100%"],["mat-button","",1,"mat-stroked-button","mat-primary",3,"click"],[1,"addButton"],["mat-button","",1,"mat-raised-button","mat-primary",3,"click"],[1,"table_container"],["mat-table","","matTableExporter","","matSort","",1,"mat-elevation-z8",3,"dataSource","hiddenColumns"],["exporter","matTableExporter"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","name"],["matColumnDef","customer_id"],["matColumnDef","customer_name"],["matColumnDef","mobile"],["matColumnDef","email"],["matColumnDef","status"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],[1,"middle"],["class","pagination",4,"ngIf"],["style","display:flex; justify-content: center; align-items: center",4,"ngIf"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",4,"ngIf"],["mat-icon-button","","color","warn",4,"ngIf"],["mat-icon-button","","color","info",3,"matMenuTriggerFor",4,"ngIf"],["setting","matMenu"],["mat-menu-item","",3,"click"],["mat-icon-button",""],[3,"click"],["mat-icon-button","","color","warn"],["mat-icon-button","","color","info",3,"matMenuTriggerFor"],["mat-header-cell","","mat-sort-header",""],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"],[1,"pagination"],[1,"pagination",3,"ngClass"],["class","pagination",3,"ngClass",4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"]],template:function(e,t){if(1&e){const e=u.gc();u.fc(0,"div",0),u.fc(1,"div",1),u.fc(2,"h3"),u.Qc(3,"User Table"),u.ec(),u.ec(),u.fc(4,"div",2),u.fc(5,"div",3),u.fc(6,"form",4),u.fc(7,"mat-form-field",5),u.ac(8,"input",6),u.ec(),u.fc(9,"mat-form-field",7),u.ac(10,"input",8),u.ec(),u.fc(11,"mat-form-field",7),u.ac(12,"input",9),u.ec(),u.fc(13,"mat-form-field",5),u.ac(14,"input",10),u.ec(),u.ec(),u.ec(),u.fc(15,"div",11),u.fc(16,"button",12),u.nc("click",(function(){return t.cleanForm(t.myform)}))("click",(function(){return t.getUserBySearch()})),u.Qc(17," Search "),u.ec(),u.fc(18,"button",12),u.nc("click",(function(){return t.getBack()})),u.Qc(19," Back "),u.ec(),u.fc(20,"span",13),u.fc(21,"button",14),u.nc("click",(function(){return t.goAddPage()})),u.Qc(22," Add "),u.ec(),u.ec(),u.fc(23,"button",14),u.nc("click",(function(){return u.Hc(e),u.Fc(27).exportTable("csv",{fileName:"user"})})),u.Qc(24," CSV "),u.ec(),u.ec(),u.ec(),u.fc(25,"div",15),u.fc(26,"table",16,17),u.dc(28,18),u.Pc(29,Ht,2,0,"th",19),u.Pc(30,Gt,20,3,"td",20),u.cc(),u.dc(31,21),u.Pc(32,Vt,2,0,"th",22),u.Pc(33,Wt,2,1,"td",20),u.cc(),u.dc(34,23),u.Pc(35,Xt,2,0,"th",22),u.Pc(36,Jt,2,1,"td",20),u.cc(),u.dc(37,24),u.Pc(38,Kt,2,0,"th",22),u.Pc(39,Yt,2,1,"td",20),u.cc(),u.dc(40,25),u.Pc(41,ec,2,0,"th",22),u.Pc(42,tc,2,1,"td",20),u.cc(),u.dc(43,26),u.Pc(44,cc,2,0,"th",22),u.Pc(45,ic,2,1,"td",20),u.cc(),u.dc(46,27),u.Pc(47,oc,2,0,"th",22),u.Pc(48,rc,2,1,"td",20),u.cc(),u.dc(49,28),u.Pc(50,ac,2,0,"th",22),u.Pc(51,sc,2,1,"td",20),u.cc(),u.Pc(52,nc,1,0,"tr",29),u.Pc(53,lc,1,0,"tr",30),u.ec(),u.ec(),u.ec(),u.fc(54,"div",31),u.Pc(55,fc,8,7,"ul",32),u.ec(),u.Pc(56,hc,2,0,"mat-card",33),u.Pc(57,pc,2,0,"mat-card",34)}2&e&&(u.Ob(6),u.yc("formGroup",t.myform),u.Ob(20),u.yc("dataSource",t.dataSource)("hiddenColumns",u.Ac(8,gc)),u.Ob(26),u.yc("matHeaderRowDef",t.displayedColumns),u.Ob(1),u.yc("matRowDefColumns",t.displayedColumns),u.Ob(2),u.yc("ngIf",t.pager.pages&&t.pager.pages.length),u.Ob(1),u.yc("ngIf",t.isLoading),u.Ob(1),u.yc("ngIf",""==t.users))},directives:[_.b,_.a,o.t,o.n,o.g,p.c,g.b,o.c,o.m,o.f,b.b,fe.j,a.a,de.a,fe.c,fe.e,fe.b,fe.g,fe.i,i.m,fe.d,fe.a,Lt.d,Lt.a,M.a,Lt.c,de.b,fe.f,fe.h,i.k,Et.a,i.l,h.a,$t.a],styles:[".table_container[_ngcontent-%COMP%]{margin-left:2%;width:96%;margin-right:2%;overflow:auto}.filter[_ngcontent-%COMP%]{width:15%;margin-right:50%}.header[_ngcontent-%COMP%]{overflow:hidden}.table[_ngcontent-%COMP%]{width:96%!important;margin-left:2%;margin-right:2%}.spacerb[_ngcontent-%COMP%]{margin-right:5px}h3[_ngcontent-%COMP%]{font-weight:500}.row[_ngcontent-%COMP%]{height:40px!important}.fl[_ngcontent-%COMP%]{position:relative;display:flex}.closeButton[_ngcontent-%COMP%]{margin-top:20px}.search_div[_ngcontent-%COMP%]{margin-left:10%}.search_field[_ngcontent-%COMP%]{margin-left:1%;width:10%;float:left}.mat-stroked-button[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;border:1px solid #00f}.mat-raised-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%]{width:8%;margin-left:.5%}.pagination[_ngcontent-%COMP%]{display:inline-block}.pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;float:left;padding:8px 16px;text-decoration:none;transition:background-color .3s;border:1px solid #ddd}.active[_ngcontent-%COMP%]{background-color:#29abe2;background:#4169e1;color:red}.pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:not(.active){background-color:#ddd}.middle[_ngcontent-%COMP%]{margin-left:50%}a[_ngcontent-%COMP%]{cursor:pointer}.mat-column-action[_ngcontent-%COMP%]{width:15%!important}"]}),e})(),canActivate:[l.a],data:{roles:"user_list"}},{path:"edit/:id",component:me,canActivate:[l.a],data:{roles:"user_edit"}},{path:"reset-password",component:S,canActivate:[l.a],data:{roles:"user_password_reset"}},{path:"change-password",component:C},{path:"user-profile",component:(()=>{class e{constructor(){this.userData=JSON.parse(localStorage.getItem("userData"))}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Tb({type:e,selectors:[["app-user-profile"]],decls:8,vars:4,template:function(e,t){1&e&&(u.fc(0,"mat-card"),u.Qc(1),u.ac(2,"br"),u.Qc(3),u.ac(4,"br"),u.Qc(5),u.ac(6,"br"),u.Qc(7),u.ec()),2&e&&(u.Ob(1),u.Sc(" Name: ",t.userData.fullName,""),u.Ob(2),u.Sc(" Email: ",t.userData.email,""),u.Ob(2),u.Sc(" Mobile: ",t.userData.mobile,""),u.Ob(2),u.Sc(" Device Limit: ",t.userData.device_limit,"\n"))},directives:[h.a],styles:[""]}),e})()}];let vc=(()=>{class e{}return e.\u0275mod=u.Xb({type:e}),e.\u0275inj=u.Wb({factory:function(t){return new(t||e)},imports:[[n.f.forChild(bc)],n.f]}),e})(),yc=(()=>{class e{}return e.\u0275mod=u.Xb({type:e}),e.\u0275inj=u.Wb({factory:function(t){return new(t||e)},imports:[[i.c,vc,r.a,o.q,o.i,a.b,s.a]]}),e})()},Cp0R:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var i=c("fXoL"),o=c("Ofeh"),r=c("tyNb");let a=(()=>{class e{constructor(e,t){this.loginService=e,this.router=t,this.assigedRole=[]}canActivate(e,t){return this.loginService.loggedIn()?(this.assigedRole=JSON.parse(sessionStorage.getItem("rolesData")),1==this.assigedRole.includes(e.data.roles)||(this.router.navigate(["/deny"]),!1)):(this.router.navigate(["/"]),!1)}}return e.\u0275fac=function(t){return new(t||e)(i.jc(o.a),i.jc(r.c))},e.\u0275prov=i.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},H0VJ:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var i=c("fXoL"),o=c("0IaG"),r=c("NFeN"),a=c("bTqV");let s=(()=>{class e{constructor(e){this.dialogRef=e}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return e.\u0275fac=function(t){return new(t||e)(i.Zb(o.f))},e.\u0275cmp=i.Tb({type:e,selectors:[["app-mat-dialog"]],decls:11,vars:2,consts:[[1,"content-container"],["id","close-button",3,"click"],[1,"content-span"],["mat-flat-button","","id","no-button",3,"mat-dialog-close"],["mat-flat-button","","id","yes-button","color","warn",3,"mat-dialog-close"]],template:function(e,t){1&e&&(i.fc(0,"div"),i.fc(1,"div",0),i.fc(2,"mat-icon",1),i.nc("click",(function(){return t.closeDialog()})),i.Qc(3,"close"),i.ec(),i.fc(4,"div",2),i.Qc(5,"Are you sure to delete this record ?"),i.ec(),i.ec(),i.fc(6,"div"),i.fc(7,"button",3),i.Qc(8,"No"),i.ec(),i.fc(9,"button",4),i.Qc(10,"Yes"),i.ec(),i.ec(),i.ec()),2&e&&(i.Ob(7),i.yc("mat-dialog-close",!1),i.Ob(2),i.yc("mat-dialog-close",!0))},directives:[r.a,a.b,o.c],styles:["#close-button[_ngcontent-%COMP%]{margin-left:90%;cursor:pointer}.content-span[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:20px}#no-button[_ngcontent-%COMP%]{width:30%;margin-left:7%;margin-right:25%;background-color:#ff0}#yes-button[_ngcontent-%COMP%]{width:30%}"]}),e})(),n=(()=>{class e{constructor(e){this.dialog=e}openConfirmDialog(){return this.dialog.open(s,{width:"300px",disableClose:!0,position:{top:"20px"}})}}return e.\u0275fac=function(t){return new(t||e)(i.jc(o.b))},e.\u0275prov=i.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},M5z4:function(e,t,c){"use strict";c.d(t,"a",(function(){return s}));var i=c("AytR"),o=c("2Vo4"),r=c("fXoL"),a=c("tk/3");let s=(()=>{class e{constructor(e){this.http=e,this.importDataSent=new o.a(""),this.importErrorSent=new o.a(""),this.messageSent=new o.a(""),this.deviceImportStatusSent=new o.a(""),this.importDataCatch=this.importDataSent.asObservable(),this.messageCatch=this.importDataSent.asObservable(),this.importErrorCatch=this.importErrorSent.asObservable(),this.deviceImportStatusCatch=this.deviceImportStatusSent.asObservable(),this.url=i.a.apiUrl+"/customer/"}importDataExchange(e){console.log(e),this.importDataSent.next(e)}importErrorExchange(e){this.importErrorSent.next(e)}messageExchange(e){this.messageSent.next(e)}deviceImportStatusExchange(e){console.log(e),this.deviceImportStatusSent.next(e)}DestroySubject(){alert("hi")}addCustomer(e){return this.http.post(this.url+"/addCustomer",e)}getAllCustomer(e){return this.http.post(this.url+"/listCustomer",e)}getCustomerById(e){return this.http.get(this.url+e+"/editCustomer")}getCustomerByUserId(e){return this.http.get(this.url+e+"/getCustomerByUserId")}updateCustomer(e,t){return this.http.put(this.url+e+"/updateCustomer",t)}getAllCustomerList(){return this.http.get(this.url+"/allCustomerList")}getAllCustomerListJoinWithDevices(){return this.http.get(this.url+"/allCustomerListJoinWithDevices")}customerSearch(e){return this.http.post(this.url+"/customerSearch",e)}resellerSearch(e){return this.http.post(this.url+"/resellerSearch",e)}DeviceByCustomer(e){return this.http.get(this.url+e+"/getDeviceByCustomer")}DeviceByDeviceId(e){return this.http.post(this.url+"/getDeviceByDeviceId",e)}DeviceIdByUser(e){return this.http.get(this.url+e+"/getDeviceIdByUser")}DeviceByCustomerWithPosition(e){return this.http.get(this.url+e+"/getDeviceByCustomerWithPosition")}DeviceByCustomerUserWithPosition(e){return this.http.post(this.url+"/getDeviceByCustomerUserWithPosition",e)}DevicePositionByPositionId(e){return this.http.post(this.url+"/getDevicePositionByPositionId",e)}DevicePositionByCustomer(e){return this.http.get(this.url+e+"/getDevicePositionByCustomer")}DeviceByCustomerId(e){return this.http.get(this.url+e+"/getDeviceByCustomerId")}getCustomerByReseller(e){return this.http.get(this.url+e+"/getCustomerByReseller")}addCustomerWithReseller(e){return this.http.post(this.url+"/addCustomerWithReseller",e)}getResellerAutoId(e){return this.http.get(this.url+e+"/getResellerAutoId")}getCustomerByResellerId(e){return this.http.get(this.url+e+"/getCustomerByResellerId")}getCustomerIdByAutoId(e){return this.http.get(this.url+e+"/getCustomerIdByAutoId")}}return e.\u0275fac=function(t){return new(t||e)(r.jc(a.b))},e.\u0275prov=r.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},XCAU:function(e,t,c){"use strict";c.d(t,"a",(function(){return s}));var i=c("2Vo4"),o=c("AytR"),r=c("fXoL"),a=c("tk/3");let s=(()=>{class e{constructor(e){this.http=e,this.url=o.a.apiUrl+"/device/",this.importDataSent=new i.a(""),this.importDataCatch=this.importDataSent.asObservable(),this.importErrorSent=new i.a(""),this.importErrorCatch=this.importErrorSent.asObservable()}importDataExchange(e){console.log(e),this.importDataSent.next(e)}importErrorExchange(e){this.importErrorSent.next(e)}getAllDevices(){return this.http.get(this.url+"/listDevices")}addDevice(e){return this.http.post(this.url+"/addDevice",e)}getAllFreeDevice(){return this.http.get(this.url+"/listFreeDevice")}getDeviceById(e){return this.http.get(this.url+e+"/editDevice")}updateDevice(e,t){return this.http.put(this.url+e+"/updateDevice",t)}deleteDevice(e){return this.http.delete(this.url+e+"/deleteDevice")}addDeviceWithUser(e){return this.http.post(this.url+"/addUserDevice",e)}deleteUserDevice(e){return this.http.post(this.url+"/deleteUserDevice",e)}getDeviceByUserId(e){return this.http.get(this.url+e+"/getDeviceByUser")}getDeviceByAllUser(){return this.http.get(this.url+"/getDeviceByAllUser")}addDeviceWithCustomer(e){return this.http.post(this.url+"/addCustomerDevice",e)}addDeviceWithCustomerByImport(e){return this.http.post(this.url+"/addDeviceWithCustomerByImport",e)}deleteCustomerDevice(e){return this.http.post(this.url+"/deleteCustomerDevice",e)}addDeviceWithCustomerReseller(e){return this.http.post(this.url+"/addCustomerResellerDevice",e)}deleteCustomerDeviceReseller(e){return this.http.post(this.url+"/deleteCustomerResellerDevice",e)}getDeviceByCustomerResellerId(e){return this.http.get(this.url+e+"/getDeviceByCustomerResellerId")}getDeviceByResellerId(e){return this.http.get(this.url+e+"/getDeviceByResellerId")}getDeviceByResellerIdFor(e){return this.http.get(this.url+e+"/getDeviceByResellerIdFor")}getDeviceByCustomerId(e){return this.http.get(this.url+e+"/getDeviceByCustomerId")}getAllPostion(){return this.http.get(this.url+"/listPositions")}getHistoryPostionBySearch(e){return this.http.post(this.url+"/listHistoryPositions",e)}getAllPostionBySearch(e){return this.http.post(this.url+"/listAllPositions",e)}getAllEvents(){return this.http.get(this.url+"/listEvents")}getAllEventsByReseller(e){return this.http.post(this.url+"/listEventsByReseller",e)}getDeviceWithPositionById(e){return this.http.get(this.url+e+"/getDeviceWithPositionById")}getDeviceCurrentPositionById(e){return this.http.get(this.url+e+"/getDeviceCurrentPositionById")}getMovingPosition(e){return this.http.post(this.url+"/movingPositions",e)}getDevicePositionByPositionId(e){return this.http.post(this.url+"/getDevicePositionByPositionId",e)}getEventPositionById(e){return this.http.get(this.url+e+"/getEventPositionById")}getDeviceIdByIMEI(e){return this.http.get(this.url+e+"/getDeviceIdByIMEI")}addDeviceWithReseller(e){return this.http.post(this.url+"/addDeviceWithReseller",e)}deleteDeviceFromReseller(e){return this.http.post(this.url+"/deleteDeviceFromReseller",e)}}return e.\u0275fac=function(t){return new(t||e)(r.jc(a.b))},e.\u0275prov=r.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);
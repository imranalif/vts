(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{IwCN:function(t,e,n){"use strict";n.r(e),n.d(e,"LoginModule",(function(){return M}));var o=n("ofXK"),r=n("3Pt+"),s=n("YUcS"),i=n("jAig"),c=n("tyNb"),a=n("fXoL"),l=n("Wp6s");let g=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Tb({type:t,selectors:[["app-access-denied"]],decls:3,vars:0,template:function(t,e){1&t&&(a.fc(0,"mat-card"),a.fc(1,"h3"),a.Tc(2,"ACCESS DENIED !!!"),a.ec(),a.ec())},directives:[l.a],styles:[""]}),t})();var m=n("Ofeh"),h=n("idFR"),p=n("M5z4"),u=n("XiUz"),d=n("kmnG"),f=n("qFsG"),C=n("bTqV"),b=n("Xa2L");function x(t,e){1&t&&(a.fc(0,"div"),a.fc(1,"p",15),a.Tc(2,"Authentic Email and Password Required"),a.ec(),a.ec())}function y(t,e){if(1&t){const t=a.gc();a.fc(0,"mat-card",2),a.fc(1,"div",3),a.fc(2,"a",4),a.ac(3,"img",5),a.ec(),a.ec(),a.fc(4,"mat-card-content"),a.fc(5,"form",6),a.fc(6,"mat-card-content"),a.fc(7,"mat-form-field",7),a.ac(8,"input",8),a.ec(),a.fc(9,"mat-form-field",7),a.ac(10,"input",9),a.ec(),a.ec(),a.fc(11,"div",10),a.fc(12,"button",11),a.nc("click",(function(){return a.Kc(t),a.rc().login()})),a.Tc(13,"Log in"),a.ec(),a.ec(),a.fc(14,"div",12),a.fc(15,"a",13),a.Tc(16,"Developed By BDCOM Online Ltd"),a.ec(),a.ec(),a.ec(),a.ec(),a.Sc(17,x,3,0,"div",14),a.ec()}if(2&t){const t=a.rc();a.Ob(5),a.yc("formGroup",t.myform),a.Ob(12),a.yc("ngIf",t.show)}}function O(t,e){1&t&&(a.fc(0,"mat-card",16),a.ac(1,"mat-progress-spinner",17),a.ec())}const P=[{path:"",component:(()=>{class t{constructor(t,e,n,o,r){this.fb=t,this.loginService=e,this.roleService=n,this.customerService=o,this.router=r,this.submitted=!1,this.roles=[],this.isLoading=!1,this.loginAttemp=!0}ngOnInit(){this.myform=this.fb.group({email:["",[r.u.email,r.u.required]],password:["",[r.u.required,r.u.minLength(6)]]})}login(){this.myform.markAllAsTouched(),this.submitted=!0,this.myform.invalid?this.show=!0:this.loginService.login(this.myform.value).subscribe(t=>{this.loginAttemp=!1,this.isLoading=!0,"Customer"==t.data.user_type?(sessionStorage.setItem("accessToken",t.accessToken),sessionStorage.setItem("refreshToken",t.refreshToken),this.isLoading=!1,this.router.navigate(["/customer-map/info",t.data.id])):"Reseller"==t.data.user_type?(this.isLoading=!1,sessionStorage.setItem("accessToken",t.accessToken),sessionStorage.setItem("refreshToken",t.refreshToken),this.router.navigate(["/reseller/dashboard"]),localStorage.setItem("userData",JSON.stringify(t.data))):"Admin"==t.data.user_type&&this.roleService.getPermissionByRole(t.data.role).subscribe(e=>{console.log("teesttt"),e.forEach(e=>{this.roles.push(e.permission),sessionStorage.setItem("rolesData",JSON.stringify(this.roles)),sessionStorage.setItem("accessToken",t.accessToken),sessionStorage.setItem("refreshToken",t.refreshToken),localStorage.setItem("userData",JSON.stringify(t.data)),this.router.navigate(["admin/dashboard"])})})},t=>{this.show=!0})}}return t.\u0275fac=function(e){return new(e||t)(a.Zb(r.e),a.Zb(m.a),a.Zb(h.a),a.Zb(p.a),a.Zb(c.c))},t.\u0275cmp=a.Tb({type:t,selectors:[["app-login-page"]],decls:2,vars:2,consts:[["fxFlex","35%","fxFlex.xs","100%","class","customStyle",4,"ngIf"],["style","display:flex; justify-content: center; align-items: center",4,"ngIf"],["fxFlex","35%","fxFlex.xs","100%",1,"customStyle"],[1,"content"],["href","hrefs://www.bdcom.com/",1,"logo"],["src","assets/admin/images/traccar.png",1,"im",2,"width","70%","max-height","80px"],[3,"formGroup"],[1,"full"],["autocomplete","off","formControlName","email","matInput","","placeholder","Email"],["trim","blur","type","password","autocomplete","off","formControlName","password","matInput","","placeholder","Password"],[1,"submitButton"],["mat-raised-button","","color","primary",1,"btn-block",3,"click"],[1,"link"],["href","https://www.bdcom.com/",1,"bdlink"],[4,"ngIf"],[1,"red"],[2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"]],template:function(t,e){1&t&&(a.Sc(0,y,18,2,"mat-card",0),a.Sc(1,O,2,0,"mat-card",1)),2&t&&(a.yc("ngIf",e.loginAttemp),a.Ob(1),a.yc("ngIf",e.isLoading))},directives:[o.m,l.a,u.a,l.c,r.v,r.o,r.g,d.c,r.c,f.b,r.n,r.f,C.b,b.a],styles:['.containerr[_ngcontent-%COMP%]{position:absolute;width:100%;background-color:#cff;height:100%}.content[_ngcontent-%COMP%]{margin-left:-20px}.content[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{position:relative}h1[_ngcontent-%COMP%]{margin-top:-50px;font-size:30px}.bdcom[_ngcontent-%COMP%]{font-weight:700}.bdcom[_ngcontent-%COMP%]:hover{color:#f0f}span[_ngcontent-%COMP%]{color:purple}.im[_ngcontent-%COMP%]{margin-left:50px;text-align:center}.mat-card[_ngcontent-%COMP%]{width:400px;margin-top:100px}.mat-card[_ngcontent-%COMP%]   .full[_ngcontent-%COMP%]{width:90%}.red[_ngcontent-%COMP%]{color:red}.positronx[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.box[_ngcontent-%COMP%]{margin-left:30%;position:relative;top:-30px;opacity:1;float:left;padding:60px 50px 40px;width:100%;background:#fff;border-radius:10px;transform:scale(1);-webkit-transform:scale(1);-ms-transform:scale(1);z-index:5;max-width:330px}.box.back[_ngcontent-%COMP%]{top:-20px;opacity:.8}.box.back[_ngcontent-%COMP%], .box[_ngcontent-%COMP%]:before{transform:scale(.95);-webkit-transform:scale(.95);-ms-transform:scale(.95);z-index:-1}.box[_ngcontent-%COMP%]:before{content:"";width:100%;height:30px;border-radius:10px;position:absolute;top:-10px;background:hsla(0,0%,100%,.6);left:0}.login-wrapper[_ngcontent-%COMP%]   .example-form[_ngcontent-%COMP%]{min-width:100%;max-width:300px;width:100%}.login-wrapper[_ngcontent-%COMP%]   .btn-block[_ngcontent-%COMP%], .login-wrapper[_ngcontent-%COMP%]   .example-full-width[_ngcontent-%COMP%]{width:100%}.login-wrapper[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{text-align:center;width:100%;display:block;font-weight:700}.login-wrapper[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:30px;margin:0}.login-wrapper[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{padding:40px 70px 20px}.login-wrapper[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]{border:1px solid;line-height:54px;background:#fff7fa}.login-wrapper[_ngcontent-%COMP%]   .mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{padding:.8375em 0}.submit-button[_ngcontent-%COMP%]{background-color:#1fc8db}h1[_ngcontent-%COMP%]{text-align:center;font-weight:700;color:#00f}.submitButton[_ngcontent-%COMP%]{margin-top:30px}.link[_ngcontent-%COMP%]{text-align:right;margin-top:20px}.bdlink[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]{text-decoration:none}.btn-block[_ngcontent-%COMP%], .customStyle[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px}.customStyle[_ngcontent-%COMP%]{box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important;margin-bottom:25px}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.mat-raised-button[_ngcontent-%COMP%]{margin-left:10%;border-radius:20px 20px 20px 20px;width:80%;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}h1[_ngcontent-%COMP%]{font-weight:600}.logo[_ngcontent-%COMP%]{margin-left:5%;margin-top:5%;margin-bottom:3%}']}),t})()},{path:"deny",component:g}];let w=(()=>{class t{}return t.\u0275mod=a.Xb({type:t}),t.\u0275inj=a.Wb({factory:function(e){return new(e||t)},imports:[[c.f.forChild(P)],c.f]}),t})(),M=(()=>{class t{}return t.\u0275mod=a.Xb({type:t}),t.\u0275inj=a.Wb({factory:function(e){return new(e||t)},imports:[[o.c,w,i.a,r.s,r.i,s.a]]}),t})()},M5z4:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var o=n("AytR"),r=n("2Vo4"),s=n("fXoL"),i=n("tk/3");let c=(()=>{class t{constructor(t){this.http=t,this.importDataSent=new r.a(""),this.importErrorSent=new r.a(""),this.messageSent=new r.a(""),this.deviceImportStatusSent=new r.a(""),this.importDataCatch=this.importDataSent.asObservable(),this.messageCatch=this.importDataSent.asObservable(),this.importErrorCatch=this.importErrorSent.asObservable(),this.deviceImportStatusCatch=this.deviceImportStatusSent.asObservable(),this.url=o.a.apiUrl+"/customer/"}importDataExchange(t){console.log(t),this.importDataSent.next(t)}importErrorExchange(t){this.importErrorSent.next(t)}messageExchange(t){this.messageSent.next(t)}deviceImportStatusExchange(t){console.log(t),this.deviceImportStatusSent.next(t)}DestroySubject(){alert("hi")}addCustomer(t){return this.http.post(this.url+"/addCustomer",t)}getAllCustomer(t){return this.http.post(this.url+"/listCustomer",t)}getCustomerById(t){return this.http.get(this.url+t+"/editCustomer")}getCustomerByUserId(t){return this.http.get(this.url+t+"/getCustomerByUserId")}updateCustomer(t,e){return this.http.put(this.url+t+"/updateCustomer",e)}getAllCustomerList(){return this.http.get(this.url+"/allCustomerList")}getAllCustomerListJoinWithDevices(){return this.http.get(this.url+"/allCustomerListJoinWithDevices")}customerSearch(t){return this.http.post(this.url+"/customerSearch",t)}resellerSearch(t){return this.http.post(this.url+"/resellerSearch",t)}DeviceByCustomer(t){return this.http.get(this.url+t+"/getDeviceByCustomer")}DeviceByDeviceId(t){return this.http.post(this.url+"/getDeviceByDeviceId",t)}DeviceIdByUser(t){return this.http.get(this.url+t+"/getDeviceIdByUser")}DeviceByCustomerWithPosition(t){return this.http.get(this.url+t+"/getDeviceByCustomerWithPosition")}DeviceByCustomerUserWithPosition(t){return this.http.post(this.url+"/getDeviceByCustomerUserWithPosition",t)}DevicePositionByPositionId(t){return this.http.post(this.url+"/getDevicePositionByPositionId",t)}DevicePositionByCustomer(t){return this.http.get(this.url+t+"/getDevicePositionByCustomer")}DeviceByCustomerId(t){return this.http.get(this.url+t+"/getDeviceByCustomerId")}getCustomerByReseller(t){return this.http.get(this.url+t+"/getCustomerByReseller")}addCustomerWithReseller(t){return this.http.post(this.url+"/addCustomerWithReseller",t)}getResellerAutoId(t){return this.http.get(this.url+t+"/getResellerAutoId")}getCustomerByResellerId(t){return this.http.get(this.url+t+"/getCustomerByResellerId")}getCustomerIdByAutoId(t){return this.http.get(this.url+t+"/getCustomerIdByAutoId")}}return t.\u0275fac=function(e){return new(e||t)(s.jc(i.b))},t.\u0275prov=s.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);
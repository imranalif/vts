(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"7K70":function(t,e,c){"use strict";c.r(e),c.d(e,"ReportsModule",(function(){return Tt}));var i=c("ofXK"),o=c("3Pt+"),r=c("jAig"),n=c("KUt4"),a=c("YUcS"),s=c("tyNb"),u=c("Cp0R"),l=c("Dh3D"),d=c("M9IT"),h=c("+0xr"),f=c("fXoL"),m=c("AytR"),g=c("tk/3");let p=(()=>{class t{constructor(t){this.http=t,this.url=m.a.apiUrl+"/device/"}getPositionByPage(t){return this.http.post(this.url+"/listPositionByPage",t)}}return t.\u0275fac=function(e){return new(e||t)(f.jc(g.b))},t.\u0275prov=f.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var v=c("Nl8B"),b=c("M5z4"),P=c("XCAU"),D=c("tmcy"),y=c("XiUz"),C=c("kmnG"),O=c("d3UM"),w=c("FKr1"),S=c("qFsG"),x=c("z17N"),Q=c("bTqV"),k=c("znSr"),B=c("Wp6s"),T=c("Xa2L");function R(t,e){if(1&t&&(f.fc(0,"mat-option",51),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.yc("value",t.customer_id),f.Ob(1),f.Sc(" ",t.name," ")}}function I(t,e){if(1&t&&(f.fc(0,"mat-option",51),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.yc("value",t.id),f.Ob(1),f.Sc(" ",t.name," ")}}function A(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"Device"),f.ec())}function M(t,e){if(1&t&&(f.fc(0,"td",53),f.Qc(1),f.ec()),2&t){const t=e.$implicit,c=f.rc();f.Ob(1),f.Rc(null==c.devicesIndex[t.deviceid]?null:c.devicesIndex[t.deviceid].name)}}function F(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"Time"),f.ec())}function _(t,e){if(1&t&&(f.fc(0,"td",53),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.fixtime)}}function $(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"Latitude"),f.ec())}function L(t,e){if(1&t&&(f.fc(0,"td",53),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.latitude)}}function E(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"Logitude"),f.ec())}function U(t,e){if(1&t&&(f.fc(0,"td",53),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.longitude)}}function V(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"Address"),f.ec())}function N(t,e){if(1&t&&(f.fc(0,"td",53),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.address)}}function X(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"Altitude"),f.ec())}function j(t,e){if(1&t&&(f.fc(0,"td",53),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.altitude)}}function W(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"Speed"),f.ec())}function H(t,e){if(1&t&&(f.fc(0,"td",53),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.speed)}}function q(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"Status"),f.ec())}function J(t,e){if(1&t&&(f.fc(0,"td",53),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.a.status)}}function z(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"Ignition"),f.ec())}function Z(t,e){if(1&t&&(f.fc(0,"td",53),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.a.ignition)}}function G(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"Charge"),f.ec())}function K(t,e){if(1&t&&(f.fc(0,"td",53),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.a.charge)}}function Y(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"Blocked"),f.ec())}function tt(t,e){if(1&t&&(f.fc(0,"td",53),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.a.blocked)}}function et(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"Batterylevel"),f.ec())}function ct(t,e){if(1&t&&(f.fc(0,"td",53),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.a.batteryLevel)}}function it(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"rssi"),f.ec())}function ot(t,e){if(1&t&&(f.fc(0,"td",53),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.a.rssi)}}function rt(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"Sequence"),f.ec())}function nt(t,e){if(1&t&&(f.fc(0,"td",53),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.a.sequence)}}function at(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"Distance"),f.ec())}function st(t,e){if(1&t&&(f.fc(0,"td",53),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.a.distance)}}function ut(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"Totaldistance"),f.ec())}function lt(t,e){if(1&t&&(f.fc(0,"td",53),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.a.totalDistance)}}function dt(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"Motion"),f.ec())}function ht(t,e){if(1&t&&(f.fc(0,"td",53),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.a.motion)}}function ft(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"Valid"),f.ec())}function mt(t,e){if(1&t&&(f.fc(0,"td",53),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.valid)}}function gt(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"Enginehours"),f.ec())}function pt(t,e){if(1&t&&(f.fc(0,"td",53),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.a.hours)}}function vt(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"Sat"),f.ec())}function bt(t,e){if(1&t&&(f.fc(0,"td",53),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.a.sat)}}function Pt(t,e){1&t&&f.ac(0,"tr",54)}function Dt(t,e){1&t&&f.ac(0,"tr",55)}const yt=function(t){return{active:t}};function Ct(t,e){if(1&t){const t=f.gc();f.fc(0,"li",57),f.fc(1,"a",11),f.nc("click",(function(){f.Hc(t);const c=e.$implicit;return f.rc(2).getPositionByPage(c)})),f.Qc(2),f.ec(),f.ec()}if(2&t){const t=e.$implicit,c=f.rc(2);f.yc("ngClass",f.Bc(2,yt,c.pager.currentPage===t)),f.Ob(2),f.Rc(t)}}const Ot=function(t){return{disabled:t}};function wt(t,e){if(1&t){const t=f.gc();f.fc(0,"ul",56),f.fc(1,"li",57),f.fc(2,"a",11),f.nc("click",(function(){f.Hc(t);const e=f.rc();return e.getPositionByPage(e.pager.currentPage-1)})),f.Qc(3,"\xab"),f.ec(),f.ec(),f.Pc(4,Ct,3,4,"li",58),f.fc(5,"li",57),f.fc(6,"a",11),f.nc("click",(function(){f.Hc(t);const e=f.rc();return e.getPositionByPage(e.pager.currentPage+1)})),f.Qc(7,"\xbb"),f.ec(),f.ec(),f.ec()}if(2&t){const t=f.rc();f.Ob(1),f.yc("ngClass",f.Bc(3,Ot,1===t.pager.currentPage)),f.Ob(3),f.yc("ngForOf",t.pager.pages),f.Ob(1),f.yc("ngClass",f.Bc(5,Ot,2===t.pager.currentPage))}}function St(t,e){1&t&&(f.fc(0,"mat-card",59),f.ac(1,"mat-progress-spinner",60),f.ec())}function xt(t,e){1&t&&(f.fc(0,"mat-card"),f.Qc(1," No Records Found! "),f.ec())}const Qt=function(){return[0]},kt=[{path:"position",component:(()=>{class t{constructor(t,e,c,i,o,r){this.reportService=t,this.pagination=e,this.fb=c,this.customerService=i,this.deviceService=o,this.dateFormatService=r,this.params={},this.pager=[],this.record=[],this.currentPage=1,this.devicesIndex=[],this.arrrayValue=[],this.dataSource=new h.k([]),this.isLoading=!0,this.displayedColumns=["device","time","latitude","longitude","address","altitude","speed","status","ignition","charge","blocked","batterylevel","rssi","sequence","distance","totaldistance","motion","valid","enginehours","sat"]}ngOnInit(){this.myform=this.fb.group({customer:[""],deviceid:[""],fromdate:[""],todate:[""]}),this.getAllDevices(),this.getReport(),this.getAllCustomer(),setTimeout(()=>{const t=new Date;var e=new Date(t.getFullYear(),t.getMonth(),t.getDate());this.myform.patchValue({fromdate:e,todate:new Date})},10)}getAllCustomer(){this.customerService.getAllCustomerList().subscribe(t=>{this.customers=t})}onChangeCustomer(t){this.deviceService.getDeviceByCustomerId(t).subscribe(t=>{this.customerDevices=t})}getAllDevices(){this.deviceService.getAllDevices().subscribe(t=>{this.devices=t,console.log(this.devices),this.devices.forEach((t,e)=>{this.devicesIndex[t.id]=this.devices[e]})})}selectAll(t){this.arrrayValue=[...Array(this.devices.length+1).keys()],t._selected&&(this.myform.get("deviceid").setValue(this.arrrayValue),t._selected=!0),!1===t._selected&&(this.myform.get("deviceid").setValue([]),console.log("3"))}getReport(){const t=new Date;var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),c=this.dateFormatService.dateTime("datetime",e),i=this.dateFormatService.dateTime("datetime",t);this.params={currentPage:this.currentPage,fromdate:c,todate:i},this.reportService.getPositionByPage(this.params).subscribe(t=>{this.reportData=t.rows,this.reportData.forEach((t,e)=>{this.reportData[e].a=JSON.parse(t.attributes)}),this.record=t.count,this.pager=this.pagination.paginate(this.record),this.dataSource=new h.k(this.reportData),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator),this.isLoading=!1})}getPositionByPage(t){if(console.log(t),this.page=t,!(this.page>this.pager.totalPages)){var e=this.dateFormatService.dateTime("datetime",this.myform.value.fromdate),c=this.dateFormatService.dateTime("datetime",this.myform.value.todate);this.params={currentPage:t,fromdate:e,todate:c},this.reportService.getPositionByPage(this.params).subscribe(e=>{this.isLoading=!1,this.reportData=e.rows,this.reportData.forEach((t,e)=>{this.reportData[e].a=JSON.parse(t.attributes)}),this.pager=this.pagination.paginate(this.record,t),this.dataSource=new h.k(this.reportData),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}}getPositionBySearch(){var t=this.dateFormatService.dateTime("datetime",this.myform.value.fromdate),e=this.dateFormatService.dateTime("datetime",this.myform.value.todate);this.params={currentPage:this.currentPage,fromdate:t,todate:e},console.log(this.params),this.reportService.getPositionByPage(this.params).subscribe(t=>{this.isLoading=!1,this.reportData=t.rows,this.reportData.forEach((t,e)=>{this.reportData[e].a=JSON.parse(t.attributes)}),this.record=t.count,this.pager=this.pagination.paginate(this.record),this.dataSource=new h.k(this.reportData),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}goBack(){}}return t.\u0275fac=function(e){return new(e||t)(f.Zb(p),f.Zb(v.a),f.Zb(o.e),f.Zb(b.a),f.Zb(P.a),f.Zb(D.a))},t.\u0275cmp=f.Tb({type:t,selectors:[["app-position-report"]],viewQuery:function(t,e){var c;1&t&&(f.Uc(l.a,!0),f.Uc(d.a,!0)),2&t&&(f.Ec(c=f.oc())&&(e.sort=c.first),f.Ec(c=f.oc())&&(e.paginator=c.first))},decls:107,vars:15,consts:[[1,"custom-style"],[1,"table-title"],["fxLayout","row","fxLayout.xs","column",1,"search-div"],["fxFlex","70%"],[3,"formGroup"],["fxLayout","row","fxLayout.xs","column"],["fxFlex.xs","100%"],["fxFlex","45%","fxFlex.xs","45%","required","",1,"search_field"],["formControlName","customer",3,"ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","deviceid","multiple",""],[3,"click"],["ev",""],["fxFlex","45%","fxFlex.xs","45%",1,"search_field"],["matInput","","formControlName","fromdate","placeholder","Date Time",3,"owlDateTime","owlDateTimeTrigger"],["dt1",""],["matInput","","formControlName","todate","placeholder","To Time",3,"owlDateTime","owlDateTimeTrigger"],["dt2",""],["fxFlex","30%","fxFlex.xs","100%"],["mat-button","",1,"mat-stroked-button","mat-primary",3,"click"],[1,"table_container"],["mat-table","","matTableExporter","","matSort","",1,"mat-elevation-z8",3,"dataSource","hiddenColumns"],["exporter","matTableExporter"],["matColumnDef","device"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","time"],["matColumnDef","latitude"],["matColumnDef","longitude"],["matColumnDef","address"],["matColumnDef","altitude"],["matColumnDef","speed"],["matColumnDef","status"],["matColumnDef","ignition"],["matColumnDef","charge"],["matColumnDef","blocked"],["matColumnDef","batterylevel"],["matColumnDef","rssi"],["matColumnDef","sequence"],["matColumnDef","distance"],["matColumnDef","totaldistance"],["matColumnDef","motion"],["matColumnDef","valid"],["matColumnDef","enginehours"],["matColumnDef","sat"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],[1,"middle"],["class","pagination",4,"ngIf"],["style","display:flex; justify-content: center; align-items: center",4,"ngIf"],[4,"ngIf"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"],[1,"pagination"],[1,"pagination",3,"ngClass"],["class","pagination",3,"ngClass",4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"]],template:function(t,e){if(1&t){const t=f.gc();f.fc(0,"div",0),f.fc(1,"div",1),f.fc(2,"h3"),f.Qc(3,"Position Information"),f.ec(),f.ec(),f.fc(4,"div",2),f.fc(5,"div",3),f.fc(6,"form",4),f.fc(7,"div",5),f.fc(8,"div",6),f.fc(9,"mat-form-field",7),f.fc(10,"mat-label"),f.Qc(11,"Customer"),f.ec(),f.fc(12,"mat-select",8),f.nc("ngModelChange",(function(t){return e.onChangeCustomer(t)})),f.Pc(13,R,2,2,"mat-option",9),f.ec(),f.ec(),f.fc(14,"mat-form-field",7),f.fc(15,"mat-label"),f.Qc(16,"Device"),f.ec(),f.fc(17,"mat-select",10),f.fc(18,"mat-option",11,12),f.nc("click",(function(){f.Hc(t);const c=f.Fc(19);return e.selectAll(c)})),f.fc(20,"h4"),f.fc(21,"b"),f.Qc(22,"Select All"),f.ec(),f.ec(),f.ec(),f.Pc(23,I,2,2,"mat-option",9),f.ec(),f.ec(),f.ec(),f.fc(24,"div",6),f.fc(25,"mat-form-field",13),f.ac(26,"input",14),f.ac(27,"owl-date-time",null,15),f.ec(),f.fc(29,"mat-form-field",13),f.ac(30,"input",16),f.ac(31,"owl-date-time",null,17),f.ec(),f.ec(),f.ec(),f.ec(),f.ec(),f.fc(33,"div",18),f.fc(34,"button",19),f.nc("click",(function(){return e.getPositionBySearch()})),f.Qc(35," Search "),f.ec(),f.fc(36,"button",19),f.nc("click",(function(){return e.goBack()})),f.Qc(37," Back "),f.ec(),f.ec(),f.ec(),f.fc(38,"div",20),f.fc(39,"table",21,22),f.dc(41,23),f.Pc(42,A,2,0,"th",24),f.Pc(43,M,2,1,"td",25),f.cc(),f.dc(44,26),f.Pc(45,F,2,0,"th",24),f.Pc(46,_,2,1,"td",25),f.cc(),f.dc(47,27),f.Pc(48,$,2,0,"th",24),f.Pc(49,L,2,1,"td",25),f.cc(),f.dc(50,28),f.Pc(51,E,2,0,"th",24),f.Pc(52,U,2,1,"td",25),f.cc(),f.dc(53,29),f.Pc(54,V,2,0,"th",24),f.Pc(55,N,2,1,"td",25),f.cc(),f.dc(56,30),f.Pc(57,X,2,0,"th",24),f.Pc(58,j,2,1,"td",25),f.cc(),f.dc(59,31),f.Pc(60,W,2,0,"th",24),f.Pc(61,H,2,1,"td",25),f.cc(),f.dc(62,32),f.Pc(63,q,2,0,"th",24),f.Pc(64,J,2,1,"td",25),f.cc(),f.dc(65,33),f.Pc(66,z,2,0,"th",24),f.Pc(67,Z,2,1,"td",25),f.cc(),f.dc(68,34),f.Pc(69,G,2,0,"th",24),f.Pc(70,K,2,1,"td",25),f.cc(),f.dc(71,35),f.Pc(72,Y,2,0,"th",24),f.Pc(73,tt,2,1,"td",25),f.cc(),f.dc(74,36),f.Pc(75,et,2,0,"th",24),f.Pc(76,ct,2,1,"td",25),f.cc(),f.dc(77,37),f.Pc(78,it,2,0,"th",24),f.Pc(79,ot,2,1,"td",25),f.cc(),f.dc(80,38),f.Pc(81,rt,2,0,"th",24),f.Pc(82,nt,2,1,"td",25),f.cc(),f.dc(83,39),f.Pc(84,at,2,0,"th",24),f.Pc(85,st,2,1,"td",25),f.cc(),f.dc(86,40),f.Pc(87,ut,2,0,"th",24),f.Pc(88,lt,2,1,"td",25),f.cc(),f.dc(89,41),f.Pc(90,dt,2,0,"th",24),f.Pc(91,ht,2,1,"td",25),f.cc(),f.dc(92,42),f.Pc(93,ft,2,0,"th",24),f.Pc(94,mt,2,1,"td",25),f.cc(),f.dc(95,43),f.Pc(96,gt,2,0,"th",24),f.Pc(97,pt,2,1,"td",25),f.cc(),f.dc(98,44),f.Pc(99,vt,2,0,"th",24),f.Pc(100,bt,2,1,"td",25),f.cc(),f.Pc(101,Pt,1,0,"tr",45),f.Pc(102,Dt,1,0,"tr",46),f.ec(),f.ec(),f.ec(),f.fc(103,"div",47),f.Pc(104,wt,8,7,"ul",48),f.ec(),f.Pc(105,St,2,0,"mat-card",49),f.Pc(106,xt,2,0,"mat-card",50)}if(2&t){const t=f.Fc(28),c=f.Fc(32);f.Ob(6),f.yc("formGroup",e.myform),f.Ob(7),f.yc("ngForOf",e.customers),f.Ob(10),f.yc("ngForOf",e.customerDevices),f.Ob(3),f.yc("owlDateTime",t)("owlDateTimeTrigger",t),f.Ob(4),f.yc("owlDateTime",c)("owlDateTimeTrigger",c),f.Ob(9),f.yc("dataSource",e.dataSource)("hiddenColumns",f.Ac(14,Qt)),f.Ob(62),f.yc("matHeaderRowDef",e.displayedColumns),f.Ob(1),f.yc("matRowDefColumns",e.displayedColumns),f.Ob(2),f.yc("ngIf",e.pager.pages&&e.pager.pages.length),f.Ob(1),f.yc("ngIf",e.isLoading),f.Ob(1),f.yc("ngIf",""==e.reportData)}},directives:[y.b,y.a,o.t,o.n,o.g,C.c,C.g,O.a,o.m,o.f,i.l,w.o,S.b,o.c,x.b,x.d,x.a,Q.b,h.j,n.a,l.a,h.c,h.e,h.b,h.g,h.i,i.m,h.d,l.b,h.a,h.f,h.h,i.k,k.a,B.a,T.a],styles:[".table_container[_ngcontent-%COMP%]{width:100%;overflow:auto}.filter[_ngcontent-%COMP%]{width:15%;margin-right:50%}.addButton[_ngcontent-%COMP%]{margin-left:10px}.mat-column-action[_ngcontent-%COMP%]{width:15%!important}.search_field[_ngcontent-%COMP%]{margin-left:1%;width:12%;float:left}.mat-stroked-button[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;border:1px solid #00f}.mat-raised-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%]{width:8%;margin-left:.5%}.pagination[_ngcontent-%COMP%]{display:inline-block}.pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;float:left;padding:8px 16px;text-decoration:none;transition:background-color .3s;border:1px solid #ddd}.active[_ngcontent-%COMP%]{background-color:#29abe2;background:#4169e1;color:red}.pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:not(.active){background-color:#ddd}.middle[_ngcontent-%COMP%]{margin-left:50%}a[_ngcontent-%COMP%]{cursor:pointer}.command[_ngcontent-%COMP%]{margin-left:3%}h4[_ngcontent-%COMP%]{margin-top:10px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px;background:#c2c2c2}"]}),t})(),canActivate:[u.a],data:{roles:"query_add"}}];let Bt=(()=>{class t{}return t.\u0275mod=f.Xb({type:t}),t.\u0275inj=f.Wb({factory:function(e){return new(e||t)},imports:[[s.f.forChild(kt)],s.f]}),t})(),Tt=(()=>{class t{}return t.\u0275mod=f.Xb({type:t}),t.\u0275inj=f.Wb({factory:function(e){return new(e||t)},imports:[[i.c,Bt,r.a,o.q,o.i,n.b,a.a]]}),t})()},Cp0R:function(t,e,c){"use strict";c.d(e,"a",(function(){return n}));var i=c("fXoL"),o=c("Ofeh"),r=c("tyNb");let n=(()=>{class t{constructor(t,e){this.loginService=t,this.router=e,this.assigedRole=[]}canActivate(t,e){return this.loginService.loggedIn()?(this.assigedRole=JSON.parse(localStorage.getItem("rolesData")),1==this.assigedRole.includes(t.data.roles)||(this.router.navigate(["/deny"]),!1)):(this.router.navigate(["/"]),!1)}}return t.\u0275fac=function(e){return new(e||t)(i.jc(o.a),i.jc(r.c))},t.\u0275prov=i.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},M5z4:function(t,e,c){"use strict";c.d(e,"a",(function(){return n}));var i=c("AytR"),o=c("fXoL"),r=c("tk/3");let n=(()=>{class t{constructor(t){this.http=t,this.url=i.a.apiUrl+"/customer/"}addCustomer(t){return this.http.post(this.url+"/addCustomer",t)}getAllCustomer(t){return this.http.post(this.url+"/listCustomer",t)}getCustomerById(t){return this.http.get(this.url+t+"/editCustomer")}updateCustomer(t,e){return this.http.put(this.url+t+"/updateCustomer",e)}getAllCustomerList(){return this.http.get(this.url+"/allCustomerList")}getAllCustomerListJoinWithDevices(){return this.http.get(this.url+"/allCustomerListJoinWithDevices")}customerSearch(t){return this.http.post(this.url+"/customerSearch",t)}DeviceByCustomer(t){return this.http.get(this.url+t+"/getDeviceByCustomer")}DeviceByCustomerWithPosition(t){return this.http.get(this.url+t+"/getDeviceByCustomerWithPosition")}}return t.\u0275fac=function(e){return new(e||t)(o.jc(r.b))},t.\u0275prov=o.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},XCAU:function(t,e,c){"use strict";c.d(e,"a",(function(){return a}));var i=c("2Vo4"),o=c("AytR"),r=c("fXoL"),n=c("tk/3");let a=(()=>{class t{constructor(t){this.http=t,this.url=o.a.apiUrl+"/device/",this.importDataSent=new i.a(""),this.importDataCatch=this.importDataSent.asObservable(),this.importErrorSent=new i.a(""),this.importErrorCatch=this.importErrorSent.asObservable()}importDataExchange(t){this.importDataSent.next(t)}importErrorExchange(t){this.importErrorSent.next(t)}getAllDevices(){return this.http.get(this.url+"/listDevices")}addDevice(t){return this.http.post(this.url+"/addDevice",t)}getAllDevice(){return this.http.get(this.url+"/listDevice")}getDeviceById(t){return this.http.get(this.url+t+"/editDevice")}updateDevice(t,e){return this.http.put(this.url+t+"/updateDevice",e)}deleteDevice(t){return this.http.delete(this.url+t+"/deleteDevice")}addDeviceWithUser(t){return this.http.post(this.url+"/addUserDevice",t)}deleteUserDevice(t){return this.http.post(this.url+"/deleteUserDevice",t)}getDeviceByUserId(t){return this.http.get(this.url+t+"/getDeviceByUser")}getDeviceByAllUser(){return this.http.get(this.url+"/getDeviceByAllUser")}addDeviceWithCustomer(t){return this.http.post(this.url+"/addCustomerDevice",t)}deleteCustomerDevice(t){return this.http.post(this.url+"/deleteCustomerDevice",t)}getDeviceByCustomerId(t){return this.http.get(this.url+t+"/getDeviceByCustomerId")}getAllPostion(){return this.http.get(this.url+"/listPositions")}getHistoryPostionBySearch(t){return this.http.post(this.url+"/listHistoryPositions",t)}getAllPostionBySearch(t){return this.http.post(this.url+"/listAllPositions",t)}getAllEvents(){return this.http.get(this.url+"/listEvents")}getDeviceWithPositionById(t){return this.http.get(this.url+t+"/getDeviceWithPositionById")}getDeviceCurrentPositionById(t){return this.http.get(this.url+t+"/getDeviceCurrentPositionById")}getMovingPosition(t){return this.http.post(this.url+"/movingPositions",t)}getEventPositionById(t){return this.http.get(this.url+t+"/getEventPositionById")}}return t.\u0275fac=function(e){return new(e||t)(r.jc(n.b))},t.\u0275prov=r.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},tmcy:function(t,e,c){"use strict";c.d(e,"a",(function(){return o}));var i=c("fXoL");let o=(()=>{class t{constructor(){}dateTime(t="datetime",e){let c=new Date(e),i=("0"+c.getDate()).slice(-2),o=("0"+(c.getMonth()+1)).slice(-2),r=c.getFullYear(),n=("0"+c.getHours()).slice(-2),a=("0"+c.getMinutes()).slice(-2),s=("0"+c.getSeconds()).slice(-2);return"date"==t?r+"-"+o+"-"+i:"datetime"==t?r+"-"+o+"-"+i+" "+n+":"+a+":"+s:"time"==t?n+":"+a:c}dateTimeDiff(t){return((new Date).getTime()-new Date(t).getTime())/1e3}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{Cp0R:function(t,e,c){"use strict";c.d(e,"a",(function(){return r}));var a=c("fXoL"),o=c("Ofeh"),i=c("tyNb");let r=(()=>{class t{constructor(t,e){this.loginService=t,this.router=e,this.assigedRole=[]}canActivate(t,e){return this.loginService.loggedIn()?(this.assigedRole=JSON.parse(localStorage.getItem("rolesData")),1==this.assigedRole.includes(t.data.roles)||(this.router.navigate(["/deny"]),!1)):(this.router.navigate(["/"]),!1)}}return t.\u0275fac=function(e){return new(e||t)(a.jc(o.a),a.jc(i.c))},t.\u0275prov=a.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},H0VJ:function(t,e,c){"use strict";c.d(e,"a",(function(){return s}));var a=c("fXoL"),o=c("0IaG"),i=c("NFeN"),r=c("bTqV");let n=(()=>{class t{constructor(t){this.dialogRef=t}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return t.\u0275fac=function(e){return new(e||t)(a.Zb(o.f))},t.\u0275cmp=a.Tb({type:t,selectors:[["app-mat-dialog"]],decls:11,vars:2,consts:[[1,"content-container"],["id","close-button",3,"click"],[1,"content-span"],["mat-flat-button","","id","no-button",3,"mat-dialog-close"],["mat-flat-button","","id","yes-button","color","warn",3,"mat-dialog-close"]],template:function(t,e){1&t&&(a.fc(0,"div"),a.fc(1,"div",0),a.fc(2,"mat-icon",1),a.nc("click",(function(){return e.closeDialog()})),a.Qc(3,"close"),a.ec(),a.fc(4,"div",2),a.Qc(5,"Are you sure to delete this record ?"),a.ec(),a.ec(),a.fc(6,"div"),a.fc(7,"button",3),a.Qc(8,"No"),a.ec(),a.fc(9,"button",4),a.Qc(10,"Yes"),a.ec(),a.ec(),a.ec()),2&t&&(a.Ob(7),a.yc("mat-dialog-close",!1),a.Ob(2),a.yc("mat-dialog-close",!0))},directives:[i.a,r.b,o.c],styles:["#close-button[_ngcontent-%COMP%]{margin-left:90%;cursor:pointer}.content-span[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:20px}#no-button[_ngcontent-%COMP%]{width:30%;margin-left:7%;margin-right:25%;background-color:#ff0}#yes-button[_ngcontent-%COMP%]{width:30%}"]}),t})(),s=(()=>{class t{constructor(t){this.dialog=t}openConfirmDialog(){return this.dialog.open(n,{width:"300px",disableClose:!0,position:{top:"20px"}})}}return t.\u0275fac=function(e){return new(e||t)(a.jc(o.b))},t.\u0275prov=a.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},IqAE:function(t,e,c){"use strict";c.r(e),c.d(e,"CategoryModule",(function(){return L}));var a=c("ofXK"),o=c("3Pt+"),i=c("KUt4"),r=c("YUcS"),n=c("tyNb"),s=c("Cp0R"),l=c("fXoL"),d=c("dNgK"),u=c("q+pd"),m=c("Wp6s"),f=c("XiUz"),p=c("kmnG"),g=c("qFsG"),h=c("d3UM"),b=c("bTqV"),y=c("FKr1");function v(t,e){1&t&&(l.fc(0,"div",12),l.Qc(1," Name is required"),l.ec())}function C(t,e){if(1&t&&(l.fc(0,"div",10),l.Pc(1,v,2,0,"div",11),l.ec()),2&t){const t=l.rc();l.Ob(1),l.yc("ngIf",t.myform.get("name").errors.required)}}function O(t,e){if(1&t&&(l.fc(0,"mat-option",13),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.yc("value",t.id),l.Ob(1),l.Sc(" ",t.value," ")}}let S=(()=>{class t{constructor(t,e,c,a){this.fb=t,this.router=e,this.snackBar=c,this.categoryService=a,this.submitted=!1,this.status=[{id:1,value:"Active"},{id:0,value:"Inactive"}],this.states=[{id:0,value:"GPS Device"},{id:1,value:"Camera"},{id:2,value:"Buzzer"}]}ngOnInit(){this.myform=this.fb.group({name:["",[o.s.required]],created_by:[""],description:[""],status:[,[o.s.required]]})}openSnackBar(){this.snackBar.open("Successfully added!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}addCategory(){this.submitted=!0,this.myform.markAllAsTouched(),this.myform.invalid?console.log("rrrr"):(this.userData=JSON.parse(localStorage.getItem("userData")),this.myform.value.created_by=this.userData.id,this.categoryService.addCategory(this.myform.value).subscribe(t=>{console.log(this.myform.value),this.openSnackBar(),this.router.navigate(["/admin/inventory/category/list"])}))}}return t.\u0275fac=function(e){return new(e||t)(l.Zb(o.e),l.Zb(n.c),l.Zb(d.a),l.Zb(u.a))},t.\u0275cmp=l.Tb({type:t,selectors:[["app-category-add"]],decls:21,vars:3,consts:[["fxFlex","50%","fxFlex.xs","100%",1,"customStyle"],[1,"title-style"],[3,"formGroup"],[1,"full"],["trim","blur","matInput","","placeholder","Name","formControlName","name","autocomplete","off","required",""],["class","feedback",4,"ngIf"],["matInput","","placeholder","Description","formControlName","description","autocomplete","off"],["formControlName","status","required",""],[3,"value",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",1,"btn-block",3,"click"],[1,"feedback"],["class","red",4,"ngIf"],[1,"red"],[3,"value"]],template:function(t,e){1&t&&(l.fc(0,"mat-card",0),l.fc(1,"div",1),l.fc(2,"mat-card-title"),l.Qc(3,"Category Add Form"),l.ec(),l.ec(),l.fc(4,"mat-card-content"),l.fc(5,"form",2),l.fc(6,"mat-form-field",3),l.ac(7,"input",4),l.ec(),l.Pc(8,C,2,1,"div",5),l.fc(9,"mat-form-field",3),l.ac(10,"textarea",6),l.ec(),l.fc(11,"mat-form-field",3),l.fc(12,"mat-label"),l.Qc(13,"Status"),l.ec(),l.fc(14,"mat-select",7),l.Pc(15,O,2,2,"mat-option",8),l.ec(),l.ec(),l.ec(),l.ec(),l.fc(16,"mat-card-actions"),l.fc(17,"button",9),l.nc("click",(function(){return e.addCategory()})),l.Qc(18," Add "),l.ec(),l.fc(19,"p"),l.Qc(20,"Note: Field marked with * is Mandatory"),l.ec(),l.ec(),l.ec()),2&t&&(l.Ob(5),l.yc("formGroup",e.myform),l.Ob(3),l.yc("ngIf",e.submitted&&e.myform.get("name").errors),l.Ob(7),l.yc("ngForOf",e.status))},directives:[m.a,f.a,m.f,m.c,o.t,o.n,o.g,p.c,g.b,o.c,o.m,o.f,o.r,a.l,p.g,h.a,a.k,m.b,b.b,y.o],styles:["mat-card[_ngcontent-%COMP%]{width:50%}.customStyle[_ngcontent-%COMP%]{border-radius:10px 10px 10px 10px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.mat-stroked-button[_ngcontent-%COMP%]{width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}"]}),t})();function P(t,e){1&t&&(l.fc(0,"div",12),l.Qc(1," Name is required"),l.ec())}function w(t,e){if(1&t&&(l.fc(0,"div",10),l.Pc(1,P,2,0,"div",11),l.ec()),2&t){const t=l.rc();l.Ob(1),l.yc("ngIf",t.myform.get("name").errors.required)}}function k(t,e){if(1&t&&(l.fc(0,"mat-option",13),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.yc("value",t.id),l.Ob(1),l.Sc(" ",t.value," ")}}let x=(()=>{class t{constructor(t,e,c,a,o){this.fb=t,this.router=e,this.snackBar=c,this.categoryService=a,this.route=o,this.submitted=!1,this.status=[{id:1,value:"Active"},{id:0,value:"Inactive"}],this.states=[{id:0,value:"GPS Device"},{id:1,value:"Camera"},{id:2,value:"Burzer"}]}ngOnInit(){this.myform=this.fb.group({name:["",[o.s.required]],created_by:[""],description:[""],status:[,[o.s.required]]}),this.route.paramMap.subscribe(t=>{this.Id=t.get("id"),this.edit(this.Id)})}edit(t){this.categoryService.getCategoryById(t).subscribe(t=>{this.setData(t)})}setData(t){this.myform.patchValue({name:t.name,description:t.description,status:t.status}),this.createdBy=t.created_by,console.log(this.createdBy)}openSnackBar(){this.snackBar.open("Successfully added!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}updateCategory(){this.submitted=!0,this.myform.invalid||(this.userData=JSON.parse(localStorage.getItem("userData")),this.myform.value.updated_by=this.userData.id,this.myform.value.updated_time=new Date,this.myform.value.created_by=this.createdBy,console.log(this.myform.value),this.categoryService.updateCategory(this.Id,this.myform.value).subscribe(t=>{this.openSnackBar(),this.router.navigate(["/admin/inventory/category/list"])}))}}return t.\u0275fac=function(e){return new(e||t)(l.Zb(o.e),l.Zb(n.c),l.Zb(d.a),l.Zb(u.a),l.Zb(n.a))},t.\u0275cmp=l.Tb({type:t,selectors:[["app-category-edit"]],decls:21,vars:3,consts:[[1,"customStyle"],[1,"title-style"],[3,"formGroup"],[1,"full"],["trim","blur","matInput","","placeholder","Name","formControlName","name","autocomplete","off","required",""],["class","feedback",4,"ngIf"],["matInput","","placeholder","Description","formControlName","description","autocomplete","off"],["formControlName","status","required",""],[3,"value",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",1,"btn-block",3,"click"],[1,"feedback"],["class","red",4,"ngIf"],[1,"red"],[3,"value"]],template:function(t,e){1&t&&(l.fc(0,"mat-card",0),l.fc(1,"div",1),l.fc(2,"mat-card-title"),l.Qc(3,"Category Update Form"),l.ec(),l.ec(),l.fc(4,"mat-card-content"),l.fc(5,"form",2),l.fc(6,"mat-form-field",3),l.ac(7,"input",4),l.ec(),l.Pc(8,w,2,1,"div",5),l.fc(9,"mat-form-field",3),l.ac(10,"textarea",6),l.ec(),l.fc(11,"mat-form-field",3),l.fc(12,"mat-label"),l.Qc(13,"Status"),l.ec(),l.fc(14,"mat-select",7),l.Pc(15,k,2,2,"mat-option",8),l.ec(),l.ec(),l.ec(),l.ec(),l.fc(16,"mat-card-actions"),l.fc(17,"button",9),l.nc("click",(function(){return e.updateCategory()})),l.Qc(18," Update "),l.ec(),l.fc(19,"p"),l.Qc(20,"Note: Field marked with * is Mandatory"),l.ec(),l.ec(),l.ec()),2&t&&(l.Ob(5),l.yc("formGroup",e.myform),l.Ob(3),l.yc("ngIf",e.submitted&&e.myform.get("name").errors),l.Ob(7),l.yc("ngForOf",e.status))},directives:[m.a,m.f,m.c,o.t,o.n,o.g,p.c,g.b,o.c,o.m,o.f,o.r,a.l,p.g,h.a,a.k,m.b,b.b,y.o],styles:["mat-card[_ngcontent-%COMP%]{width:50%}.customStyle[_ngcontent-%COMP%]{border-radius:10px 10px 10px 10px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.mat-stroked-button[_ngcontent-%COMP%]{width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}"]}),t})();var _=c("M9IT"),D=c("Dh3D"),I=c("+0xr"),M=c("H0VJ"),Q=c("NFeN");function N(t,e){1&t&&(l.fc(0,"th",19),l.Qc(1,"Action"),l.ec())}function R(t,e){if(1&t){const t=l.gc();l.fc(0,"button",23),l.fc(1,"mat-icon",24),l.nc("click",(function(){l.Hc(t);const e=l.rc().$implicit;return l.rc().editCategory(e)})),l.Qc(2,"edit"),l.ec(),l.ec()}}function A(t,e){if(1&t){const t=l.gc();l.fc(0,"button",25),l.fc(1,"mat-icon",24),l.nc("click",(function(){l.Hc(t);const e=l.rc().$implicit;return l.rc().deleteCategory(e)})),l.Qc(2,"delete_outline"),l.ec(),l.ec()}}function B(t,e){if(1&t&&(l.fc(0,"td",20),l.Pc(1,R,3,0,"button",21),l.Pc(2,A,3,0,"button",22),l.ec()),2&t){const t=l.rc();l.Ob(1),l.yc("ngIf",1==t.assigedRole.includes("category_edit")),l.Ob(1),l.yc("ngIf",1==t.assigedRole.includes("category_delete"))}}function F(t,e){1&t&&(l.fc(0,"th",26),l.Qc(1,"ID"),l.ec())}function q(t,e){if(1&t&&(l.fc(0,"td",20),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.Ob(1),l.Rc(t.id)}}function T(t,e){1&t&&(l.fc(0,"th",26),l.Qc(1,"Name"),l.ec())}function z(t,e){if(1&t&&(l.fc(0,"td",20),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.Ob(1),l.Rc(t.name)}}function Z(t,e){1&t&&(l.fc(0,"th",26),l.Qc(1,"Description"),l.ec())}function G(t,e){if(1&t&&(l.fc(0,"td",20),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.Ob(1),l.Rc(t.description)}}function H(t,e){1&t&&(l.fc(0,"th",26),l.Qc(1,"Status"),l.ec())}function J(t,e){if(1&t&&(l.fc(0,"td",20),l.Qc(1),l.ec()),2&t){const t=e.$implicit,c=l.rc();l.Ob(1),l.Rc(null==c.status[t.status]?null:c.status[t.status].value)}}function U(t,e){1&t&&l.ac(0,"tr",27)}function V(t,e){1&t&&l.ac(0,"tr",28)}const $=function(){return[0]},j=function(){return[25,50,100]},X=[{path:"add",component:S,canActivate:[s.a],data:{roles:"category_add"}},{path:"list",component:(()=>{class t{constructor(t,e,c,a){this.categoryService=t,this.snackBar=e,this.router=c,this.dialogService=a,this.idColumn="id",this.assigedRole=[],this.dataSource=new I.k([]),this.status=[{id:0,value:"Inactive"},{id:1,value:"Active"}],this.states=[{id:0,value:"GPS Device"},{id:1,value:"Camera"},{id:2,value:"Burzer"}],this.displayedColumns=["action","id","name","description","status"],this.assigedRole=JSON.parse(localStorage.getItem("rolesData"))}ngOnInit(){this.getAllCategory(),this.removeColumn()}removeColumn(){0==this.assigedRole.includes("category_edit")&&0==this.assigedRole.includes("category_delete")&&(this.displayedColumns=["id","name","description","type","status"])}getAllCategory(){this.categoryService.getAllCategory().subscribe(t=>{this.categories=t,this.dataSource=new I.k(t),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}editCategory(t){this.router.navigate(["admin/inventory/category/edit",t.id])}deleteCategory(t){this.dialogService.openConfirmDialog().afterClosed().subscribe(e=>{e&&(this.categoryService.deleteCategory(t.id).subscribe(),this.deleteRowDataTable(t.id,this.idColumn,this.paginator,this.dataSource),this.openSnackBar())})}deleteRowDataTable(t,e,c,a){this.categories=a.data;const o=this.categories.findIndex(c=>c[e]===t);a.data.splice(o,1),a.paginator=c}openSnackBar(){this.snackBar.open("Deleted!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}applyFilter(t){this.dataSource.filter=t.trim().toLowerCase()}}return t.\u0275fac=function(e){return new(e||t)(l.Zb(u.a),l.Zb(d.a),l.Zb(n.c),l.Zb(M.a))},t.\u0275cmp=l.Tb({type:t,selectors:[["app-category-list"]],viewQuery:function(t,e){var c;1&t&&(l.Uc(D.a,!0),l.Uc(_.a,!0)),2&t&&(l.Ec(c=l.oc())&&(e.sort=c.first),l.Ec(c=l.oc())&&(e.paginator=c.first))},decls:29,vars:8,consts:[[1,"custom-style"],[1,"table-title"],[1,"search-div"],[1,"filter"],["matInput","","placeholder","search","autocomplete","off",3,"keyup"],["mat-button","",1,"mat-raised-button","mat-primary",3,"click"],["mat-table","","matTableExporter","","matSort","",1,"mat-elevation-z8",3,"dataSource","hiddenColumns"],["exporter","matTableExporter"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","status"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions","pageSize"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",4,"ngIf"],["mat-icon-button","","color","warn",4,"ngIf"],["mat-icon-button",""],[3,"click"],["mat-icon-button","","color","warn"],["mat-header-cell","","mat-sort-header",""],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(t,e){if(1&t){const t=l.gc();l.fc(0,"div",0),l.fc(1,"div",1),l.fc(2,"h3"),l.Qc(3,"category Table"),l.ec(),l.ec(),l.fc(4,"div",2),l.fc(5,"mat-form-field",3),l.fc(6,"input",4),l.nc("keyup",(function(t){return e.applyFilter(t.target.value)})),l.ec(),l.ec(),l.fc(7,"button",5),l.nc("click",(function(){return l.Hc(t),l.Fc(10).exportTable("csv",{fileName:"category"})})),l.Qc(8," CSV "),l.ec(),l.ec(),l.fc(9,"table",6,7),l.dc(11,8),l.Pc(12,N,2,0,"th",9),l.Pc(13,B,3,2,"td",10),l.cc(),l.dc(14,11),l.Pc(15,F,2,0,"th",12),l.Pc(16,q,2,1,"td",10),l.cc(),l.dc(17,13),l.Pc(18,T,2,0,"th",12),l.Pc(19,z,2,1,"td",10),l.cc(),l.dc(20,14),l.Pc(21,Z,2,0,"th",12),l.Pc(22,G,2,1,"td",10),l.cc(),l.dc(23,15),l.Pc(24,H,2,0,"th",12),l.Pc(25,J,2,1,"td",10),l.cc(),l.Pc(26,U,1,0,"tr",16),l.Pc(27,V,1,0,"tr",17),l.ec(),l.ac(28,"mat-paginator",18),l.ec()}2&t&&(l.Ob(9),l.yc("dataSource",e.dataSource)("hiddenColumns",l.Ac(6,$)),l.Ob(17),l.yc("matHeaderRowDef",e.displayedColumns),l.Ob(1),l.yc("matRowDefColumns",e.displayedColumns),l.Ob(1),l.yc("pageSizeOptions",l.Ac(7,j))("pageSize",25))},directives:[p.c,g.b,b.b,I.j,i.a,D.a,I.c,I.e,I.b,I.g,I.i,_.a,I.d,I.a,a.l,Q.a,D.b,I.f,I.h],styles:[".filter[_ngcontent-%COMP%]{width:15%;margin-right:50%}"]}),t})(),canActivate:[s.a],data:{roles:"category_list"}},{path:"edit/:id",component:x,canActivate:[s.a],data:{roles:"category_edit"}}];let E=(()=>{class t{}return t.\u0275mod=l.Xb({type:t}),t.\u0275inj=l.Wb({factory:function(e){return new(e||t)},imports:[[n.f.forChild(X)],n.f]}),t})();var K=c("jAig");let L=(()=>{class t{}return t.\u0275mod=l.Xb({type:t}),t.\u0275inj=l.Wb({factory:function(e){return new(e||t)},imports:[[a.c,E,K.a,o.q,o.i,i.b,r.a]]}),t})()}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"1jOF":function(t,e,c){"use strict";c.d(e,"a",(function(){return o}));var i=c("AytR"),a=c("fXoL"),r=c("tk/3");let o=(()=>{class t{constructor(t){this.http=t,this.url=i.a.apiUrl+"/driver/"}addDriver(t){return this.http.post(this.url+"/addDriver",t)}getAllDriver(){return this.http.get(this.url+"/listDriver")}getDriverById(t){return this.http.get(this.url+t+"/editDriver")}updateDriver(t,e){return this.http.put(this.url+t+"/updateDriver",e)}deleteDriver(t){return this.http.delete(this.url+t+"/deleteDriver")}addDriverWithDevice(t){return this.http.post(this.url+"/addDeviceDriver",t)}deleteDeviceDriver(t){return this.http.post(this.url+"/deleteDeviceDriver",t)}getDriverByDeviceId(t){return this.http.get(this.url+t+"/getDriverByDevice")}addDriverWithGroup(t){return this.http.post(this.url+"/addGroupDriver",t)}deleteGroupDriver(t){return this.http.post(this.url+"/deleteGroupDriver",t)}getDriverByGroupId(t){return this.http.get(this.url+t+"/getDriverByGroup")}addDriverWithUser(t){return this.http.post(this.url+"/addUserDriver",t)}deleteUserDriver(t){return this.http.post(this.url+"/deleteUserDriver",t)}getDriverByUserId(t){return this.http.get(this.url+t+"/getDriverByUser")}getAllCustomerDriver(){return this.http.get(this.url+"/listCustomerDriver")}getDriverByCustomerId(t){return this.http.get(this.url+t+"/getDriverByCustomerId")}addDriverWithCustomer(t){return this.http.post(this.url+"/addCustomerDriver",t)}deleteCustomerDriver(t){return this.http.post(this.url+"/deleteCustomerDriver",t)}}return t.\u0275fac=function(e){return new(e||t)(a.jc(r.b))},t.\u0275prov=a.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Cp0R:function(t,e,c){"use strict";c.d(e,"a",(function(){return o}));var i=c("fXoL"),a=c("Ofeh"),r=c("tyNb");let o=(()=>{class t{constructor(t,e){this.loginService=t,this.router=e,this.assigedRole=[]}canActivate(t,e){return this.loginService.loggedIn()?(this.assigedRole=JSON.parse(sessionStorage.getItem("rolesData")),1==this.assigedRole.includes(t.data.roles)||(this.router.navigate(["/deny"]),!1)):(this.router.navigate(["/"]),!1)}}return t.\u0275fac=function(e){return new(e||t)(i.jc(a.a),i.jc(r.c))},t.\u0275prov=i.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},H0VJ:function(t,e,c){"use strict";c.d(e,"a",(function(){return s}));var i=c("fXoL"),a=c("0IaG"),r=c("NFeN"),o=c("bTqV");let n=(()=>{class t{constructor(t){this.dialogRef=t}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return t.\u0275fac=function(e){return new(e||t)(i.Zb(a.f))},t.\u0275cmp=i.Tb({type:t,selectors:[["app-mat-dialog"]],decls:11,vars:2,consts:[[1,"content-container"],["id","close-button",3,"click"],[1,"content-span"],["mat-flat-button","","id","no-button",3,"mat-dialog-close"],["mat-flat-button","","id","yes-button","color","warn",3,"mat-dialog-close"]],template:function(t,e){1&t&&(i.fc(0,"div"),i.fc(1,"div",0),i.fc(2,"mat-icon",1),i.nc("click",(function(){return e.closeDialog()})),i.Qc(3,"close"),i.ec(),i.fc(4,"div",2),i.Qc(5,"Are you sure to delete this record ?"),i.ec(),i.ec(),i.fc(6,"div"),i.fc(7,"button",3),i.Qc(8,"No"),i.ec(),i.fc(9,"button",4),i.Qc(10,"Yes"),i.ec(),i.ec(),i.ec()),2&t&&(i.Ob(7),i.yc("mat-dialog-close",!1),i.Ob(2),i.yc("mat-dialog-close",!0))},directives:[r.a,o.b,a.c],styles:["#close-button[_ngcontent-%COMP%]{margin-left:90%;cursor:pointer}.content-span[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:20px}#no-button[_ngcontent-%COMP%]{width:30%;margin-left:7%;margin-right:25%;background-color:#ff0}#yes-button[_ngcontent-%COMP%]{width:30%}"]}),t})(),s=(()=>{class t{constructor(t){this.dialog=t}openConfirmDialog(){return this.dialog.open(n,{width:"300px",disableClose:!0,position:{top:"20px"}})}}return t.\u0275fac=function(e){return new(e||t)(i.jc(a.b))},t.\u0275prov=i.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Lm2h:function(t,e,c){"use strict";c.r(e),c.d(e,"DevicesModule",(function(){return ve}));var i=c("ofXK"),a=c("3Pt+"),r=c("jAig"),o=c("KUt4"),n=c("tyNb"),s=c("Cp0R"),l=c("fXoL"),d=c("dNgK"),u=c("XCAU"),f=c("lLy5"),m=c("Wp6s"),h=c("kmnG"),p=c("qFsG"),b=c("7EHt"),g=c("NFeN"),v=c("d3UM"),y=c("bSwM"),D=c("bTqV"),C=c("FKr1");function w(t,e){if(1&t&&(l.fc(0,"mat-option",26),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.yc("value",t.value),l.Ob(1),l.Sc(" ",t.name," ")}}function S(t,e){if(1&t&&(l.fc(0,"mat-option",26),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.yc("value",t.value),l.Ob(1),l.Sc(" ",t.value," ")}}function O(t,e){if(1&t){const t=l.gc();l.fc(0,"div",32),l.fc(1,"a"),l.fc(2,"mat-icon",22),l.nc("click",(function(){l.Hc(t);const e=l.rc().index;return l.rc().removeAttributes(e)})),l.Qc(3,"clear"),l.ec(),l.ec(),l.ec()}}function k(t,e){if(1&t&&(l.fc(0,"div",27),l.fc(1,"div",28),l.fc(2,"mat-form-field",15),l.ac(3,"input",29),l.ec(),l.fc(4,"mat-form-field",15),l.ac(5,"input",30),l.ec(),l.Pc(6,O,4,0,"div",31),l.ec(),l.ec()),2&t){const t=e.index,c=l.rc();l.Ob(1),l.yc("formArrayName",t),l.Ob(2),l.yc("id","name"+t),l.Ob(2),l.yc("id","value"+t),l.Ob(1),l.yc("ngIf",c.myform.get("attributes").length>1)}}function P(t,e){1&t&&(l.fc(0,"div"),l.fc(1,"p",33),l.Qc(2,"Duplicate Indentifier"),l.ec(),l.ec())}let I=(()=>{class t{constructor(t,e,c,i,a){this.fb=t,this.router=e,this.snackBar=c,this.deviceService=i,this.groupService=a,this.groups=[],this.object={},this.att=[],this.submitted=!1,this.categories=[{id:1,value:"Bus"},{id:0,value:"Car"},{id:0,value:"Truck"}],this.step=0}setStep(t){this.step=t}ngOnInit(){this.myform=this.fb.group({deviceName:["",[a.s.required]],identifier:["",[a.s.required]],group:[],phone:[""],model:[""],contact:[""],category:[""],disabled:[],attributes:this.fb.array([])}),this.getAllGroup()}getAllGroup(){this.groupService.getAllGroup().subscribe(t=>{this.groups=t})}assignAttributes(){return this.fb.group({name:[""],value:[""]})}get fArray(){return this.myform.get("attributes")}addassignAttributes(){this.fArray.push(this.assignAttributes())}removeAttributes(t){this.myform.get("attributes").removeAt(t)}openSnackBar(){this.snackBar.open("Successfully added!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}addDevice(){this.myform.markAllAsTouched(),this.submitted=!0,this.myform.invalid||(this.myform.value.attributes&&this.myform.value.attributes.forEach(t=>{this.object[t.name]=t.value}),this.myform.value.attributes=this.object,console.log(this.myform.value.identifier.length),this.userData=JSON.parse(localStorage.getItem("userData")),this.myform.value.created_by=this.userData.id,console.log(this.myform.value),this.deviceService.addDevice(this.myform.value).subscribe(t=>{t.message?(console.log(t.id),this.show=!0):(this.openSnackBar(),this.router.navigate(["/admin/traccar/devices/list"]))}))}}return t.\u0275fac=function(e){return new(e||t)(l.Zb(a.e),l.Zb(n.c),l.Zb(d.a),l.Zb(u.a),l.Zb(f.a))},t.\u0275cmp=l.Tb({type:t,selectors:[["app-device-add"]],decls:56,vars:7,consts:[[1,"customStyle"],[1,"title-style"],[3,"formGroup"],[1,"main"],[1,"mainContent"],[1,"full"],["trim","blur","matInput","","placeholder","Name","formControlName","deviceName","autocomplete","off","required",""],["matInput","","placeholder","Identifier","formControlName","identifier","autocomplete","off","required",""],[1,"optionalContent"],[1,"example-headers-align"],["hideToggle","",3,"expanded","opened"],["required","",1,"half"],["formControlName","group"],[3,"value",4,"ngFor","ngForOf"],["formControlName","category"],[1,"half"],["matInput","","placeholder","Model","formControlName","model","autocomplete","off"],["matInput","","placeholder","Phone","formControlName","phone","autocomplete","off"],["matInput","","placeholder","Contact","formControlName","contact","autocomplete","off"],[1,"checkbox"],["formControlName","disabled","labelPosition","before",1,"checkbox"],["formArrayName","attributes",4,"ngFor","ngForOf"],[3,"click"],[4,"ngIf"],[1,"button"],["mat-stroked-button","","color","primary",1,"btn-block",3,"click"],[3,"value"],["formArrayName","attributes"],[3,"formArrayName"],["trim","blur","matInput","","placeholder","Name","formControlName","name","autocomplete","off",3,"id"],["trim","blur","matInput","","placeholder","Value","formControlName","value","autocomplete","off",3,"id"],["class","delAssigns",4,"ngIf"],[1,"delAssigns"],[1,"red"]],template:function(t,e){1&t&&(l.fc(0,"mat-card",0),l.fc(1,"div",1),l.fc(2,"mat-card-title"),l.Qc(3,"Device Add Form"),l.ec(),l.ec(),l.fc(4,"mat-card-content"),l.fc(5,"form",2),l.fc(6,"div",3),l.fc(7,"div",4),l.fc(8,"mat-form-field",5),l.ac(9,"input",6),l.ec(),l.fc(10,"mat-form-field",5),l.ac(11,"input",7),l.ec(),l.ec(),l.fc(12,"div",8),l.fc(13,"mat-accordion",9),l.fc(14,"mat-expansion-panel",10),l.nc("opened",(function(){return e.setStep(1)})),l.fc(15,"mat-expansion-panel-header"),l.fc(16,"mat-panel-title"),l.fc(17,"mat-icon"),l.Qc(18,"add"),l.ec(),l.Qc(19," Extra "),l.ec(),l.ec(),l.fc(20,"mat-form-field",11),l.fc(21,"mat-label"),l.Qc(22,"Group"),l.ec(),l.fc(23,"mat-select",12),l.Pc(24,w,2,2,"mat-option",13),l.ec(),l.ec(),l.fc(25,"mat-form-field",11),l.fc(26,"mat-label"),l.Qc(27,"Category"),l.ec(),l.fc(28,"mat-select",14),l.Pc(29,S,2,2,"mat-option",13),l.ec(),l.ec(),l.fc(30,"mat-form-field",15),l.ac(31,"input",16),l.ec(),l.fc(32,"mat-form-field",15),l.ac(33,"input",17),l.ec(),l.fc(34,"mat-form-field",15),l.ac(35,"input",18),l.ec(),l.fc(36,"span",19),l.fc(37,"mat-checkbox",20),l.Qc(38," Disabled "),l.ec(),l.ec(),l.ec(),l.ec(),l.fc(39,"mat-accordion",9),l.fc(40,"mat-expansion-panel",10),l.nc("opened",(function(){return e.setStep(2)})),l.fc(41,"mat-expansion-panel-header"),l.fc(42,"mat-panel-title"),l.fc(43,"mat-icon"),l.Qc(44,"add"),l.ec(),l.Qc(45," Attributes "),l.ec(),l.ec(),l.Pc(46,k,7,4,"div",21),l.fc(47,"button",22),l.nc("click",(function(){return e.addassignAttributes()})),l.fc(48,"mat-icon"),l.Qc(49,"add"),l.ec(),l.ec(),l.ec(),l.ec(),l.ec(),l.ec(),l.ec(),l.ec(),l.Pc(50,P,3,0,"div",23),l.fc(51,"mat-card-actions",24),l.fc(52,"button",25),l.nc("click",(function(){return e.addDevice()})),l.Qc(53," Add "),l.ec(),l.fc(54,"p"),l.Qc(55,"Note: Field marked with * is Mandatory"),l.ec(),l.ec(),l.ec()),2&t&&(l.Ob(5),l.yc("formGroup",e.myform),l.Ob(9),l.yc("expanded",1===e.step),l.Ob(10),l.yc("ngForOf",e.groups),l.Ob(5),l.yc("ngForOf",e.categories),l.Ob(11),l.yc("expanded",2===e.step),l.Ob(6),l.yc("ngForOf",e.myform.get("attributes").controls),l.Ob(4),l.yc("ngIf",e.show))},directives:[m.a,m.f,m.c,a.t,a.n,a.g,h.c,p.b,a.c,a.m,a.f,a.r,b.a,b.c,b.d,b.e,g.a,h.g,v.a,i.l,y.a,i.m,m.b,D.b,C.o,a.d],styles:["mat-card[_ngcontent-%COMP%]{width:50%;top:0}.customStyle[_ngcontent-%COMP%]{border-radius:10px 10px 10px 10px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.mat-stroked-button[_ngcontent-%COMP%]{width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}.button[_ngcontent-%COMP%]{margin-top:100px}.half[_ngcontent-%COMP%]{width:40%}.delAssigns[_ngcontent-%COMP%]{margin-top:25px}a[_ngcontent-%COMP%]{cursor:pointer}.forcheckbox[_ngcontent-%COMP%]{margin-right:10px}"]}),t})();var x=c("M9IT"),A=c("Dh3D"),Q=c("+0xr"),M=c("0IaG"),R=c("1jOF"),N=c("H0VJ");function B(t,e){1&t&&l.ac(0,"th",11)}function _(t,e){if(1&t){const t=l.gc();l.fc(0,"td",12),l.fc(1,"mat-checkbox",13),l.nc("change",(function(c){l.Hc(t);const i=e.$implicit;return l.rc().check(c.checked,i)})),l.ec(),l.ec()}if(2&t){const t=e.$implicit,c=l.rc();l.Ob(1),l.yc("checked",c.checkState(t.id))}}function Z(t,e){1&t&&(l.fc(0,"th",11),l.Qc(1,"Name"),l.ec())}function T(t,e){if(1&t&&(l.fc(0,"td",12),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.Ob(1),l.Rc(t.name)}}function E(t,e){1&t&&(l.fc(0,"th",11),l.Qc(1,"Identifer"),l.ec())}function j(t,e){if(1&t&&(l.fc(0,"td",12),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.Ob(1),l.Rc(t.uniqueid)}}function H(t,e){1&t&&l.ac(0,"tr",14)}function $(t,e){1&t&&l.ac(0,"tr",15)}let U=(()=>{class t{constructor(t,e,c,i,a,r,o){this.driverService=t,this.snackBar=e,this.router=c,this.dialogService=i,this.dialogRef=a,this.dialog=r,this.data=o,this.dataSource=new Q.k([]),this.displayedColumns=["select","name","identifier"],this.Id=o.pageValue}ngOnInit(){this.getAllDriver(),this.getAllDriverByDevice()}getAllDriver(){this.driverService.getAllDriver().subscribe(t=>{this.drivers=t,this.dataSource=new Q.k(t),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllDriverByDevice(){this.driverService.getDriverByDeviceId(this.Id).subscribe(t=>{console.log(t),this.deviceDrivers=t,this.deviceDrivers.forEach(t=>{this.deviceDrivers.push(t.driverid)})})}close(){this.dialogRef.close()}checkState(t){if(this.deviceDrivers)return this.deviceDrivers.indexOf(t)>-1}check(t,e){t?(this.object={deviceId:this.Id,driverId:e.id},this.driverService.addDriverWithDevice(this.object).subscribe()):(this.object={deviceId:this.Id,driverId:e.id},this.driverService.deleteDeviceDriver(this.object).subscribe())}}return t.\u0275fac=function(e){return new(e||t)(l.Zb(R.a),l.Zb(d.a),l.Zb(n.c),l.Zb(N.a),l.Zb(M.f),l.Zb(M.b),l.Zb(M.a,8))},t.\u0275cmp=l.Tb({type:t,selectors:[["app-driver-popup"]],viewQuery:function(t,e){var c;1&t&&(l.Uc(A.a,!0),l.Uc(x.a,!0)),2&t&&(l.Ec(c=l.oc())&&(e.sort=c.first),l.Ec(c=l.oc())&&(e.paginator=c.first))},decls:20,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(t,e){1&t&&(l.fc(0,"div",0),l.fc(1,"div",1),l.fc(2,"h3"),l.Qc(3,"Driver Table"),l.ec(),l.fc(4,"span"),l.fc(5,"a"),l.fc(6,"mat-icon",2),l.nc("click",(function(){return e.close()})),l.Qc(7,"X"),l.ec(),l.ec(),l.ec(),l.ec(),l.fc(8,"table",3),l.dc(9,4),l.Pc(10,B,1,0,"th",5),l.Pc(11,_,2,1,"td",6),l.cc(),l.dc(12,7),l.Pc(13,Z,2,0,"th",5),l.Pc(14,T,2,1,"td",6),l.cc(),l.dc(15,8),l.Pc(16,E,2,0,"th",5),l.Pc(17,j,2,1,"td",6),l.cc(),l.Pc(18,H,1,0,"tr",9),l.Pc(19,$,1,0,"tr",10),l.ec(),l.ec()),2&t&&(l.Ob(8),l.yc("dataSource",e.dataSource),l.Ob(10),l.yc("matHeaderRowDef",e.displayedColumns),l.Ob(1),l.yc("matRowDefColumns",e.displayedColumns))},directives:[g.a,Q.j,o.a,Q.c,Q.e,Q.b,Q.g,Q.i,Q.d,Q.a,y.a,Q.f,Q.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:70%;margin-left:5%}"]}),t})();var F=c("Kqty");function G(t,e){1&t&&l.ac(0,"th",12)}function q(t,e){if(1&t){const t=l.gc();l.fc(0,"td",13),l.fc(1,"mat-checkbox",14),l.nc("change",(function(c){l.Hc(t);const i=e.$implicit;return l.rc().check(c.checked,i)})),l.ec(),l.ec()}if(2&t){const t=e.$implicit,c=l.rc();l.Ob(1),l.yc("checked",c.checkState(t.id))}}function V(t,e){1&t&&(l.fc(0,"th",12),l.Qc(1,"Type of notification"),l.ec())}function X(t,e){if(1&t&&(l.fc(0,"td",13),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.Ob(1),l.Rc(t.type)}}function z(t,e){1&t&&(l.fc(0,"th",12),l.Qc(1,"All Devices"),l.ec())}function L(t,e){if(1&t&&(l.fc(0,"td",13),l.Qc(1),l.ec()),2&t){const t=e.$implicit,c=l.rc();l.Ob(1),l.Rc(null==c.states[t.always]?null:c.states[t.always].value)}}function W(t,e){1&t&&(l.fc(0,"th",12),l.Qc(1,"Channels"),l.ec())}function J(t,e){if(1&t&&(l.fc(0,"td",13),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.Ob(1),l.Rc(t.notificators)}}function K(t,e){1&t&&l.ac(0,"tr",15)}function Y(t,e){1&t&&l.ac(0,"tr",16)}let tt=(()=>{class t{constructor(t,e,c,i,a,r,o){this.notificationService=t,this.snackBar=e,this.router=c,this.dialogService=i,this.dialogRef=a,this.dialog=r,this.data=o,this.dataSource=new Q.k([]),this.states=[{id:0,value:"NO"},{id:1,value:"YES"}],this.displayedColumns=["select","name","identifier","always"],this.Id=o.pageValue}ngOnInit(){this.getAllDriver(),this.getAllDriverByDevice()}getAllDriver(){this.notificationService.getAllNotification().subscribe(t=>{console.log(t),this.notifications=t,this.dataSource=new Q.k(t),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllDriverByDevice(){this.notificationService.getNotificationByDeviceId(this.Id).subscribe(t=>{console.log(t),this.deviceNotifications=t,this.deviceNotifications.forEach(t=>{this.deviceNotifications.push(t.notificationid)})})}close(){this.dialogRef.close()}checkState(t){if(this.deviceNotifications)return this.deviceNotifications.indexOf(t)>-1}check(t,e){t?(this.object={deviceId:this.Id,notificationId:e.id},this.notificationService.addNotificationWithDevice(this.object).subscribe()):(this.object={deviceId:this.Id,notificationId:e.id},this.notificationService.deleteDeviceNotification(this.object).subscribe())}}return t.\u0275fac=function(e){return new(e||t)(l.Zb(F.a),l.Zb(d.a),l.Zb(n.c),l.Zb(N.a),l.Zb(M.f),l.Zb(M.b),l.Zb(M.a,8))},t.\u0275cmp=l.Tb({type:t,selectors:[["app-notification-popup"]],viewQuery:function(t,e){var c;1&t&&(l.Uc(A.a,!0),l.Uc(x.a,!0)),2&t&&(l.Ec(c=l.oc())&&(e.sort=c.first),l.Ec(c=l.oc())&&(e.paginator=c.first))},decls:23,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","always"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(t,e){1&t&&(l.fc(0,"div",0),l.fc(1,"div",1),l.fc(2,"h3"),l.Qc(3,"Notification Table"),l.ec(),l.fc(4,"span"),l.fc(5,"a"),l.fc(6,"mat-icon",2),l.nc("click",(function(){return e.close()})),l.Qc(7,"X"),l.ec(),l.ec(),l.ec(),l.ec(),l.fc(8,"table",3),l.dc(9,4),l.Pc(10,G,1,0,"th",5),l.Pc(11,q,2,1,"td",6),l.cc(),l.dc(12,7),l.Pc(13,V,2,0,"th",5),l.Pc(14,X,2,1,"td",6),l.cc(),l.dc(15,8),l.Pc(16,z,2,0,"th",5),l.Pc(17,L,2,1,"td",6),l.cc(),l.dc(18,9),l.Pc(19,W,2,0,"th",5),l.Pc(20,J,2,1,"td",6),l.cc(),l.Pc(21,K,1,0,"tr",10),l.Pc(22,Y,1,0,"tr",11),l.ec(),l.ec()),2&t&&(l.Ob(8),l.yc("dataSource",e.dataSource),l.Ob(13),l.yc("matHeaderRowDef",e.displayedColumns),l.Ob(1),l.yc("matRowDefColumns",e.displayedColumns))},directives:[g.a,Q.j,o.a,Q.c,Q.e,Q.b,Q.g,Q.i,Q.d,Q.a,y.a,Q.f,Q.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),t})();var et=c("hrIc");function ct(t,e){1&t&&l.ac(0,"th",13)}function it(t,e){if(1&t){const t=l.gc();l.fc(0,"td",14),l.fc(1,"mat-checkbox",15),l.nc("change",(function(c){l.Hc(t);const i=e.$implicit;return l.rc().check(c.checked,i)})),l.ec(),l.ec()}if(2&t){const t=e.$implicit,c=l.rc();l.Ob(1),l.yc("checked",c.checkState(t.id))}}function at(t,e){1&t&&(l.fc(0,"th",13),l.Qc(1,"Name"),l.ec())}function rt(t,e){if(1&t&&(l.fc(0,"td",14),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.Ob(1),l.Rc(t.name)}}function ot(t,e){1&t&&(l.fc(0,"th",13),l.Qc(1,"Type"),l.ec())}function nt(t,e){if(1&t&&(l.fc(0,"td",14),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.Ob(1),l.Rc(t.type)}}function st(t,e){1&t&&(l.fc(0,"th",13),l.Qc(1,"Start"),l.ec())}function lt(t,e){if(1&t&&(l.fc(0,"td",14),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.Ob(1),l.Rc(t.start)}}function dt(t,e){1&t&&(l.fc(0,"th",13),l.Qc(1,"Period"),l.ec())}function ut(t,e){if(1&t&&(l.fc(0,"td",14),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.Ob(1),l.Rc(t.period)}}function ft(t,e){1&t&&l.ac(0,"tr",16)}function mt(t,e){1&t&&l.ac(0,"tr",17)}let ht=(()=>{class t{constructor(t,e,c,i,a,r,o){this.maintenanceService=t,this.snackBar=e,this.router=c,this.dialogService=i,this.dialogRef=a,this.dialog=r,this.data=o,this.dataSource=new Q.k([]),this.displayedColumns=["select","name","type","start","period"],this.Id=o.pageValue}ngOnInit(){this.getAllDriver(),this.getAllDriverByDevice()}getAllDriver(){this.maintenanceService.getAllMaintenance().subscribe(t=>{this.maintenance=t,this.dataSource=new Q.k(t),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllDriverByDevice(){this.maintenanceService.getMaintenanceByDeviceId(this.Id).subscribe(t=>{console.log(t),this.deviceMaintenance=t,this.deviceMaintenance.forEach(t=>{this.deviceMaintenance.push(t.maintenance_id)})})}close(){this.dialogRef.close()}checkState(t){if(this.deviceMaintenance)return this.deviceMaintenance.indexOf(t)>-1}check(t,e){t?(this.object={deviceId:this.Id,maintenanceId:e.id},this.maintenanceService.addMaintenanceWithDevice(this.object).subscribe()):(this.object={deviceId:this.Id,maintenanceId:e.id},this.maintenanceService.deleteDeviceMaintenance(this.object).subscribe())}}return t.\u0275fac=function(e){return new(e||t)(l.Zb(et.a),l.Zb(d.a),l.Zb(n.c),l.Zb(N.a),l.Zb(M.f),l.Zb(M.b),l.Zb(M.a,8))},t.\u0275cmp=l.Tb({type:t,selectors:[["app-maintenance-device"]],viewQuery:function(t,e){var c;1&t&&(l.Uc(A.a,!0),l.Uc(x.a,!0)),2&t&&(l.Ec(c=l.oc())&&(e.sort=c.first),l.Ec(c=l.oc())&&(e.paginator=c.first))},decls:26,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","type"],["matColumnDef","start"],["matColumnDef","period"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(t,e){1&t&&(l.fc(0,"div",0),l.fc(1,"div",1),l.fc(2,"h3"),l.Qc(3,"Maintenance Table"),l.ec(),l.fc(4,"span"),l.fc(5,"a"),l.fc(6,"mat-icon",2),l.nc("click",(function(){return e.close()})),l.Qc(7,"X"),l.ec(),l.ec(),l.ec(),l.ec(),l.fc(8,"table",3),l.dc(9,4),l.Pc(10,ct,1,0,"th",5),l.Pc(11,it,2,1,"td",6),l.cc(),l.dc(12,7),l.Pc(13,at,2,0,"th",5),l.Pc(14,rt,2,1,"td",6),l.cc(),l.dc(15,8),l.Pc(16,ot,2,0,"th",5),l.Pc(17,nt,2,1,"td",6),l.cc(),l.dc(18,9),l.Pc(19,st,2,0,"th",5),l.Pc(20,lt,2,1,"td",6),l.cc(),l.dc(21,10),l.Pc(22,dt,2,0,"th",5),l.Pc(23,ut,2,1,"td",6),l.cc(),l.Pc(24,ft,1,0,"tr",11),l.Pc(25,mt,1,0,"tr",12),l.ec(),l.ec()),2&t&&(l.Ob(8),l.yc("dataSource",e.dataSource),l.Ob(16),l.yc("matHeaderRowDef",e.displayedColumns),l.Ob(1),l.yc("matRowDefColumns",e.displayedColumns))},directives:[g.a,Q.j,o.a,Q.c,Q.e,Q.b,Q.g,Q.i,Q.d,Q.a,y.a,Q.f,Q.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),t})();var pt=c("9TBo");function bt(t,e){1&t&&l.ac(0,"th",11)}function gt(t,e){if(1&t){const t=l.gc();l.fc(0,"td",12),l.fc(1,"mat-checkbox",13),l.nc("change",(function(c){l.Hc(t);const i=e.$implicit;return l.rc().check(c.checked,i)})),l.ec(),l.ec()}if(2&t){const t=e.$implicit,c=l.rc();l.Ob(1),l.yc("checked",c.checkState(t.id))}}function vt(t,e){1&t&&(l.fc(0,"th",11),l.Qc(1,"Description"),l.ec())}function yt(t,e){if(1&t&&(l.fc(0,"td",12),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.Ob(1),l.Rc(t.description)}}function Dt(t,e){1&t&&(l.fc(0,"th",11),l.Qc(1,"Attribute"),l.ec())}function Ct(t,e){if(1&t&&(l.fc(0,"td",12),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.Ob(1),l.Rc(t.attribute)}}function wt(t,e){1&t&&l.ac(0,"tr",14)}function St(t,e){1&t&&l.ac(0,"tr",15)}let Ot=(()=>{class t{constructor(t,e,c,i,a,r,o){this.attributeService=t,this.snackBar=e,this.router=c,this.dialogService=i,this.dialogRef=a,this.dialog=r,this.data=o,this.dataSource=new Q.k([]),this.displayedColumns=["select","name","identifier"],this.Id=o.pageValue}ngOnInit(){this.getAllDriver(),this.getAllDriverByDevice()}getAllDriver(){this.attributeService.getAllAttribute().subscribe(t=>{this.attributes=t,this.dataSource=new Q.k(t),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllDriverByDevice(){this.attributeService.getAttributeByDeviceId(this.Id).subscribe(t=>{console.log(t),this.deviceAttributes=t,this.deviceAttributes.forEach(t=>{this.deviceAttributes.push(t.attributeid)})})}close(){this.dialogRef.close()}checkState(t){if(this.deviceAttributes)return this.deviceAttributes.indexOf(t)>-1}check(t,e){t?(this.object={deviceId:this.Id,attributeId:e.id},this.attributeService.addAttributeWithDevice(this.object).subscribe()):(this.object={deviceId:this.Id,attributeId:e.id},this.attributeService.deleteDeviceAttribute(this.object).subscribe())}}return t.\u0275fac=function(e){return new(e||t)(l.Zb(pt.a),l.Zb(d.a),l.Zb(n.c),l.Zb(N.a),l.Zb(M.f),l.Zb(M.b),l.Zb(M.a,8))},t.\u0275cmp=l.Tb({type:t,selectors:[["app-attribute-device"]],viewQuery:function(t,e){var c;1&t&&(l.Uc(A.a,!0),l.Uc(x.a,!0)),2&t&&(l.Ec(c=l.oc())&&(e.sort=c.first),l.Ec(c=l.oc())&&(e.paginator=c.first))},decls:20,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(t,e){1&t&&(l.fc(0,"div",0),l.fc(1,"div",1),l.fc(2,"h3"),l.Qc(3,"Driver Table"),l.ec(),l.fc(4,"span"),l.fc(5,"a"),l.fc(6,"mat-icon",2),l.nc("click",(function(){return e.close()})),l.Qc(7,"X"),l.ec(),l.ec(),l.ec(),l.ec(),l.fc(8,"table",3),l.dc(9,4),l.Pc(10,bt,1,0,"th",5),l.Pc(11,gt,2,1,"td",6),l.cc(),l.dc(12,7),l.Pc(13,vt,2,0,"th",5),l.Pc(14,yt,2,1,"td",6),l.cc(),l.dc(15,8),l.Pc(16,Dt,2,0,"th",5),l.Pc(17,Ct,2,1,"td",6),l.cc(),l.Pc(18,wt,1,0,"tr",9),l.Pc(19,St,1,0,"tr",10),l.ec(),l.ec()),2&t&&(l.Ob(8),l.yc("dataSource",e.dataSource),l.Ob(10),l.yc("matHeaderRowDef",e.displayedColumns),l.Ob(1),l.yc("matRowDefColumns",e.displayedColumns))},directives:[g.a,Q.j,o.a,Q.c,Q.e,Q.b,Q.g,Q.i,Q.d,Q.a,y.a,Q.f,Q.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:70%;margin-left:5%}"]}),t})();var kt=c("9dHA");function Pt(t,e){1&t&&l.ac(0,"th",12)}function It(t,e){if(1&t){const t=l.gc();l.fc(0,"td",13),l.fc(1,"mat-checkbox",14),l.nc("change",(function(c){l.Hc(t);const i=e.$implicit;return l.rc().check(c.checked,i)})),l.ec(),l.ec()}if(2&t){const t=e.$implicit,c=l.rc();l.Ob(1),l.yc("checked",c.checkState(t.id))}}function xt(t,e){1&t&&(l.fc(0,"th",12),l.Qc(1,"Type"),l.ec())}function At(t,e){if(1&t&&(l.fc(0,"td",13),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.Ob(1),l.Rc(t.type)}}function Qt(t,e){1&t&&(l.fc(0,"th",12),l.Qc(1,"Description"),l.ec())}function Mt(t,e){if(1&t&&(l.fc(0,"td",13),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.Ob(1),l.Rc(t.description)}}function Rt(t,e){1&t&&(l.fc(0,"th",12),l.Qc(1,"Send SMS"),l.ec())}function Nt(t,e){if(1&t&&(l.fc(0,"td",13),l.Qc(1),l.ec()),2&t){const t=e.$implicit,c=l.rc();l.Ob(1),l.Rc(null==c.sms[t.textchannel]?null:c.sms[t.textchannel].value)}}function Bt(t,e){1&t&&l.ac(0,"tr",15)}function _t(t,e){1&t&&l.ac(0,"tr",16)}let Zt=(()=>{class t{constructor(t,e,c,i,a,r,o){this.commandService=t,this.snackBar=e,this.router=c,this.dialogService=i,this.dialogRef=a,this.dialog=r,this.data=o,this.dataSource=new Q.k([]),this.displayedColumns=["select","name","description","sms"],this.sms=[{id:1,value:"true"},{id:0,value:"false"}],this.Id=o.pageValue}ngOnInit(){this.getAllDriver(),this.getAllDriverByDevice()}getAllDriver(){this.commandService.getAllCommand().subscribe(t=>{this.commands=t,this.dataSource=new Q.k(t),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllDriverByDevice(){this.commandService.getCommandByDeviceId(this.Id).subscribe(t=>{console.log(t),this.deviceCommands=t,this.deviceCommands.forEach(t=>{this.deviceCommands.push(t.commandid)})})}close(){this.dialogRef.close()}checkState(t){if(this.deviceCommands)return this.deviceCommands.indexOf(t)>-1}check(t,e){t?(this.object={deviceId:this.Id,commandId:e.id},this.commandService.addCommandWithDevice(this.object).subscribe()):(this.object={deviceId:this.Id,commandId:e.id},this.commandService.deleteDeviceCommand(this.object).subscribe())}}return t.\u0275fac=function(e){return new(e||t)(l.Zb(kt.a),l.Zb(d.a),l.Zb(n.c),l.Zb(N.a),l.Zb(M.f),l.Zb(M.b),l.Zb(M.a,8))},t.\u0275cmp=l.Tb({type:t,selectors:[["app-command-device"]],viewQuery:function(t,e){var c;1&t&&(l.Uc(A.a,!0),l.Uc(x.a,!0)),2&t&&(l.Ec(c=l.oc())&&(e.sort=c.first),l.Ec(c=l.oc())&&(e.paginator=c.first))},decls:23,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","sms"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(t,e){1&t&&(l.fc(0,"div",0),l.fc(1,"div",1),l.fc(2,"h3"),l.Qc(3,"Command Table"),l.ec(),l.fc(4,"span"),l.fc(5,"a"),l.fc(6,"mat-icon",2),l.nc("click",(function(){return e.close()})),l.Qc(7,"X"),l.ec(),l.ec(),l.ec(),l.ec(),l.fc(8,"table",3),l.dc(9,4),l.Pc(10,Pt,1,0,"th",5),l.Pc(11,It,2,1,"td",6),l.cc(),l.dc(12,7),l.Pc(13,xt,2,0,"th",5),l.Pc(14,At,2,1,"td",6),l.cc(),l.dc(15,8),l.Pc(16,Qt,2,0,"th",5),l.Pc(17,Mt,2,1,"td",6),l.cc(),l.dc(18,9),l.Pc(19,Rt,2,0,"th",5),l.Pc(20,Nt,2,1,"td",6),l.cc(),l.Pc(21,Bt,1,0,"tr",10),l.Pc(22,_t,1,0,"tr",11),l.ec(),l.ec()),2&t&&(l.Ob(8),l.yc("dataSource",e.dataSource),l.Ob(13),l.yc("matHeaderRowDef",e.displayedColumns),l.Ob(1),l.yc("matRowDefColumns",e.displayedColumns))},directives:[g.a,Q.j,o.a,Q.c,Q.e,Q.b,Q.g,Q.i,Q.d,Q.a,y.a,Q.f,Q.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),t})();var Tt=c("Xa2L");function Et(t,e){1&t&&(l.fc(0,"mat-card",11),l.ac(1,"mat-progress-spinner",12),l.ec())}let jt=(()=>{class t{constructor(t,e,c,i,a,r){this.fb=t,this.dialogRef=e,this.dialog=c,this.router=i,this.snackBar=a,this.deviceService=r,this.errorInfo=[]}ngOnInit(){this.myform=this.fb.group({deviceName:["",[a.s.required]],identifier:["",[a.s.required]],group:[],phone:[""],model:[""],contact:[""],category:[""],disabled:[],attributes:this.fb.array([])}),this.dialogRef.disableClose=!0}close(){this.dialogRef.close()}openSnackBar(){this.snackBar.open("Successfully added!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}importDevice(){this.errorInfo=[],this.myform.markAllAsTouched(),this.userData=JSON.parse(localStorage.getItem("userData")),this.myform.value.created_by=this.userData.id,this.myform.value.identifier.split(",").forEach(t=>{this.isLoading=!0,11!=t.length&&this.errorInfo.push({id:t,status:"Fail",reason:"Invalid Format"}),11==t.length&&(this.myform.value.identifier=t,this.deviceService.addDevice(this.myform.value).subscribe(t=>{t.message&&this.errorInfo.push({id:t.id,status:"Fail",reason:"Already exits"})}))}),this.isLoading=!1,this.dialogRef.close(),console.log(this.errorInfo),this.deviceService.importDataExchange(this.errorInfo)}}return t.\u0275fac=function(e){return new(e||t)(l.Zb(a.e),l.Zb(M.f),l.Zb(M.b),l.Zb(n.c),l.Zb(d.a),l.Zb(u.a))},t.\u0275cmp=l.Tb({type:t,selectors:[["app-device-import"]],decls:21,vars:2,consts:[[1,"table-title"],[3,"click"],[1,"customStyle"],[3,"formGroup"],[1,"main"],[1,"full"],["trim","blur","matInput","","placeholder","Name","formControlName","deviceName","autocomplete","off","required",""],["matInput","","placeholder","IMEI","formControlName","identifier","autocomplete","off","required","",2,"height","100px"],[1,"button"],["mat-stroked-button","","color","primary",1,"btn-block",3,"click"],["class","center","style","display:flex; justify-content: center; align-items: center",4,"ngIf"],[1,"center",2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"]],template:function(t,e){1&t&&(l.fc(0,"div",0),l.fc(1,"h3"),l.Qc(2,"Import Device"),l.ec(),l.fc(3,"span"),l.fc(4,"a"),l.fc(5,"mat-icon",1),l.nc("click",(function(){return e.close()})),l.Qc(6,"close"),l.ec(),l.ec(),l.ec(),l.ec(),l.fc(7,"mat-card",2),l.fc(8,"mat-card-content"),l.fc(9,"form",3),l.fc(10,"div",4),l.fc(11,"mat-form-field",5),l.ac(12,"input",6),l.ec(),l.fc(13,"mat-form-field",5),l.ac(14,"input",7),l.ec(),l.ec(),l.ec(),l.ec(),l.fc(15,"mat-card-actions",8),l.fc(16,"button",9),l.nc("click",(function(){return e.importDevice()})),l.Qc(17," Submit "),l.ec(),l.fc(18,"button",9),l.nc("click",(function(){return e.close()})),l.Qc(19," Close "),l.ec(),l.ec(),l.ec(),l.Pc(20,Et,2,0,"mat-card",10)),2&t&&(l.Ob(9),l.yc("formGroup",e.myform),l.Ob(11),l.yc("ngIf",e.isLoading))},directives:[g.a,m.a,m.c,a.t,a.n,a.g,h.c,p.b,a.c,a.m,a.f,a.r,m.b,D.b,i.m,Tt.a],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:70%;margin-left:5%}mat-card[_ngcontent-%COMP%]{width:80%}.center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}"]}),t})();function Ht(t,e){1&t&&(l.fc(0,"th",9),l.Qc(1,"IMEI"),l.ec())}function $t(t,e){if(1&t&&(l.fc(0,"td",10),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.Ob(1),l.Rc(t.id)}}function Ut(t,e){1&t&&(l.fc(0,"th",9),l.Qc(1,"Status"),l.ec())}function Ft(t,e){if(1&t&&(l.fc(0,"td",10),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.Ob(1),l.Rc(t.status)}}function Gt(t,e){1&t&&(l.fc(0,"th",9),l.Qc(1,"Reason"),l.ec())}function qt(t,e){if(1&t&&(l.fc(0,"td",10),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.Ob(1),l.Rc(t.reason)}}function Vt(t,e){1&t&&l.ac(0,"tr",11)}function Xt(t,e){1&t&&l.ac(0,"tr",12)}let zt=(()=>{class t{constructor(t,e,c,i){this.deviceService=t,this.dialogRef=e,this.dialog=c,this.data=i,this.error=1,this.dataSource=new Q.k([]),this.displayedColumns=["id","status","reason"],this.errorData=i,console.log(this.errorData)}ngOnInit(){this.deviceService.importDataCatch.subscribe(t=>{console.log(t),t&&(this.errorData=t,this.dataSource=new Q.k(t))})}}return t.\u0275fac=function(e){return new(e||t)(l.Zb(u.a),l.Zb(M.f),l.Zb(M.b),l.Zb(M.a,8))},t.\u0275cmp=l.Tb({type:t,selectors:[["app-import-error"]],decls:13,vars:3,consts:[[1,"custom-style"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","reason"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(t,e){1&t&&(l.fc(0,"div",0),l.fc(1,"table",1),l.dc(2,2),l.Pc(3,Ht,2,0,"th",3),l.Pc(4,$t,2,1,"td",4),l.cc(),l.dc(5,5),l.Pc(6,Ut,2,0,"th",3),l.Pc(7,Ft,2,1,"td",4),l.cc(),l.dc(8,6),l.Pc(9,Gt,2,0,"th",3),l.Pc(10,qt,2,1,"td",4),l.cc(),l.Pc(11,Vt,1,0,"tr",7),l.Pc(12,Xt,1,0,"tr",8),l.ec(),l.ec()),2&t&&(l.Ob(1),l.yc("dataSource",e.dataSource),l.Ob(10),l.yc("matHeaderRowDef",e.displayedColumns),l.Ob(1),l.yc("matRowDefColumns",e.displayedColumns))},directives:[Q.j,A.a,Q.c,Q.e,Q.b,Q.g,Q.i,Q.d,A.b,Q.a,Q.f,Q.h],styles:[""]}),t})();var Lt=c("STbY");function Wt(t,e){1&t&&(l.fc(0,"th",20),l.Qc(1,"Action"),l.ec())}function Jt(t,e){if(1&t){const t=l.gc();l.fc(0,"button",27),l.fc(1,"mat-icon",28),l.nc("click",(function(){l.Hc(t);const e=l.rc().$implicit;return l.rc().editDevice(e)})),l.Qc(2,"edit"),l.ec(),l.ec()}}function Kt(t,e){if(1&t){const t=l.gc();l.fc(0,"button",29),l.fc(1,"mat-icon",28),l.nc("click",(function(){l.Hc(t);const e=l.rc().$implicit;return l.rc().deleteDevice(e)})),l.Qc(2,"delete_outline"),l.ec(),l.ec()}}function Yt(t,e){if(1&t){const t=l.gc();l.fc(0,"button",30),l.fc(1,"mat-icon",28),l.nc("click",(function(){l.Hc(t);const e=l.rc().$implicit;return l.rc().settingDevice(e)})),l.Qc(2,"settings"),l.ec(),l.ec()}if(2&t){l.rc();const t=l.Fc(5);l.yc("matMenuTriggerFor",t)}}function te(t,e){if(1&t){const t=l.gc();l.fc(0,"td",21),l.Pc(1,Jt,3,0,"button",22),l.Pc(2,Kt,3,0,"button",23),l.Pc(3,Yt,3,1,"button",24),l.fc(4,"mat-menu",null,25),l.fc(6,"button",26),l.nc("click",(function(){l.Hc(t);const c=e.$implicit;return l.rc().openDriverModal(c)})),l.Qc(7,"Drivers"),l.ec(),l.fc(8,"button",26),l.nc("click",(function(){l.Hc(t);const c=e.$implicit;return l.rc().openNotificationModal(c)})),l.Qc(9,"Notifications"),l.ec(),l.fc(10,"button",26),l.nc("click",(function(){l.Hc(t);const c=e.$implicit;return l.rc().openMaintenanceModal(c)})),l.Qc(11,"Maintenance"),l.ec(),l.fc(12,"button",26),l.nc("click",(function(){l.Hc(t);const c=e.$implicit;return l.rc().openAttributeModal(c)})),l.Qc(13,"Computed Attributes"),l.ec(),l.fc(14,"button",26),l.nc("click",(function(){l.Hc(t);const c=e.$implicit;return l.rc().openCommandModal(c)})),l.Qc(15,"Saved Commands"),l.ec(),l.ec(),l.ec()}if(2&t){const t=l.rc();l.Ob(1),l.yc("ngIf",1==t.assigedRole.includes("device_edit")),l.Ob(1),l.yc("ngIf",1==t.assigedRole.includes("device_delete")),l.Ob(1),l.yc("ngIf",1==t.assigedRole.includes("device_setting"))}}function ee(t,e){1&t&&(l.fc(0,"th",31),l.Qc(1,"#"),l.ec())}function ce(t,e){if(1&t&&(l.fc(0,"td",21),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.Ob(1),l.Rc(t.id)}}function ie(t,e){1&t&&(l.fc(0,"th",31),l.Qc(1,"Name"),l.ec())}function ae(t,e){if(1&t&&(l.fc(0,"td",21),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.Ob(1),l.Rc(t.name)}}function re(t,e){1&t&&(l.fc(0,"th",31),l.Qc(1,"Identifer"),l.ec())}function oe(t,e){if(1&t&&(l.fc(0,"td",21),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.Ob(1),l.Rc(t.uniqueid)}}function ne(t,e){1&t&&l.ac(0,"tr",32)}function se(t,e){1&t&&l.ac(0,"tr",33)}function le(t,e){1&t&&(l.fc(0,"mat-card",34),l.ac(1,"mat-progress-spinner",35),l.ec())}const de=function(){return[0]},ue=function(){return[25,50,100]};function fe(t,e){if(1&t&&(l.fc(0,"mat-option",26),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.yc("value",t.value),l.Ob(1),l.Sc(" ",t.value," ")}}function me(t,e){if(1&t&&(l.fc(0,"mat-option",26),l.Qc(1),l.ec()),2&t){const t=e.$implicit;l.yc("value",t.value),l.Ob(1),l.Sc(" ",t.value," ")}}function he(t,e){if(1&t){const t=l.gc();l.fc(0,"div",32),l.fc(1,"a"),l.fc(2,"mat-icon",23),l.nc("click",(function(){l.Hc(t);const e=l.rc().index;return l.rc().removeAttributes(e)})),l.Qc(3,"clear"),l.ec(),l.ec(),l.ec()}}function pe(t,e){if(1&t&&(l.fc(0,"div",27),l.fc(1,"div",28),l.fc(2,"mat-form-field",16),l.ac(3,"input",29),l.ec(),l.fc(4,"mat-form-field",16),l.ac(5,"input",30),l.ec(),l.Pc(6,he,4,0,"div",31),l.ec(),l.ec()),2&t){const t=e.index,c=l.rc();l.Ob(1),l.yc("formArrayName",t),l.Ob(2),l.yc("id","name"+t),l.Ob(2),l.yc("id","value"+t),l.Ob(1),l.yc("ngIf",c.myform.get("attributes").length>1)}}const be=[{path:"add",component:I,canActivate:[s.a],data:{roles:"device_add"}},{path:"list",component:(()=>{class t{constructor(t,e,c,i,a){this.deviceService=t,this.snackBar=e,this.router=c,this.dialogService=i,this.dialog=a,this.assigedRole=[],this.show=!0,this.isLoading=!0,this.idColumn="id",this.dataSource=new Q.k([]),this.states=[{id:0,value:"Inactive"},{id:1,value:"Active"}],this.displayedColumns=["action","id","name","identifier"],this.assigedRole=JSON.parse(sessionStorage.getItem("rolesData"))}ngOnInit(){this.getAllDevice(),this.deviceService.importDataCatch.subscribe(t=>{console.log(t),t&&(this.errorData=t,this.deviceService.importErrorExchange(t),this.isLoading=!0,setTimeout(()=>{this.getAllDevice()},1e3),setTimeout(()=>{this.openImportErrorModal()},1500))}),this.deviceService.importErrorCatch.subscribe(t=>{})}getAllDevice(){this.deviceService.getAllDevices().subscribe(t=>{this.isLoading=!1,this.devices=t,console.log(this.devices),this.dataSource=new Q.k(t),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}editDevice(t){this.router.navigate(["admin/traccar/devices/edit",t.id])}deleteDevice(t){this.dialogService.openConfirmDialog().afterClosed().subscribe(e=>{e&&(this.deviceService.deleteDevice(t.id).subscribe(),this.deleteRowDataTable(t.id,this.idColumn,this.paginator,this.dataSource),this.openSnackBar())})}deleteRowDataTable(t,e,c,i){this.devices=i.data;const a=this.devices.findIndex(c=>c[e]===t);i.data.splice(a,1),i.paginator=c}openSnackBar(){this.snackBar.open("Deleted!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}applyFilter(t){this.dataSource.filter=t.trim().toLowerCase()}openDriverModal(t){console.log(t.id);const e=new M.d;e.disableClose=!0,e.width="600px",e.height="480px",this.dialog.open(U,{width:"580px",height:"460px",data:{pageValue:t.id}}).afterClosed().subscribe(t=>{})}openNotificationModal(t){console.log(t.id);const e=new M.d;e.disableClose=!0,e.width="600px",e.height="480px",this.dialog.open(tt,{width:"580px",height:"460px",data:{pageValue:t.id}}).afterClosed().subscribe(t=>{})}openMaintenanceModal(t){console.log(t.id);const e=new M.d;e.disableClose=!0,e.width="600px",e.height="480px",this.dialog.open(ht,{width:"580px",height:"460px",data:{pageValue:t.id}}).afterClosed().subscribe(t=>{})}openAttributeModal(t){console.log(t.id);const e=new M.d;e.disableClose=!0,e.width="600px",e.height="480px",this.dialog.open(Ot,{width:"580px",height:"460px",data:{pageValue:t.id}}).afterClosed().subscribe(t=>{})}openCommandModal(t){console.log(t.id);const e=new M.d;e.disableClose=!0,e.width="600px",e.height="480px",this.dialog.open(Zt,{width:"580px",height:"460px",data:{pageValue:t.id}}).afterClosed().subscribe(t=>{})}openImportModal(){const t=new M.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(jt,{width:"580px",height:"460px"}).afterClosed().subscribe(t=>{})}openImportErrorModal(){const t=new M.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(zt,{width:"580px",height:"260px",data:this.errorData}).afterClosed().subscribe(t=>{})}settingDevice(t){console.log(t.id)}goAddItem(){this.router.navigate(["admin/traccar/devices/add"])}}return t.\u0275fac=function(e){return new(e||t)(l.Zb(u.a),l.Zb(d.a),l.Zb(n.c),l.Zb(N.a),l.Zb(M.b))},t.\u0275cmp=l.Tb({type:t,selectors:[["app-device-list"]],viewQuery:function(t,e){var c;1&t&&(l.Uc(A.a,!0),l.Uc(x.a,!0)),2&t&&(l.Ec(c=l.oc())&&(e.sort=c.first),l.Ec(c=l.oc())&&(e.paginator=c.first))},decls:32,vars:9,consts:[[1,"custom-style"],[1,"table-title"],[1,"search-div"],[1,"filter"],["matInput","","placeholder","search","autocomplete","off",3,"keyup"],["mat-button","",1,"mat-raised-button","mat-primary",3,"click"],["mat-button","",1,"add_button",3,"click"],["mat-table","","matTableExporter","","matSort","",1,"mat-elevation-z8",3,"dataSource","hiddenColumns"],["exporter","matTableExporter"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","name"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions","pageSize"],["class","center","style","display:flex; justify-content: center; align-items: center",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",4,"ngIf"],["mat-icon-button","","color","warn",4,"ngIf"],["mat-icon-button","","color","info",3,"matMenuTriggerFor",4,"ngIf"],["setting","matMenu"],["mat-menu-item","",3,"click"],["mat-icon-button",""],[3,"click"],["mat-icon-button","","color","warn"],["mat-icon-button","","color","info",3,"matMenuTriggerFor"],["mat-header-cell","","mat-sort-header",""],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"],[1,"center",2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"]],template:function(t,e){if(1&t){const t=l.gc();l.fc(0,"div",0),l.fc(1,"div",1),l.fc(2,"h3"),l.Qc(3,"Device Table"),l.ec(),l.ec(),l.fc(4,"div",2),l.fc(5,"mat-form-field",3),l.fc(6,"input",4),l.nc("keyup",(function(t){return e.applyFilter(t.target.value)})),l.ec(),l.ec(),l.fc(7,"button",5),l.nc("click",(function(){return l.Hc(t),l.Fc(15).exportTable("csv",{fileName:"driver"})})),l.Qc(8," Export "),l.ec(),l.fc(9,"button",6),l.nc("click",(function(){return e.goAddItem()})),l.fc(10,"mat-icon"),l.Qc(11,"add"),l.ec(),l.ec(),l.fc(12,"button",5),l.nc("click",(function(){return e.openImportModal()})),l.Qc(13," Import\n"),l.ec(),l.ec(),l.fc(14,"table",7,8),l.dc(16,9),l.Pc(17,Wt,2,0,"th",10),l.Pc(18,te,16,3,"td",11),l.cc(),l.dc(19,12),l.Pc(20,ee,2,0,"th",13),l.Pc(21,ce,2,1,"td",11),l.cc(),l.dc(22,14),l.Pc(23,ie,2,0,"th",13),l.Pc(24,ae,2,1,"td",11),l.cc(),l.dc(25,15),l.Pc(26,re,2,0,"th",13),l.Pc(27,oe,2,1,"td",11),l.cc(),l.Pc(28,ne,1,0,"tr",16),l.Pc(29,se,1,0,"tr",17),l.ec(),l.ac(30,"mat-paginator",18),l.ec(),l.Pc(31,le,2,0,"mat-card",19)}2&t&&(l.Ob(14),l.yc("dataSource",e.dataSource)("hiddenColumns",l.Ac(7,de)),l.Ob(14),l.yc("matHeaderRowDef",e.displayedColumns),l.Ob(1),l.yc("matRowDefColumns",e.displayedColumns),l.Ob(1),l.yc("pageSizeOptions",l.Ac(8,ue))("pageSize",25),l.Ob(1),l.yc("ngIf",e.isLoading))},directives:[h.c,p.b,D.b,g.a,Q.j,o.a,A.a,Q.c,Q.e,Q.b,Q.g,Q.i,x.a,i.m,Q.d,Q.a,Lt.d,Lt.a,Lt.c,A.b,Q.f,Q.h,m.a,Tt.a],styles:[".filter[_ngcontent-%COMP%]{width:15%;margin-right:50%}.mat-column-action[_ngcontent-%COMP%]{width:20%!important}.mat-raised-button[_ngcontent-%COMP%]{width:8%;margin-left:.5%}.add_button[_ngcontent-%COMP%]{width:8%;color:#fff;margin-left:10px!important;background-color:#00f}.center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}"]}),t})(),canActivate:[s.a],data:{roles:"device_list"}},{path:"edit/:id",component:(()=>{class t{constructor(t,e,c,i,a,r){this.fb=t,this.router=e,this.snackBar=c,this.route=i,this.deviceService=a,this.groupService=r,this.groups=[],this.object={},this.att=[],this.submitted=!1,this.array=[{id:1,name:"speed",value:"25"},{id:2,name:"limit",value:"5"}],this.categories=[{id:1,value:"Bus"},{id:0,value:"Car"},{id:0,value:"Truck"}],this.step=0}setStep(t){this.step=t}ngOnInit(){this.myform=this.fb.group({deviceName:["",[a.s.required]],identifier:["",[a.s.required]],group:[],phone:[""],model:[""],contact:[""],category:[""],disabled:[],attributes:this.fb.array([])}),this.route.paramMap.subscribe(t=>{this.Id=t.get("id"),this.edit(this.Id)}),this.getAllGroup(),this.deviceService.importDataCatch.subscribe(t=>{console.log(t)})}getAllGroup(){this.groupService.getAllGroup().subscribe(t=>{this.groups=t})}edit(t){this.deviceService.getDeviceById(t).subscribe(t=>{this.d=t,console.log(this.d);var e=JSON.parse(this.d.attributes),c=Object.entries(e);this.attr=[],c.forEach(t=>{this.attr.push({name:t[0],value:t[1]})}),this.d.attributes=this.attr,console.log(this.d.attributes),this.setData(this.d)})}setData(t){this.myform.patchValue({deviceName:t.name,identifier:t.uniqueid,group:t.groupid,phone:t.phone,model:t.model,contact:t.contact,category:t.category,disabled:t.disabled}),this.createdBy=t.created_by,this.setAttributes()}setAttributes(){let t=this.myform.controls.attributes;this.d.attributes.forEach(e=>{t.push(this.fb.group(e))})}assignAttributes(){return this.fb.group({name:[""],value:[""]})}get fArray(){return this.myform.get("attributes")}addassignAttributes(){this.fArray.push(this.assignAttributes())}removeAttributes(t){this.myform.get("attributes").removeAt(t)}openSnackBar(){this.snackBar.open("Updated added!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}goBack(){this.router.navigate(["/admin/traccar/devices/list"])}updateDevice(){this.submitted=!0,this.myform.invalid||(this.myform.value.attributes.forEach(t=>{this.object[t.name]=t.value,console.log(this.myform.value.attributes)}),this.myform.value.attributes=this.object,this.userData=JSON.parse(localStorage.getItem("userData")),this.myform.value.updated_by=this.userData.id,this.myform.value.created_by=this.createdBy,this.myform.value.updated_time=new Date,console.log(this.myform.value),this.deviceService.updateDevice(this.Id,this.myform.value).subscribe(t=>{this.openSnackBar(),this.router.navigate(["/admin/traccar/devices/list"])}))}}return t.\u0275fac=function(e){return new(e||t)(l.Zb(a.e),l.Zb(n.c),l.Zb(d.a),l.Zb(n.a),l.Zb(u.a),l.Zb(f.a))},t.\u0275cmp=l.Tb({type:t,selectors:[["app-device-edit"]],decls:58,vars:6,consts:[[1,"customStyle"],["mat-button","",1,"mat-primary",3,"click"],[1,"title-style"],[3,"formGroup"],[1,"main"],[1,"mainContent"],[1,"full"],["trim","blur","matInput","","placeholder","Name","formControlName","deviceName","autocomplete","off","required",""],["matInput","","placeholder","Identifier","formControlName","identifier","autocomplete","off","required",""],[1,"optionalContent"],[1,"example-headers-align"],["hideToggle","",3,"expanded","opened"],["required","",1,"half"],["formControlName","group"],[3,"value",4,"ngFor","ngForOf"],["formControlName","category"],[1,"half"],["matInput","","placeholder","Phone","formControlName","phone","autocomplete","off"],["matInput","","placeholder","Model","formControlName","model","autocomplete","off"],["matInput","","placeholder","Contact","formControlName","contact","autocomplete","off"],[1,"checkbox"],["formControlName","disabled","labelPosition","before",1,"checkbox"],["formArrayName","attributes",4,"ngFor","ngForOf"],[3,"click"],[1,"button"],["mat-stroked-button","","color","primary",1,"btn-block",3,"click"],[3,"value"],["formArrayName","attributes"],[3,"formArrayName"],["trim","blur","matInput","","placeholder","Name","formControlName","name","autocomplete","off",3,"id"],["trim","blur","matInput","","placeholder","Value","formControlName","value","autocomplete","off",3,"id"],["class","delAssigns",4,"ngIf"],[1,"delAssigns"]],template:function(t,e){1&t&&(l.fc(0,"mat-card",0),l.fc(1,"button",1),l.nc("click",(function(){return e.goBack()})),l.fc(2,"mat-icon"),l.Qc(3,"arrow_back"),l.ec(),l.ec(),l.fc(4,"div",2),l.fc(5,"mat-card-title"),l.Qc(6,"Device Update Form"),l.ec(),l.ec(),l.fc(7,"mat-card-content"),l.fc(8,"form",3),l.fc(9,"div",4),l.fc(10,"div",5),l.fc(11,"mat-form-field",6),l.ac(12,"input",7),l.ec(),l.fc(13,"mat-form-field",6),l.ac(14,"input",8),l.ec(),l.ec(),l.fc(15,"div",9),l.fc(16,"mat-accordion",10),l.fc(17,"mat-expansion-panel",11),l.nc("opened",(function(){return e.setStep(1)})),l.fc(18,"mat-expansion-panel-header"),l.fc(19,"mat-panel-title"),l.fc(20,"mat-icon"),l.Qc(21,"add"),l.ec(),l.Qc(22," Extra "),l.ec(),l.ec(),l.fc(23,"mat-form-field",12),l.fc(24,"mat-label"),l.Qc(25,"Group"),l.ec(),l.fc(26,"mat-select",13),l.Pc(27,fe,2,2,"mat-option",14),l.ec(),l.ec(),l.fc(28,"mat-form-field",12),l.fc(29,"mat-label"),l.Qc(30,"Category"),l.ec(),l.fc(31,"mat-select",15),l.Pc(32,me,2,2,"mat-option",14),l.ec(),l.ec(),l.fc(33,"mat-form-field",16),l.ac(34,"input",17),l.ec(),l.fc(35,"mat-form-field",16),l.ac(36,"input",18),l.ec(),l.fc(37,"mat-form-field",16),l.ac(38,"input",19),l.ec(),l.fc(39,"span",20),l.fc(40,"mat-checkbox",21),l.Qc(41," Disabled "),l.ec(),l.ec(),l.ec(),l.ec(),l.fc(42,"mat-accordion",10),l.fc(43,"mat-expansion-panel",11),l.nc("opened",(function(){return e.setStep(2)})),l.fc(44,"mat-expansion-panel-header"),l.fc(45,"mat-panel-title"),l.fc(46,"mat-icon"),l.Qc(47,"add"),l.ec(),l.Qc(48," Attributes "),l.ec(),l.ec(),l.Pc(49,pe,7,4,"div",22),l.fc(50,"button",23),l.nc("click",(function(){return e.addassignAttributes()})),l.fc(51,"mat-icon"),l.Qc(52,"add"),l.ec(),l.ec(),l.ec(),l.ec(),l.ec(),l.ec(),l.ec(),l.ec(),l.fc(53,"mat-card-actions",24),l.fc(54,"button",25),l.nc("click",(function(){return e.updateDevice()})),l.Qc(55," Update "),l.ec(),l.fc(56,"p"),l.Qc(57,"Note: Field marked with * is Mandatory"),l.ec(),l.ec(),l.ec()),2&t&&(l.Ob(8),l.yc("formGroup",e.myform),l.Ob(9),l.yc("expanded",1===e.step),l.Ob(10),l.yc("ngForOf",e.groups),l.Ob(5),l.yc("ngForOf",e.categories),l.Ob(11),l.yc("expanded",2===e.step),l.Ob(6),l.yc("ngForOf",e.myform.get("attributes").controls))},directives:[m.a,D.b,g.a,m.f,m.c,a.t,a.n,a.g,h.c,p.b,a.c,a.m,a.f,a.r,b.a,b.c,b.d,b.e,h.g,v.a,i.l,y.a,m.b,C.o,a.d,i.m],styles:["mat-card[_ngcontent-%COMP%]{width:50%;top:0}.customStyle[_ngcontent-%COMP%]{border-radius:10px 10px 10px 10px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{margin-top:-4%;color:#1a237e;text-align:center!important}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.mat-stroked-button[_ngcontent-%COMP%]{width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}.button[_ngcontent-%COMP%]{margin-top:100px}.half[_ngcontent-%COMP%]{width:40%}.delAssigns[_ngcontent-%COMP%]{margin-top:25px}a[_ngcontent-%COMP%]{cursor:pointer}.forcheckbox[_ngcontent-%COMP%]{margin-right:10px}"]}),t})(),canActivate:[s.a],data:{roles:"device_edit"}}];let ge=(()=>{class t{}return t.\u0275mod=l.Xb({type:t}),t.\u0275inj=l.Wb({factory:function(e){return new(e||t)},imports:[[n.f.forChild(be)],n.f]}),t})(),ve=(()=>{class t{}return t.\u0275mod=l.Xb({type:t}),t.\u0275inj=l.Wb({factory:function(e){return new(e||t)},imports:[[i.c,ge,r.a,a.q,a.i,o.b]]}),t})()},XCAU:function(t,e,c){"use strict";c.d(e,"a",(function(){return n}));var i=c("2Vo4"),a=c("AytR"),r=c("fXoL"),o=c("tk/3");let n=(()=>{class t{constructor(t){this.http=t,this.url=a.a.apiUrl+"/device/",this.importDataSent=new i.a(""),this.importDataCatch=this.importDataSent.asObservable(),this.importErrorSent=new i.a(""),this.importErrorCatch=this.importErrorSent.asObservable()}importDataExchange(t){this.importDataSent.next(t)}importErrorExchange(t){this.importErrorSent.next(t)}getAllDevices(){return this.http.get(this.url+"/listDevices")}addDevice(t){return this.http.post(this.url+"/addDevice",t)}getAllDevice(){return this.http.get(this.url+"/listDevice")}getDeviceById(t){return this.http.get(this.url+t+"/editDevice")}updateDevice(t,e){return this.http.put(this.url+t+"/updateDevice",e)}deleteDevice(t){return this.http.delete(this.url+t+"/deleteDevice")}addDeviceWithUser(t){return this.http.post(this.url+"/addUserDevice",t)}deleteUserDevice(t){return this.http.post(this.url+"/deleteUserDevice",t)}getDeviceByUserId(t){return this.http.get(this.url+t+"/getDeviceByUser")}getDeviceByAllUser(){return this.http.get(this.url+"/getDeviceByAllUser")}addDeviceWithCustomer(t){return this.http.post(this.url+"/addCustomerDevice",t)}deleteCustomerDevice(t){return this.http.post(this.url+"/deleteCustomerDevice",t)}getDeviceByCustomerId(t){return this.http.get(this.url+t+"/getDeviceByCustomerId")}getAllPostion(){return this.http.get(this.url+"/listPositions")}getHistoryPostionBySearch(t){return this.http.post(this.url+"/listHistoryPositions",t)}getAllPostionBySearch(t){return this.http.post(this.url+"/listAllPositions",t)}getAllEvents(){return this.http.get(this.url+"/listEvents")}getDeviceWithPositionById(t){return this.http.get(this.url+t+"/getDeviceWithPositionById")}getDeviceCurrentPositionById(t){return this.http.get(this.url+t+"/getDeviceCurrentPositionById")}getMovingPosition(t){return this.http.post(this.url+"/movingPositions",t)}getEventPositionById(t){return this.http.get(this.url+t+"/getEventPositionById")}}return t.\u0275fac=function(e){return new(e||t)(r.jc(o.b))},t.\u0275prov=r.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"1jOF":function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));var i=c("AytR"),o=c("fXoL"),a=c("tk/3");let r=(()=>{class e{constructor(e){this.http=e,this.url=i.a.apiUrl+"/driver/"}addDriver(e){return this.http.post(this.url+"/addDriver",e)}getAllDriver(){return this.http.get(this.url+"/listDriver")}getDriverById(e){return this.http.get(this.url+e+"/editDriver")}updateDriver(e,t){return this.http.put(this.url+e+"/updateDriver",t)}deleteDriver(e){return this.http.delete(this.url+e+"/deleteDriver")}addDriverWithDevice(e){return this.http.post(this.url+"/addDeviceDriver",e)}deleteDeviceDriver(e){return this.http.post(this.url+"/deleteDeviceDriver",e)}getDriverByDeviceId(e){return this.http.get(this.url+e+"/getDriverByDevice")}addDriverWithGroup(e){return this.http.post(this.url+"/addGroupDriver",e)}deleteGroupDriver(e){return this.http.post(this.url+"/deleteGroupDriver",e)}getDriverByGroupId(e){return this.http.get(this.url+e+"/getDriverByGroup")}addDriverWithUser(e){return this.http.post(this.url+"/addUserDriver",e)}deleteUserDriver(e){return this.http.post(this.url+"/deleteUserDriver",e)}getDriverByUserId(e){return this.http.get(this.url+e+"/getDriverByUser")}getAllCustomerDriver(){return this.http.get(this.url+"/listCustomerDriver")}getDriverByCustomerId(e){return this.http.get(this.url+e+"/getDriverByCustomerId")}addDriverWithCustomer(e){return this.http.post(this.url+"/addCustomerDriver",e)}deleteCustomerDriver(e){return this.http.post(this.url+"/deleteCustomerDriver",e)}}return e.\u0275fac=function(t){return new(t||e)(o.jc(a.b))},e.\u0275prov=o.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"6yIB":function(e,t,c){"use strict";c.r(t),c.d(t,"UsersModule",(function(){return rc}));var i=c("ofXK"),o=c("3Pt+"),a=c("jAig"),r=c("KUt4"),s=c("YUcS"),n=c("tyNb"),l=c("Cp0R"),m=c("fXoL");function u(e){return t=>{if(null===t.value||0===t.value.length)return null;const c=t.root.get(e);if(c){const e=c.valueChanges.subscribe(()=>{t.updateValueAndValidity(),e.unsubscribe()})}return c&&c.value!==t.value?{compare:!0}:null}}var d=c("CjG4"),f=c("dNgK"),h=c("Wp6s"),p=c("kmnG"),g=c("qFsG"),b=c("bTqV");function v(e,t){1&e&&(m.fc(0,"div"),m.fc(1,"p",9),m.Oc(2," Current Password Not Valid"),m.ec(),m.ec())}function O(e,t){1&e&&(m.fc(0,"div"),m.fc(1,"p",9),m.Oc(2," Has Been Changed Successfully"),m.ec(),m.ec())}let C=(()=>{class e{constructor(e,t,c){this.userService=e,this.fb=t,this.snackBar=c}ngOnInit(){this.myform=this.fb.group({oldPassword:["",[o.s.required]],password:["",[o.s.required]],confirm_password:["",[o.s.required,u("password")]],user_id:[""]})}changePassword(){this.userData=JSON.parse(localStorage.getItem("userData")),this.myform.value.user_id=this.userData.id,this.userService.changePassword(this.myform.value).subscribe(e=>{this.openSnackBar()},e=>{this.show1=!0}),console.log(this.myform.value)}openSnackBar(){this.snackBar.open("Reset Successfully!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(d.a),m.Zb(o.e),m.Zb(f.a))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-change-password"]],decls:21,vars:4,consts:[[1,"customStyle"],[1,"title-style"],[3,"formGroup"],[1,"full"],["matInput","","type","password","placeholder","Current Password","formControlName","oldPassword","autocomplete","off","required",""],["matInput","","type","password","placeholder","New Password","formControlName","password","autocomplete","off","required",""],["type","password","matInput","","placeholder","Confirm New Password","formControlName","confirm_password","autocomplete","off","compare","password","required",""],[4,"ngIf"],["mat-stroked-button","","color","primary",1,"btn-block",3,"disabled","click"],[1,"red"]],template:function(e,t){1&e&&(m.fc(0,"mat-card",0),m.fc(1,"div",1),m.fc(2,"mat-card-title"),m.Oc(3,"Password Change Form"),m.ec(),m.ec(),m.fc(4,"mat-card-content"),m.fc(5,"form",2),m.fc(6,"mat-form-field",3),m.ac(7,"input",4),m.ec(),m.fc(8,"mat-form-field",3),m.ac(9,"input",5),m.ec(),m.fc(10,"mat-form-field",3),m.ac(11,"input",6),m.fc(12,"mat-error"),m.Oc(13," password does not match "),m.ec(),m.ec(),m.ec(),m.ec(),m.Nc(14,v,3,0,"div",7),m.fc(15,"mat-card-actions"),m.fc(16,"button",8),m.nc("click",(function(){return t.changePassword()})),m.Oc(17," Changed "),m.ec(),m.fc(18,"p"),m.Oc(19,"Note: Field marked with * is Mandatory"),m.ec(),m.ec(),m.Nc(20,O,3,0,"div",7),m.ec()),2&e&&(m.Ob(5),m.xc("formGroup",t.myform),m.Ob(9),m.xc("ngIf",t.show1),m.Ob(2),m.xc("disabled",!t.myform.valid),m.Ob(4),m.xc("ngIf",t.show))},directives:[h.a,h.f,h.c,o.t,o.n,o.g,p.c,g.b,o.c,o.m,o.f,o.r,p.b,i.l,h.b,b.b],styles:[".customStyle[_ngcontent-%COMP%]{border-radius:10px 10px 10px 10px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important;margin-bottom:15px}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.mat-stroked-button[_ngcontent-%COMP%]{width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}.red[_ngcontent-%COMP%]{color:#00f;font-size:16px}.reda[_ngcontent-%COMP%]{color:red}p[_ngcontent-%COMP%]{font-size:10px}.dd[_ngcontent-%COMP%]{width:120px;height:25px;margin-left:10px;margin-top:5px;margin-bottom:10px;text-align:left}a[_ngcontent-%COMP%]{cursor:pointer;margin-top:20px}.closeButton[_ngcontent-%COMP%]{width:30px;height:30px;margin-left:5px;cursor:pointer}"]}),e})();var y=c("d3UM"),x=c("FKr1");function w(e,t){if(1&e&&(m.fc(0,"mat-option",13),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.xc("value",e.id),m.Ob(1),m.Rc(" ",e.name," (",e.email,") ")}}function D(e,t){1&e&&(m.fc(0,"div",16),m.Oc(1,"Password is required"),m.ec())}function S(e,t){if(1&e&&(m.fc(0,"div",14),m.Nc(1,D,2,0,"div",15),m.ec()),2&e){const e=m.rc();m.Ob(1),m.xc("ngIf",e.myform.get("password").errors.required)}}let k=(()=>{class e{constructor(e,t,c){this.userService=e,this.fb=t,this.snackBar=c,this.users=[],this.nameUser=[],this.submitted=!1}ngOnInit(){this.myform=this.fb.group({user_id:["",[o.s.required]],password:["",[o.s.required]],confirm_password:["",[o.s.required,u("password")]]}),this.getAllUser()}getAllUser(){this.userService.getAllUser().subscribe(e=>{this.users=e,this.nameUser=this.users})}filterUser(e){this.users=this.nameUser.filter(t=>t.fullName.toLowerCase().indexOf(e)>-1)}resetPassword(){this.myform.markAllAsTouched(),this.submitted=!0,this.myform.invalid||(this.userService.resetPassword(this.myform.value).subscribe(e=>{this.openSnackBar()}),console.log(this.myform.value))}openSnackBar(){this.snackBar.open("Reset Successfully!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(d.a),m.Zb(o.e),m.Zb(f.a))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-reset-password"]],decls:29,vars:3,consts:[[1,"customStyle"],[1,"title-style"],[3,"formGroup"],[1,"full"],["formControlName","user_id","required",""],["dl",""],["placeholder","search","autocomplete","off",1,"dd",3,"keyup"],[1,"closeButton",3,"click"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","password","placeholder","New Password","formControlName","password","autocomplete","off","required",""],["class","invalid-feedback",4,"ngIf"],["type","password","matInput","","placeholder","Confirm New Password","formControlName","confirm_password","required","","autocomplete","off","compare","password"],["mat-stroked-button","","color","primary",1,"btn-block",3,"click"],[3,"value"],[1,"invalid-feedback"],["class","reda",4,"ngIf"],[1,"reda"]],template:function(e,t){if(1&e){const e=m.gc();m.fc(0,"mat-card",0),m.fc(1,"div",1),m.fc(2,"mat-card-title"),m.Oc(3,"Password Reset Form"),m.ec(),m.ec(),m.fc(4,"mat-card-content"),m.fc(5,"form",2),m.fc(6,"mat-form-field",3),m.fc(7,"mat-label"),m.Oc(8,"User Email"),m.ec(),m.fc(9,"mat-select",4,5),m.fc(11,"input",6),m.nc("keyup",(function(e){return t.filterUser(e.target.value)})),m.ec(),m.fc(12,"a"),m.fc(13,"button",7),m.nc("click",(function(){return m.Fc(e),m.Dc(10).close()})),m.fc(14,"b"),m.Oc(15,"x"),m.ec(),m.ec(),m.ec(),m.Nc(16,w,2,3,"mat-option",8),m.ec(),m.ec(),m.fc(17,"mat-form-field",3),m.ac(18,"input",9),m.ec(),m.Nc(19,S,2,1,"div",10),m.fc(20,"mat-form-field",3),m.ac(21,"input",11),m.fc(22,"mat-error"),m.Oc(23," password does not match "),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(24,"mat-card-actions"),m.fc(25,"button",12),m.nc("click",(function(){return t.resetPassword()})),m.Oc(26," Reset "),m.ec(),m.fc(27,"p"),m.Oc(28,"Note: Field marked with * is Mandatory"),m.ec(),m.ec(),m.ec()}2&e&&(m.Ob(5),m.xc("formGroup",t.myform),m.Ob(11),m.xc("ngForOf",t.users),m.Ob(3),m.xc("ngIf",t.submitted&&t.myform.get("password").errors))},directives:[h.a,h.f,h.c,o.t,o.n,o.g,p.c,p.g,y.a,o.m,o.f,o.r,i.k,g.b,o.c,i.l,p.b,h.b,b.b,x.o],styles:[".customStyle[_ngcontent-%COMP%]{border-radius:10px 10px 10px 10px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important;margin-bottom:15px}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.mat-stroked-button[_ngcontent-%COMP%]{width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}.red[_ngcontent-%COMP%]{color:#00f;font-size:16px}.reda[_ngcontent-%COMP%]{color:red}p[_ngcontent-%COMP%]{font-size:10px}.dd[_ngcontent-%COMP%]{width:120px;height:25px;margin-left:10px;margin-top:5px;margin-bottom:10px;text-align:left}a[_ngcontent-%COMP%]{cursor:pointer;margin-top:20px}.closeButton[_ngcontent-%COMP%]{width:30px;height:30px;margin-left:5px;cursor:pointer}"]}),e})();var N=c("idFR"),P=c("M5z4"),_=c("XiUz"),I=c("/1cH"),M=c("NFeN"),A=c("7EHt"),R=c("bSwM"),B=c("MutI"),F=c("f0Cb");function U(e,t){if(1&e){const e=m.gc();m.fc(0,"mat-option",50),m.fc(1,"mat-list"),m.fc(2,"mat-list-item",47),m.nc("click",(function(){m.Fc(e);const c=t.$implicit;return m.rc().onChangeCustomer(c.customer_id)})),m.Oc(3),m.ec(),m.ac(4,"mat-divider"),m.ec(),m.ec()}if(2&e){const e=t.$implicit;m.xc("value",e.customer_id),m.Ob(3),m.Rc(" ",e.name,"(",e.customer_id,") ")}}function T(e,t){if(1&e&&(m.fc(0,"mat-option",50),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.xc("value",e.value),m.Ob(1),m.Qc(" ",e.value," ")}}function Z(e,t){if(1&e&&(m.fc(0,"mat-option",50),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.xc("value",e.id),m.Ob(1),m.Qc(" ",e.name," ")}}function L(e,t){if(1&e&&(m.fc(0,"mat-option",50),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.xc("value",e.id),m.Ob(1),m.Qc(" ",e.value," ")}}function $(e,t){if(1&e&&m.ac(0,"img",51),2&e){const e=m.rc();m.xc("src",e.imgurl,m.Gc)}}function j(e,t){if(1&e&&(m.fc(0,"mat-option",50),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.xc("value",e.id),m.Ob(1),m.Qc(" ",e.value," ")}}function q(e,t){if(1&e&&(m.fc(0,"mat-option",50),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.xc("value",e.id),m.Ob(1),m.Qc(" ",e.value," ")}}function z(e,t){if(1&e&&(m.fc(0,"div",52),m.fc(1,"div",53),m.fc(2,"mat-form-field",5),m.ac(3,"input",54),m.ec(),m.fc(4,"mat-form-field",5),m.ac(5,"input",55),m.ec(),m.ec(),m.ec()),2&e){const e=t.index;m.Ob(1),m.xc("formArrayName",e)}}let G=(()=>{class e{constructor(e,t,c,i,o,a){this.fb=e,this.router=t,this.snackBar=c,this.userService=i,this.rolesService=o,this.customerService=a,this.imgurl=null,this.fileUpload=null,this.object={},this.fieldArray=[],this.submitted=!1,this.mapTypes=[{id:1,value:"OpenStree Map"},{id:2,value:"Bing Map"},{id:3,value:"Baidu Map"}],this.formats=[{id:1,value:"Decimal Degrees"},{id:2,value:"Degress Decimal Minutes"},{id:3,value:"Degrees Minutes Seconds"}],this.states=[{id:1,value:"Active"},{id:0,value:"Inactive"}],this.roles=[{id:1,value:"Admin"},{id:0,value:"User"}],this.gend=[{value:"Male"},{value:"Female"}],this.step=0}setStep(e){this.step=e}ngOnInit(){this.myform=this.fb.group({firstName:["",[o.s.required]],lastName:["",[o.s.required]],mobile:["",[o.s.required]],email:["",[o.s.required,o.s.email]],customer_id:[],address:[""],gender:[""],userRole:["",[o.s.required]],image:[""],password:["",[o.s.required]],confirmPassword:["",[o.s.required,u("password")]],mapLayer:[""],latitude:[""],longitude:[""],zoom:[],hourFormat:[],cordinatesFormat:[""],poiLayer:[""],disabled:[],admin:[],readonly:[],deviceReadonly:[],limitCommands:[],expiration:[],deviceLimit:[],userLimit:[],token:[],created_by:[""],status:[,[o.s.required]],attributes:this.fb.array([])}),this.getAllRole()}assignAttributes(){return this.fb.group({name:[""],value:[""]})}get fArray(){return this.myform.get("attributes")}addassignTicket(){this.fArray.push(this.assignAttributes())}getAllRole(){this.rolesService.getAllRole().subscribe(e=>{this.userRoles=e,this.filterRoles=this.userRoles})}applyFilter(e){this.userRoles=this.filterRoles.filter(t=>t.name.toLowerCase().indexOf(e)>-1)}onFileSelected(e){if(e.target.files.length>0){this.images=e.target.files[0];const t=new FileReader;t.onload=e=>{this.imgurl=e.target.result},t.readAsDataURL(this.images)}}openSnackBar(){this.snackBar.open("Successfully added!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}errorMessage(){this.snackBar.open("Something is error!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}applySearch(e){this.customerService.customerSearch({name:e}).subscribe(e=>{this.customerData=e,console.log(this.customerData)})}onChangeCustomer(e){this.myform.value.customer_id=e}addUser(){if(this.myform.markAllAsTouched(),this.submitted=!0,this.myform.invalid)return;console.log(this.myform.value.attributes),this.myform.value.attributes&&this.myform.value.attributes.forEach(e=>{this.object[e.name]=e.value}),this.myform.value.attributes=this.object;const e=new FormData;e.append("image",this.images),e.append("firstName",this.myform.get("firstName").value),e.append("lastName",this.myform.get("lastName").value),e.append("mobile",this.myform.get("mobile").value),e.append("email",this.myform.get("email").value),e.append("customer_id",this.myform.value.customer_id),e.append("password",this.myform.get("password").value),e.append("userRole",this.myform.get("userRole").value),e.append("address",this.myform.get("address").value),e.append("gender",this.myform.get("gender").value),e.append("status",this.myform.get("status").value),e.append("mapLayer",this.myform.get("mapLayer").value),e.append("latitude",this.myform.get("latitude").value),e.append("longitude",this.myform.get("longitude").value),e.append("zoom",this.myform.get("zoom").value),e.append("hourFormat",this.myform.get("hourFormat").value),e.append("cordinatesFormat",this.myform.get("cordinatesFormat").value),e.append("poiLayer",this.myform.get("poiLayer").value),e.append("disabled",this.myform.get("disabled").value),e.append("admin",this.myform.get("admin").value),e.append("readonly",this.myform.get("readonly").value),e.append("deviceReadonly",this.myform.get("deviceReadonly").value),e.append("expiration",this.myform.get("expiration").value),e.append("deviceLimit",this.myform.get("deviceLimit").value),e.append("userLimit",this.myform.get("userLimit").value),e.append("attributes",JSON.stringify(this.object)),e.append("token",this.myform.get("token").value),e.append("created_by",this.myform.value.created_by),console.log(this.myform.value),this.userService.addUser(e).subscribe(e=>{this.openSnackBar(),this.router.navigate(["admin/authorization/users/list"])},e=>{this.errorMessage()})}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(o.e),m.Zb(n.c),m.Zb(f.a),m.Zb(d.a),m.Zb(N.a),m.Zb(P.a))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-user-add"]],decls:130,vars:14,consts:[[1,"customStyle"],[1,"title-style"],[3,"formGroup"],["fxLayout","row","fxLayout.xs","column",1,"main"],["fxFlex","50%"],[1,"half"],["trim","blur","matInput","","placeholder","First Name","formControlName","firstName","autocomplete","off","required",""],["trim","blur","matInput","","placeholder","Last Name","formControlName","lastName","autocomplete","off","required",""],["trim","blur","matInput","","placeholder","Mobile","formControlName","mobile","autocomplete","off","required",""],["trim","blur","matInput","","placeholder","Email","formControlName","email","autocomplete","off","required",""],["matInput","","placeholder","Customer","formControlName","customer_id",3,"matAutocomplete","keyup"],["align","end"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","password","placeholder","Password","formControlName","password","autocomplete","off","required",""],["type","password","matInput","","placeholder","Confirm Password","formControlName","confirmPassword","autocomplete","off","compare","password","required",""],["formControlName","gender"],["formControlName","userRole","required",""],["sl",""],["matInput","","placeholder","search","autocomplete","off",1,"filterBox",3,"keyup"],[1,"closeButton",3,"click"],["formControlName","status","required",""],[1,"full"],["matInput","","placeholder","Address","formControlName","address","autocomplete","off"],["type","hide","style","width:100px;height:50px",3,"src",4,"ngIf"],[1,"image"],["type","file","formControlName","image","enctype","multipart/form-data","max-size","2",3,"change"],[1,"example-headers-align"],["hideToggle","",3,"expanded","opened"],["required","",1,"half"],["formControlName","mapLayer"],["matInput","","placeholder","Latitude","formControlName","latitude","autocomplete","off"],["matInput","","placeholder","Longitude","formControlName","longitude","autocomplete","off"],["matInput","","placeholder","Zoom","formControlName","zoom","autocomplete","off"],["formControlName","cordinatesFormat"],["matInput","","placeholder","POI Layer","formControlName","poiLayer","autocomplete","off"],["formControlName","hourFormat","labelPosition","before",1,"checkbox"],["formControlName","disabled","labelPosition","before",1,"checkbox"],["formControlName","admin","labelPosition","before",1,"checkbox"],["formControlName","readonly","labelPosition","before",1,"checkbox"],["formControlName","deviceReadonly","labelPosition","before",1,"checkbox"],["formControlName","limitCommands","labelPosition","before",1,"checkbox"],["matInput","","placeholder","Expiration","formControlName","expiration","autocomplete","off"],["matInput","","placeholder","Device Limit","formControlName","deviceLimit","autocomplete","off"],["matInput","","placeholder","User Limit","formControlName","userLimit","autocomplete","off"],["matInput","","placeholder","Token","formControlName","token","autocomplete","off"],["formArrayName","attributes",4,"ngFor","ngForOf"],[3,"click"],[1,"button"],["mat-stroked-button","","color","primary",1,"btn-block",3,"disabled","click"],[3,"value"],["type","hide",2,"width","100px","height","50px",3,"src"],["formArrayName","attributes"],[3,"formArrayName"],["trim","blur","matInput","","placeholder","Name","formControlName","name","autocomplete","off"],["trim","blur","matInput","","placeholder","Value","formControlName","value","autocomplete","off"]],template:function(e,t){if(1&e){const e=m.gc();m.fc(0,"mat-card",0),m.fc(1,"div",1),m.fc(2,"mat-card-title"),m.Oc(3,"User Registration Form"),m.ec(),m.ec(),m.fc(4,"mat-card-content"),m.fc(5,"form",2),m.fc(6,"div",3),m.fc(7,"div",4),m.fc(8,"mat-form-field",5),m.ac(9,"input",6),m.ec(),m.fc(10,"mat-form-field",5),m.ac(11,"input",7),m.ec(),m.fc(12,"mat-form-field",5),m.ac(13,"input",8),m.ec(),m.fc(14,"mat-form-field",5),m.ac(15,"input",9),m.ec(),m.fc(16,"mat-form-field",5),m.fc(17,"input",10),m.nc("keyup",(function(e){return t.applySearch(e.target.value)})),m.ec(),m.fc(18,"mat-hint",11),m.Oc(19,"Please input customer id"),m.ec(),m.ec(),m.fc(20,"mat-autocomplete",null,12),m.Nc(22,U,5,3,"mat-option",13),m.ec(),m.fc(23,"mat-form-field",5),m.ac(24,"input",14),m.ec(),m.fc(25,"mat-form-field",5),m.ac(26,"input",15),m.fc(27,"mat-error"),m.Oc(28," password does not match "),m.ec(),m.ec(),m.fc(29,"mat-form-field",5),m.fc(30,"mat-label"),m.Oc(31,"Gender"),m.ec(),m.fc(32,"mat-select",16),m.Nc(33,T,2,2,"mat-option",13),m.ec(),m.ec(),m.fc(34,"mat-form-field",5),m.fc(35,"mat-label"),m.Oc(36,"User Role"),m.ec(),m.fc(37,"mat-select",17,18),m.fc(39,"input",19),m.nc("keyup",(function(e){return t.applyFilter(e.target.value)})),m.ec(),m.fc(40,"a"),m.fc(41,"mat-icon",20),m.nc("click",(function(){return m.Fc(e),m.Dc(38).close()})),m.Oc(42,"clear"),m.ec(),m.ec(),m.Nc(43,Z,2,2,"mat-option",13),m.ec(),m.ec(),m.fc(44,"mat-form-field",5),m.fc(45,"mat-label"),m.Oc(46,"Status"),m.ec(),m.fc(47,"mat-select",21),m.Nc(48,L,2,2,"mat-option",13),m.ec(),m.ec(),m.fc(49,"mat-form-field",22),m.ac(50,"textarea",23),m.ec(),m.fc(51,"div",22),m.Nc(52,$,1,1,"img",24),m.fc(53,"mat-label",25),m.Oc(54,"Image "),m.ec(),m.fc(55,"input",26),m.nc("change",(function(e){return t.onFileSelected(e)})),m.ec(),m.ec(),m.ec(),m.fc(56,"div",4),m.fc(57,"mat-accordion",27),m.fc(58,"mat-expansion-panel",28),m.nc("opened",(function(){return t.setStep(1)})),m.fc(59,"mat-expansion-panel-header"),m.fc(60,"mat-panel-title"),m.fc(61,"mat-icon"),m.Oc(62,"add"),m.ec(),m.Oc(63," Preferences "),m.ec(),m.ec(),m.fc(64,"mat-form-field",29),m.fc(65,"mat-label"),m.Oc(66,"Map Layer"),m.ec(),m.fc(67,"mat-select",30),m.Nc(68,j,2,2,"mat-option",13),m.ec(),m.ec(),m.fc(69,"mat-form-field",5),m.ac(70,"input",31),m.ec(),m.fc(71,"mat-form-field",5),m.ac(72,"input",32),m.ec(),m.fc(73,"mat-form-field",5),m.ac(74,"input",33),m.ec(),m.fc(75,"mat-form-field",29),m.fc(76,"mat-label"),m.Oc(77,"Coordinates Format"),m.ec(),m.fc(78,"mat-select",34),m.Nc(79,q,2,2,"mat-option",13),m.ec(),m.ec(),m.fc(80,"mat-form-field",5),m.ac(81,"input",35),m.ec(),m.fc(82,"mat-checkbox",36),m.Oc(83," 12 Hour Format "),m.ec(),m.ec(),m.ec(),m.fc(84,"mat-accordion",27),m.fc(85,"mat-expansion-panel",28),m.nc("opened",(function(){return t.setStep(2)})),m.fc(86,"mat-expansion-panel-header"),m.fc(87,"mat-panel-title"),m.fc(88,"mat-icon"),m.Oc(89,"add"),m.ec(),m.Oc(90," Permissions "),m.ec(),m.ec(),m.fc(91,"div"),m.fc(92,"mat-checkbox",37),m.Oc(93," Disabled "),m.ec(),m.ec(),m.fc(94,"div"),m.fc(95,"mat-checkbox",38),m.Oc(96," Admin "),m.ec(),m.ec(),m.fc(97,"div"),m.fc(98,"mat-checkbox",39),m.Oc(99," Readonly "),m.ec(),m.ec(),m.fc(100,"div"),m.fc(101,"mat-checkbox",40),m.Oc(102," Device Readonly "),m.ec(),m.ec(),m.fc(103,"div"),m.fc(104,"mat-checkbox",41),m.Oc(105," Limit Commands "),m.ec(),m.ec(),m.fc(106,"mat-form-field",5),m.ac(107,"input",42),m.ec(),m.fc(108,"mat-form-field",5),m.ac(109,"input",43),m.ec(),m.fc(110,"mat-form-field",5),m.ac(111,"input",44),m.ec(),m.fc(112,"mat-form-field",5),m.ac(113,"input",45),m.ec(),m.ec(),m.ec(),m.fc(114,"mat-accordion",27),m.fc(115,"mat-expansion-panel",28),m.nc("opened",(function(){return t.setStep(3)})),m.fc(116,"mat-expansion-panel-header"),m.fc(117,"mat-panel-title"),m.fc(118,"mat-icon"),m.Oc(119,"add"),m.ec(),m.Oc(120," Attributes "),m.ec(),m.ec(),m.Nc(121,z,6,1,"div",46),m.fc(122,"button",47),m.nc("click",(function(){return t.addassignTicket()})),m.fc(123,"mat-icon"),m.Oc(124,"add"),m.ec(),m.ec(),m.ec(),m.ec(),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(125,"mat-card-actions",48),m.fc(126,"button",49),m.nc("click",(function(){return t.addUser()})),m.Oc(127," Submit "),m.ec(),m.fc(128,"p"),m.Oc(129,"Note: Field marked with * is Mandatory"),m.ec(),m.ec(),m.ec()}if(2&e){const e=m.Dc(21);m.Ob(5),m.xc("formGroup",t.myform),m.Ob(12),m.xc("matAutocomplete",e),m.Ob(5),m.xc("ngForOf",t.customerData),m.Ob(11),m.xc("ngForOf",t.gend),m.Ob(10),m.xc("ngForOf",t.userRoles),m.Ob(5),m.xc("ngForOf",t.states),m.Ob(4),m.xc("ngIf",t.imgurl),m.Ob(6),m.xc("expanded",1===t.step),m.Ob(10),m.xc("ngForOf",t.mapTypes),m.Ob(11),m.xc("ngForOf",t.formats),m.Ob(6),m.xc("expanded",2===t.step),m.Ob(30),m.xc("expanded",3===t.step),m.Ob(6),m.xc("ngForOf",t.myform.get("attributes").controls),m.Ob(5),m.xc("disabled",!t.myform.valid)}},directives:[h.a,h.f,h.c,o.t,o.n,o.g,_.b,_.a,p.c,g.b,o.c,o.m,o.f,o.r,I.c,p.f,I.a,i.k,p.b,p.g,y.a,M.a,i.l,A.a,A.c,A.d,A.e,R.a,h.b,b.b,x.o,B.a,B.b,F.a,o.d],styles:["mat-card[_ngcontent-%COMP%]{width:90%;top:0}.main[_ngcontent-%COMP%]{width:100%}.mainContent[_ngcontent-%COMP%]{width:50%}.optionalContent[_ngcontent-%COMP%]{width:50%;margin-top:-370px;float:right}.customStyle[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.mat-stroked-button[_ngcontent-%COMP%]{width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}.image[_ngcontent-%COMP%]{margin-right:10px}.checkbox[_ngcontent-%COMP%]{margin-left:15px}mat-grid-tile[_ngcontent-%COMP%]{background:#add8e6}.button[_ngcontent-%COMP%]{margin-top:35px}.filterBox[_ngcontent-%COMP%]{width:150px;height:25px;margin-left:10px;margin-top:5px;margin-bottom:5px;border-radius:10px 10px 10px 10px;border:2px solid #000}"]}),e})();function E(e,t){if(1&e&&(m.fc(0,"mat-option",45),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.xc("value",e.value),m.Ob(1),m.Qc(" ",e.value," ")}}function H(e,t){if(1&e&&(m.fc(0,"mat-option",45),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.xc("value",e.id),m.Ob(1),m.Qc(" ",e.name," ")}}function V(e,t){if(1&e){const e=m.gc();m.fc(0,"mat-option",45),m.fc(1,"mat-list"),m.fc(2,"mat-list-item",42),m.nc("click",(function(){m.Fc(e);const c=t.$implicit;return m.rc().onChangeCustomer(c.customer_id)})),m.Oc(3),m.ec(),m.ac(4,"mat-divider"),m.ec(),m.ec()}if(2&e){const e=t.$implicit;m.xc("value",e.customer_id),m.Ob(3),m.Rc(" ",e.name,"(",e.customer_id,") ")}}function Q(e,t){if(1&e&&(m.fc(0,"mat-option",45),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.xc("value",e.id),m.Ob(1),m.Qc(" ",e.value," ")}}function W(e,t){if(1&e&&(m.fc(0,"mat-option",45),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.xc("value",e.id),m.Ob(1),m.Qc(" ",e.value," ")}}function X(e,t){if(1&e&&(m.fc(0,"mat-option",45),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.xc("value",e.id),m.Ob(1),m.Qc(" ",e.value," ")}}function J(e,t){if(1&e&&(m.fc(0,"div",46),m.fc(1,"div",47),m.fc(2,"mat-form-field",5),m.ac(3,"input",48),m.ec(),m.fc(4,"mat-form-field",5),m.ac(5,"input",49),m.ec(),m.ec(),m.ec()),2&e){const e=t.index;m.Ob(1),m.xc("formArrayName",e)}}let K=(()=>{class e{constructor(e,t,c,i,o,a,r){this.fb=e,this.router=t,this.snackBar=c,this.userService=i,this.rolesService=o,this.route=a,this.customerService=r,this.customerIndex=[],this.imgurl=null,this.fileUpload=null,this.object={},this.fieldArray=[],this.submitted=!1,this.mapTypes=[{id:1,value:"OpenStree Map"},{id:2,value:"Bing Map"},{id:3,value:"Baidu Map"}],this.formats=[{id:1,value:"Decimal Degrees"},{id:2,value:"Degress Decimal Minutes"},{id:3,value:"Degrees Minutes Seconds"}],this.states=[{id:1,value:"Active"},{id:0,value:"Inactive"}],this.roles=[{id:1,value:"Admin"},{id:0,value:"User"}],this.gend=[{value:"Male"},{value:"Female"}],this.step=0}setStep(e){this.step=e}ngOnInit(){this.myform=this.fb.group({firstName:["",[o.s.required]],lastName:["",[o.s.required]],mobile:["",[o.s.required]],email:["",[o.s.required,o.s.email]],address:[""],customer_id:[""],gender:[""],userRole:["",[o.s.required]],mapLayer:[""],latitude:[""],longitude:[""],zoom:[],hourFormat:[],cordinatesFormat:[""],poiLayer:[],disabled:[],admin:[],readonly:[],deviceReadonly:[],limitCommands:[],expiration:[],deviceLimit:[],userLimit:[],token:[],created_by:[""],status:[,[o.s.required]],attributes:this.fb.array([])}),this.route.paramMap.subscribe(e=>{this.Id=e.get("id"),this.edit(this.Id)}),this.getAllRole(),this.getAllCustomer()}assignAttributes(){return this.fb.group({name:[""],value:[""]})}get fArray(){return this.myform.get("attributes")}addassignTicket(){this.fArray.push(this.assignAttributes())}getAllRole(){this.rolesService.getAllRole().subscribe(e=>{this.userRoles=e,this.filterRoles=this.userRoles})}openSnackBar(){this.snackBar.open("Successfully added!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}errorMessage(){this.snackBar.open("Something is error!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}edit(e){this.userService.getUserById(e).subscribe(e=>{this.d=e,console.log(this.d);var t=JSON.parse(this.d.attributes),c=Object.entries(t);this.attr=[],c.forEach(e=>{this.attr.push({name:e[0],value:e[1]})}),this.d.attributes=this.attr,console.log(this.d.attributes),this.setData(this.d)})}setData(e){this.myform.patchValue({firstName:e.first_name,lastName:e.last_name,mobile:e.phone,email:e.email,address:e.address,gender:e.gender,userRole:e.user_role,mapLayer:e.map,latitude:e.latitude,longitude:e.longitude,zoom:e.zoom,hourFormat:e.twelvehourformat,cordinatesFormat:e.cordinatesformat,poiLayer:e.poilayer,disabled:e.disabled,admin:e.administrator,readonly:e.readonly,deviceReadonly:e.devicereadonly,limitCommands:e.limitcommands,expiration:e.expirationtime,deviceLimit:e.devicelimit,userLimit:e.userlimit,token:e.token,status:e.status}),0==e.customer_id&&(this.customer_id=""),0!=e.customer_id&&(this.customer_id=e.customer_id),this.createdBy=e.created_by,this.image=e.image,this.password=e.password,this.setAttributes()}setAttributes(){let e=this.myform.controls.attributes;this.d.attributes.forEach(t=>{e.push(this.fb.group(t))})}applyFilter(e){this.userRoles=this.filterRoles.filter(t=>t.name.toLowerCase().indexOf(e)>-1)}getAllCustomer(){this.customerService.getAllCustomerList().subscribe(e=>{this.customers=e,console.log(this.customers),this.customers.forEach((e,t)=>{this.customerIndex[e.customer_id]=this.customers[t]})})}applySearch(e){this.customerService.customerSearch({name:e}).subscribe(e=>{this.customerData=e,console.log(this.customerData)})}onChangeCustomer(e){this.customer_id=e}updateUser(){this.myform.markAllAsTouched(),this.submitted=!0,this.myform.invalid||(this.myform.value.attributes.forEach(e=>{this.object[e.name]=e.value}),this.myform.value.attributes=this.object,this.userData=JSON.parse(localStorage.getItem("userData")),this.myform.value.updated_by=this.userData.id,this.myform.value.updated_time=new Date,this.myform.value.created_by=this.createdBy,this.myform.value.password=this.userData.password,this.myform.value.image=this.userData.image,this.myform.value.customer_id=this.customer_id,this.userService.updateUser(this.Id,this.myform.value).subscribe(e=>{this.openSnackBar(),this.router.navigate(["admin/authorization/users/list"])}))}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(o.e),m.Zb(n.c),m.Zb(f.a),m.Zb(d.a),m.Zb(N.a),m.Zb(n.a),m.Zb(P.a))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-user-edit"]],decls:119,vars:13,consts:[[1,"customStyle"],[1,"title-style"],[3,"formGroup"],["fxLayout","row","fxLayout.xs","column",1,"main"],["fxFlex","50%"],[1,"half"],["trim","blur","matInput","","placeholder","First Name","formControlName","firstName","autocomplete","off","required",""],["trim","blur","matInput","","placeholder","Last Name","formControlName","lastName","autocomplete","off","required",""],["trim","blur","matInput","","placeholder","Mobile","formControlName","mobile","autocomplete","off","required",""],["trim","blur","matInput","","placeholder","Email","formControlName","email","autocomplete","off","required",""],["formControlName","gender"],[3,"value",4,"ngFor","ngForOf"],["formControlName","userRole","required",""],["sl",""],["matInput","","placeholder","search","autocomplete","off",1,"filterBox",3,"keyup"],[1,"closeButton",3,"click"],["matInput","","placeholder","Customer","formControlName","customer_id",3,"matAutocomplete","ngModel","ngModelChange","keyup"],["align","end"],["auto","matAutocomplete"],["required","",1,"half"],["formControlName","status","required",""],[1,"full"],["matInput","","placeholder","Address","formControlName","address","autocomplete","off"],[1,"example-headers-align"],["hideToggle","",3,"expanded","opened"],["formControlName","mapLayer"],["matInput","","placeholder","Latitude","formControlName","latitude","autocomplete","off"],["matInput","","placeholder","Longitude","formControlName","longitude","autocomplete","off"],["matInput","","placeholder","Zoom","formControlName","zoom","autocomplete","off"],["formControlName","cordinatesFormat"],["matInput","","placeholder","POI Layer","formControlName","poiLayer","autocomplete","off"],["formControlName","hourFormat","labelPosition","before",1,"checkbox"],["formControlName","disabled","labelPosition","before",1,"checkbox"],["formControlName","admin","labelPosition","before",1,"checkbox"],["formControlName","readonly","labelPosition","before",1,"checkbox"],["formControlName","deviceReadonly","labelPosition","before",1,"checkbox"],["formControlName","limitCommands","labelPosition","before",1,"checkbox"],["matInput","","placeholder","Expiration","formControlName","expiration","autocomplete","off"],["matInput","","placeholder","Device Limit","formControlName","deviceLimit","autocomplete","off"],["matInput","","placeholder","User Limit","formControlName","userLimit","autocomplete","off"],["matInput","","placeholder","Token","formControlName","token","autocomplete","off"],["formArrayName","attributes",4,"ngFor","ngForOf"],[3,"click"],[1,"button"],["mat-stroked-button","","color","primary",1,"btn-block",3,"click"],[3,"value"],["formArrayName","attributes"],[3,"formArrayName"],["trim","blur","matInput","","placeholder","Name","formControlName","name","autocomplete","off"],["trim","blur","matInput","","placeholder","Value","formControlName","value","autocomplete","off"]],template:function(e,t){if(1&e){const e=m.gc();m.fc(0,"mat-card",0),m.fc(1,"div",1),m.fc(2,"mat-card-title"),m.Oc(3,"User Update Form"),m.ec(),m.ec(),m.fc(4,"mat-card-content"),m.fc(5,"form",2),m.fc(6,"div",3),m.fc(7,"div",4),m.fc(8,"mat-form-field",5),m.ac(9,"input",6),m.ec(),m.fc(10,"mat-form-field",5),m.ac(11,"input",7),m.ec(),m.fc(12,"mat-form-field",5),m.ac(13,"input",8),m.ec(),m.fc(14,"mat-form-field",5),m.ac(15,"input",9),m.ec(),m.fc(16,"mat-form-field",5),m.fc(17,"mat-label"),m.Oc(18,"Gender"),m.ec(),m.fc(19,"mat-select",10),m.Nc(20,E,2,2,"mat-option",11),m.ec(),m.ec(),m.fc(21,"mat-form-field",5),m.fc(22,"mat-label"),m.Oc(23,"User Role"),m.ec(),m.fc(24,"mat-select",12,13),m.fc(26,"input",14),m.nc("keyup",(function(e){return t.applyFilter(e.target.value)})),m.ec(),m.fc(27,"a"),m.fc(28,"mat-icon",15),m.nc("click",(function(){return m.Fc(e),m.Dc(25).close()})),m.Oc(29,"clear"),m.ec(),m.ec(),m.Nc(30,H,2,2,"mat-option",11),m.ec(),m.ec(),m.fc(31,"mat-form-field",5),m.fc(32,"input",16),m.nc("ngModelChange",(function(e){return t.customer_id=e}))("keyup",(function(e){return t.applySearch(e.target.value)})),m.ec(),m.fc(33,"mat-hint",17),m.Oc(34,"Please input customer id"),m.ec(),m.ec(),m.fc(35,"mat-autocomplete",null,18),m.Nc(37,V,5,3,"mat-option",11),m.ec(),m.fc(38,"mat-form-field",19),m.fc(39,"mat-label"),m.Oc(40,"Status"),m.ec(),m.fc(41,"mat-select",20),m.Nc(42,Q,2,2,"mat-option",11),m.ec(),m.ec(),m.fc(43,"mat-form-field",21),m.ac(44,"textarea",22),m.ec(),m.ec(),m.fc(45,"div",4),m.fc(46,"mat-accordion",23),m.fc(47,"mat-expansion-panel",24),m.nc("opened",(function(){return t.setStep(1)})),m.fc(48,"mat-expansion-panel-header"),m.fc(49,"mat-panel-title"),m.fc(50,"mat-icon"),m.Oc(51,"add"),m.ec(),m.Oc(52," Preferences "),m.ec(),m.ec(),m.fc(53,"mat-form-field",19),m.fc(54,"mat-label"),m.Oc(55,"Map Layer"),m.ec(),m.fc(56,"mat-select",25),m.Nc(57,W,2,2,"mat-option",11),m.ec(),m.ec(),m.fc(58,"mat-form-field",5),m.ac(59,"input",26),m.ec(),m.fc(60,"mat-form-field",5),m.ac(61,"input",27),m.ec(),m.fc(62,"mat-form-field",5),m.ac(63,"input",28),m.ec(),m.fc(64,"mat-form-field",19),m.fc(65,"mat-label"),m.Oc(66,"Coordinates Format"),m.ec(),m.fc(67,"mat-select",29),m.Nc(68,X,2,2,"mat-option",11),m.ec(),m.ec(),m.fc(69,"mat-form-field",5),m.ac(70,"input",30),m.ec(),m.fc(71,"mat-checkbox",31),m.Oc(72," 12 Hour Format "),m.ec(),m.ec(),m.ec(),m.fc(73,"mat-accordion",23),m.fc(74,"mat-expansion-panel",24),m.nc("opened",(function(){return t.setStep(2)})),m.fc(75,"mat-expansion-panel-header"),m.fc(76,"mat-panel-title"),m.fc(77,"mat-icon"),m.Oc(78,"add"),m.ec(),m.Oc(79," Permissions "),m.ec(),m.ec(),m.fc(80,"div"),m.fc(81,"mat-checkbox",32),m.Oc(82," Disabled "),m.ec(),m.ec(),m.fc(83,"div"),m.fc(84,"mat-checkbox",33),m.Oc(85," Admin "),m.ec(),m.ec(),m.fc(86,"div"),m.fc(87,"mat-checkbox",34),m.Oc(88," Readonly "),m.ec(),m.ec(),m.fc(89,"div"),m.fc(90,"mat-checkbox",35),m.Oc(91," Device Readonly "),m.ec(),m.ec(),m.fc(92,"div"),m.fc(93,"mat-checkbox",36),m.Oc(94," Limit Commands "),m.ec(),m.ec(),m.fc(95,"mat-form-field",5),m.ac(96,"input",37),m.ec(),m.fc(97,"mat-form-field",5),m.ac(98,"input",38),m.ec(),m.fc(99,"mat-form-field",5),m.ac(100,"input",39),m.ec(),m.fc(101,"mat-form-field",5),m.ac(102,"input",40),m.ec(),m.ec(),m.ec(),m.fc(103,"mat-accordion",23),m.fc(104,"mat-expansion-panel",24),m.nc("opened",(function(){return t.setStep(3)})),m.fc(105,"mat-expansion-panel-header"),m.fc(106,"mat-panel-title"),m.fc(107,"mat-icon"),m.Oc(108,"add"),m.ec(),m.Oc(109," Attributes "),m.ec(),m.ec(),m.Nc(110,J,6,1,"div",41),m.fc(111,"button",42),m.nc("click",(function(){return t.addassignTicket()})),m.fc(112,"mat-icon"),m.Oc(113,"add"),m.ec(),m.ec(),m.ec(),m.ec(),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(114,"mat-card-actions",43),m.fc(115,"button",44),m.nc("click",(function(){return t.updateUser()})),m.Oc(116," Update "),m.ec(),m.fc(117,"p"),m.Oc(118,"Note: Field marked with * is Mandatory"),m.ec(),m.ec(),m.ec()}if(2&e){const e=m.Dc(36);m.Ob(5),m.xc("formGroup",t.myform),m.Ob(15),m.xc("ngForOf",t.gend),m.Ob(10),m.xc("ngForOf",t.userRoles),m.Ob(2),m.xc("matAutocomplete",e)("ngModel",t.customer_id),m.Ob(5),m.xc("ngForOf",t.customerData),m.Ob(5),m.xc("ngForOf",t.states),m.Ob(5),m.xc("expanded",1===t.step),m.Ob(10),m.xc("ngForOf",t.mapTypes),m.Ob(11),m.xc("ngForOf",t.formats),m.Ob(6),m.xc("expanded",2===t.step),m.Ob(30),m.xc("expanded",3===t.step),m.Ob(6),m.xc("ngForOf",t.myform.get("attributes").controls)}},directives:[h.a,h.f,h.c,o.t,o.n,o.g,_.b,_.a,p.c,g.b,o.c,o.m,o.f,o.r,p.g,y.a,i.k,M.a,I.c,p.f,I.a,A.a,A.c,A.d,A.e,R.a,h.b,b.b,x.o,B.a,B.b,F.a,o.d],styles:["mat-card[_ngcontent-%COMP%]{width:90%;top:0}.main[_ngcontent-%COMP%]{width:100%}.mainContent[_ngcontent-%COMP%]{width:50%}.optionalContent[_ngcontent-%COMP%]{width:50%;margin-top:-280px;float:right}.customStyle[_ngcontent-%COMP%]{border-radius:10px 10px 10px 10px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.mat-stroked-button[_ngcontent-%COMP%]{width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}.image[_ngcontent-%COMP%]{margin-right:10px}.checkbox[_ngcontent-%COMP%]{margin-left:15px}mat-grid-tile[_ngcontent-%COMP%]{background:#add8e6}.button[_ngcontent-%COMP%]{margin-top:35px}.filterBox[_ngcontent-%COMP%]{width:150px;height:25px;margin-left:10px;margin-top:5px;margin-bottom:5px;border-radius:10px 10px 10px 10px;border:2px solid #000}"]}),e})();var Y=c("M9IT"),ee=c("Dh3D"),te=c("+0xr"),ce=c("0IaG"),ie=c("1jOF"),oe=c("H0VJ");function ae(e,t){1&e&&m.ac(0,"th",11)}function re(e,t){if(1&e){const e=m.gc();m.fc(0,"td",12),m.fc(1,"mat-checkbox",13),m.nc("change",(function(c){m.Fc(e);const i=t.$implicit;return m.rc().check(c.checked,i)})),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.xc("checked",c.checkState(e.id))}}function se(e,t){1&e&&(m.fc(0,"th",11),m.Oc(1,"Name"),m.ec())}function ne(e,t){if(1&e&&(m.fc(0,"td",12),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.name)}}function le(e,t){1&e&&(m.fc(0,"th",11),m.Oc(1,"Identifer"),m.ec())}function me(e,t){if(1&e&&(m.fc(0,"td",12),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.identifier)}}function ue(e,t){1&e&&m.ac(0,"tr",14)}function de(e,t){1&e&&m.ac(0,"tr",15)}let fe=(()=>{class e{constructor(e,t,c,i,o,a,r){this.driverService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=o,this.dialog=a,this.data=r,this.dataSource=new te.k([]),this.displayedColumns=["select","name","identifier"],this.Id=r.customer_id,this.user_id=r.user_id}ngOnInit(){this.getAllDriverByCustomer(),this.getAllDeviceByUser()}getAllDriverByCustomer(){this.driverService.getDriverByCustomerId(this.Id).subscribe(e=>{this.customerDrivers=e,this.dataSource=new te.k(this.customerDrivers),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllDeviceByUser(){this.driverService.getDriverByUserId(this.user_id).subscribe(e=>{this.userDrivers=e,this.userDrivers&&this.userDrivers.forEach(e=>{this.userDrivers.push(e.driverid)})})}close(){this.dialogRef.close()}checkState(e){if(this.userDrivers)return this.userDrivers.indexOf(e)>-1}check(e,t){e?(this.object={userId:this.user_id,driverId:t.id},this.driverService.addDriverWithUser(this.object).subscribe()):(this.object={userId:this.user_id,driverId:t.id},this.driverService.deleteUserDriver(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(ie.a),m.Zb(f.a),m.Zb(n.c),m.Zb(oe.a),m.Zb(ce.f),m.Zb(ce.b),m.Zb(ce.a,8))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-driver-user"]],viewQuery:function(e,t){var c;1&e&&(m.Sc(ee.a,!0),m.Sc(Y.a,!0)),2&e&&(m.Cc(c=m.oc())&&(t.sort=c.first),m.Cc(c=m.oc())&&(t.paginator=c.first))},decls:20,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(m.fc(0,"div",0),m.fc(1,"div",1),m.fc(2,"h3"),m.Oc(3,"Driver Table"),m.ec(),m.fc(4,"span"),m.fc(5,"a"),m.fc(6,"mat-icon",2),m.nc("click",(function(){return t.close()})),m.Oc(7,"X"),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(8,"table",3),m.dc(9,4),m.Nc(10,ae,1,0,"th",5),m.Nc(11,re,2,1,"td",6),m.cc(),m.dc(12,7),m.Nc(13,se,2,0,"th",5),m.Nc(14,ne,2,1,"td",6),m.cc(),m.dc(15,8),m.Nc(16,le,2,0,"th",5),m.Nc(17,me,2,1,"td",6),m.cc(),m.Nc(18,ue,1,0,"tr",9),m.Nc(19,de,1,0,"tr",10),m.ec(),m.ec()),2&e&&(m.Ob(8),m.xc("dataSource",t.dataSource),m.Ob(10),m.xc("matHeaderRowDef",t.displayedColumns),m.Ob(1),m.xc("matRowDefColumns",t.displayedColumns))},directives:[M.a,te.j,r.a,te.c,te.e,te.b,te.g,te.i,te.d,te.a,R.a,te.f,te.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:70%;margin-left:5%}"]}),e})();var he=c("Kqty");function pe(e,t){1&e&&m.ac(0,"th",12)}function ge(e,t){if(1&e){const e=m.gc();m.fc(0,"td",13),m.fc(1,"mat-checkbox",14),m.nc("change",(function(c){m.Fc(e);const i=t.$implicit;return m.rc().check(c.checked,i)})),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.xc("checked",c.checkState(e.id))}}function be(e,t){1&e&&(m.fc(0,"th",12),m.Oc(1,"Type of notification"),m.ec())}function ve(e,t){if(1&e&&(m.fc(0,"td",13),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.type)}}function Oe(e,t){1&e&&(m.fc(0,"th",12),m.Oc(1,"All Devices"),m.ec())}function Ce(e,t){if(1&e&&(m.fc(0,"td",13),m.Oc(1),m.ec()),2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.Pc(null==c.states[e.always]?null:c.states[e.always].value)}}function ye(e,t){1&e&&(m.fc(0,"th",12),m.Oc(1,"Channels"),m.ec())}function xe(e,t){if(1&e&&(m.fc(0,"td",13),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.notificators)}}function we(e,t){1&e&&m.ac(0,"tr",15)}function De(e,t){1&e&&m.ac(0,"tr",16)}let Se=(()=>{class e{constructor(e,t,c,i,o,a,r){this.notificationService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=o,this.dialog=a,this.data=r,this.dataSource=new te.k([]),this.states=[{id:0,value:"NO"},{id:1,value:"YES"}],this.displayedColumns=["select","name","identifier","always"],this.Id=r.pageValue}ngOnInit(){this.getAllNotification(),this.getAllNotificationByUser()}getAllNotification(){this.notificationService.getAllNotification().subscribe(e=>{console.log(e),this.notifications=e,this.dataSource=new te.k(e),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllNotificationByUser(){this.notificationService.getNotificationByUserId(this.Id).subscribe(e=>{console.log(e),this.userNotifications=e,this.userNotifications.forEach(e=>{this.userNotifications.push(e.notificationid)})})}close(){this.dialogRef.close()}checkState(e){if(this.userNotifications)return this.userNotifications.indexOf(e)>-1}check(e,t){e?(this.object={userId:this.Id,notificationId:t.id},this.notificationService.addNotificationWithUser(this.object).subscribe()):(this.object={userId:this.Id,notificationId:t.id},this.notificationService.deleteUserNotification(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(he.a),m.Zb(f.a),m.Zb(n.c),m.Zb(oe.a),m.Zb(ce.f),m.Zb(ce.b),m.Zb(ce.a,8))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-notification-user"]],viewQuery:function(e,t){var c;1&e&&(m.Sc(ee.a,!0),m.Sc(Y.a,!0)),2&e&&(m.Cc(c=m.oc())&&(t.sort=c.first),m.Cc(c=m.oc())&&(t.paginator=c.first))},decls:23,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","always"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(m.fc(0,"div",0),m.fc(1,"div",1),m.fc(2,"h3"),m.Oc(3,"Notification Table"),m.ec(),m.fc(4,"span"),m.fc(5,"a"),m.fc(6,"mat-icon",2),m.nc("click",(function(){return t.close()})),m.Oc(7,"X"),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(8,"table",3),m.dc(9,4),m.Nc(10,pe,1,0,"th",5),m.Nc(11,ge,2,1,"td",6),m.cc(),m.dc(12,7),m.Nc(13,be,2,0,"th",5),m.Nc(14,ve,2,1,"td",6),m.cc(),m.dc(15,8),m.Nc(16,Oe,2,0,"th",5),m.Nc(17,Ce,2,1,"td",6),m.cc(),m.dc(18,9),m.Nc(19,ye,2,0,"th",5),m.Nc(20,xe,2,1,"td",6),m.cc(),m.Nc(21,we,1,0,"tr",10),m.Nc(22,De,1,0,"tr",11),m.ec(),m.ec()),2&e&&(m.Ob(8),m.xc("dataSource",t.dataSource),m.Ob(13),m.xc("matHeaderRowDef",t.displayedColumns),m.Ob(1),m.xc("matRowDefColumns",t.displayedColumns))},directives:[M.a,te.j,r.a,te.c,te.e,te.b,te.g,te.i,te.d,te.a,R.a,te.f,te.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),e})();var ke=c("hrIc");function Ne(e,t){1&e&&m.ac(0,"th",13)}function Pe(e,t){if(1&e){const e=m.gc();m.fc(0,"td",14),m.fc(1,"mat-checkbox",15),m.nc("change",(function(c){m.Fc(e);const i=t.$implicit;return m.rc().check(c.checked,i)})),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.xc("checked",c.checkState(e.id))}}function _e(e,t){1&e&&(m.fc(0,"th",13),m.Oc(1,"Name"),m.ec())}function Ie(e,t){if(1&e&&(m.fc(0,"td",14),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.name)}}function Me(e,t){1&e&&(m.fc(0,"th",13),m.Oc(1,"Type"),m.ec())}function Ae(e,t){if(1&e&&(m.fc(0,"td",14),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.type)}}function Re(e,t){1&e&&(m.fc(0,"th",13),m.Oc(1,"Start"),m.ec())}function Be(e,t){if(1&e&&(m.fc(0,"td",14),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.start)}}function Fe(e,t){1&e&&(m.fc(0,"th",13),m.Oc(1,"Period"),m.ec())}function Ue(e,t){if(1&e&&(m.fc(0,"td",14),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.period)}}function Te(e,t){1&e&&m.ac(0,"tr",16)}function Ze(e,t){1&e&&m.ac(0,"tr",17)}let Le=(()=>{class e{constructor(e,t,c,i,o,a,r){this.maintenanceService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=o,this.dialog=a,this.data=r,this.dataSource=new te.k([]),this.displayedColumns=["select","name","type","start","period"],this.Id=r.pageValue}ngOnInit(){this.getAllMaintenance(),this.getAllMaintenanceByUser()}getAllMaintenance(){this.maintenanceService.getAllMaintenance().subscribe(e=>{this.maintenance=e,this.dataSource=new te.k(e),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllMaintenanceByUser(){this.maintenanceService.getMaintenanceByUserId(this.Id).subscribe(e=>{console.log(e),this.userMaintenance=e,this.userMaintenance.forEach(e=>{this.userMaintenance.push(e.maintenance_id)})})}close(){this.dialogRef.close()}checkState(e){if(this.userMaintenance)return this.userMaintenance.indexOf(e)>-1}check(e,t){e?(this.object={userId:this.Id,maintenanceId:t.id},this.maintenanceService.addMaintenanceWithUser(this.object).subscribe()):(this.object={userId:this.Id,maintenanceId:t.id},this.maintenanceService.deleteUserMaintenance(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(ke.a),m.Zb(f.a),m.Zb(n.c),m.Zb(oe.a),m.Zb(ce.f),m.Zb(ce.b),m.Zb(ce.a,8))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-maintenance-user"]],viewQuery:function(e,t){var c;1&e&&(m.Sc(ee.a,!0),m.Sc(Y.a,!0)),2&e&&(m.Cc(c=m.oc())&&(t.sort=c.first),m.Cc(c=m.oc())&&(t.paginator=c.first))},decls:26,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","type"],["matColumnDef","start"],["matColumnDef","period"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(m.fc(0,"div",0),m.fc(1,"div",1),m.fc(2,"h3"),m.Oc(3,"Maintenance Table"),m.ec(),m.fc(4,"span"),m.fc(5,"a"),m.fc(6,"mat-icon",2),m.nc("click",(function(){return t.close()})),m.Oc(7,"X"),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(8,"table",3),m.dc(9,4),m.Nc(10,Ne,1,0,"th",5),m.Nc(11,Pe,2,1,"td",6),m.cc(),m.dc(12,7),m.Nc(13,_e,2,0,"th",5),m.Nc(14,Ie,2,1,"td",6),m.cc(),m.dc(15,8),m.Nc(16,Me,2,0,"th",5),m.Nc(17,Ae,2,1,"td",6),m.cc(),m.dc(18,9),m.Nc(19,Re,2,0,"th",5),m.Nc(20,Be,2,1,"td",6),m.cc(),m.dc(21,10),m.Nc(22,Fe,2,0,"th",5),m.Nc(23,Ue,2,1,"td",6),m.cc(),m.Nc(24,Te,1,0,"tr",11),m.Nc(25,Ze,1,0,"tr",12),m.ec(),m.ec()),2&e&&(m.Ob(8),m.xc("dataSource",t.dataSource),m.Ob(16),m.xc("matHeaderRowDef",t.displayedColumns),m.Ob(1),m.xc("matRowDefColumns",t.displayedColumns))},directives:[M.a,te.j,r.a,te.c,te.e,te.b,te.g,te.i,te.d,te.a,R.a,te.f,te.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),e})();var $e=c("9TBo");function je(e,t){1&e&&m.ac(0,"th",11)}function qe(e,t){if(1&e){const e=m.gc();m.fc(0,"td",12),m.fc(1,"mat-checkbox",13),m.nc("change",(function(c){m.Fc(e);const i=t.$implicit;return m.rc().check(c.checked,i)})),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.xc("checked",c.checkState(e.id))}}function ze(e,t){1&e&&(m.fc(0,"th",11),m.Oc(1,"Description"),m.ec())}function Ge(e,t){if(1&e&&(m.fc(0,"td",12),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.description)}}function Ee(e,t){1&e&&(m.fc(0,"th",11),m.Oc(1,"Attribute"),m.ec())}function He(e,t){if(1&e&&(m.fc(0,"td",12),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.attribute)}}function Ve(e,t){1&e&&m.ac(0,"tr",14)}function Qe(e,t){1&e&&m.ac(0,"tr",15)}let We=(()=>{class e{constructor(e,t,c,i,o,a,r){this.attributeService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=o,this.dialog=a,this.data=r,this.dataSource=new te.k([]),this.displayedColumns=["select","name","identifier"],this.Id=r.pageValue}ngOnInit(){this.getAllAttribute(),this.getAllAttributeByUser()}getAllAttribute(){this.attributeService.getAllAttribute().subscribe(e=>{this.attributes=e,this.dataSource=new te.k(e),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllAttributeByUser(){this.attributeService.getAttributeByUserId(this.Id).subscribe(e=>{console.log(e),this.userAttributes=e,this.userAttributes.forEach(e=>{this.userAttributes.push(e.attributeid)})})}close(){this.dialogRef.close()}checkState(e){if(this.userAttributes)return this.userAttributes.indexOf(e)>-1}check(e,t){console.log(t.id),e?(this.object={userId:this.Id,attributeId:t.id},this.attributeService.addAttributeWithUser(this.object).subscribe()):(this.object={userId:this.Id,attributeId:t.id},this.attributeService.deleteUserAttribute(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(m.Zb($e.a),m.Zb(f.a),m.Zb(n.c),m.Zb(oe.a),m.Zb(ce.f),m.Zb(ce.b),m.Zb(ce.a,8))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-attribute-user"]],viewQuery:function(e,t){var c;1&e&&(m.Sc(ee.a,!0),m.Sc(Y.a,!0)),2&e&&(m.Cc(c=m.oc())&&(t.sort=c.first),m.Cc(c=m.oc())&&(t.paginator=c.first))},decls:20,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(m.fc(0,"div",0),m.fc(1,"div",1),m.fc(2,"h3"),m.Oc(3,"Attribute Table"),m.ec(),m.fc(4,"span"),m.fc(5,"a"),m.fc(6,"mat-icon",2),m.nc("click",(function(){return t.close()})),m.Oc(7,"X"),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(8,"table",3),m.dc(9,4),m.Nc(10,je,1,0,"th",5),m.Nc(11,qe,2,1,"td",6),m.cc(),m.dc(12,7),m.Nc(13,ze,2,0,"th",5),m.Nc(14,Ge,2,1,"td",6),m.cc(),m.dc(15,8),m.Nc(16,Ee,2,0,"th",5),m.Nc(17,He,2,1,"td",6),m.cc(),m.Nc(18,Ve,1,0,"tr",9),m.Nc(19,Qe,1,0,"tr",10),m.ec(),m.ec()),2&e&&(m.Ob(8),m.xc("dataSource",t.dataSource),m.Ob(10),m.xc("matHeaderRowDef",t.displayedColumns),m.Ob(1),m.xc("matRowDefColumns",t.displayedColumns))},directives:[M.a,te.j,r.a,te.c,te.e,te.b,te.g,te.i,te.d,te.a,R.a,te.f,te.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:70%;margin-left:5%}"]}),e})();var Xe=c("9dHA");function Je(e,t){1&e&&m.ac(0,"th",12)}function Ke(e,t){if(1&e){const e=m.gc();m.fc(0,"td",13),m.fc(1,"mat-checkbox",14),m.nc("change",(function(c){m.Fc(e);const i=t.$implicit;return m.rc().check(c.checked,i)})),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.xc("checked",c.checkState(e.id))}}function Ye(e,t){1&e&&(m.fc(0,"th",12),m.Oc(1,"Type"),m.ec())}function et(e,t){if(1&e&&(m.fc(0,"td",13),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.type)}}function tt(e,t){1&e&&(m.fc(0,"th",12),m.Oc(1,"Description"),m.ec())}function ct(e,t){if(1&e&&(m.fc(0,"td",13),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.description)}}function it(e,t){1&e&&(m.fc(0,"th",12),m.Oc(1,"Send SMS"),m.ec())}function ot(e,t){if(1&e&&(m.fc(0,"td",13),m.Oc(1),m.ec()),2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.Pc(null==c.sms[e.textchannel]?null:c.sms[e.textchannel].value)}}function at(e,t){1&e&&m.ac(0,"tr",15)}function rt(e,t){1&e&&m.ac(0,"tr",16)}let st=(()=>{class e{constructor(e,t,c,i,o,a,r){this.commandService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=o,this.dialog=a,this.data=r,this.dataSource=new te.k([]),this.displayedColumns=["select","name","description","sms"],this.sms=[{id:1,value:"true"},{id:0,value:"false"}],this.Id=r.pageValue}ngOnInit(){this.getAllCommand(),this.getAllCommandByUser()}getAllCommand(){this.commandService.getAllCommand().subscribe(e=>{this.commands=e,this.dataSource=new te.k(e),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllCommandByUser(){this.commandService.getCommandByUserId(this.Id).subscribe(e=>{console.log(e),this.userCommands=e,this.userCommands.forEach(e=>{this.userCommands.push(e.commandid)})})}close(){this.dialogRef.close()}checkState(e){if(this.userCommands)return this.userCommands.indexOf(e)>-1}check(e,t){e?(this.object={userId:this.Id,commandId:t.id},this.commandService.addCommandWithUser(this.object).subscribe()):(this.object={userId:this.Id,commandId:t.id},this.commandService.deleteUserCommand(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(Xe.a),m.Zb(f.a),m.Zb(n.c),m.Zb(oe.a),m.Zb(ce.f),m.Zb(ce.b),m.Zb(ce.a,8))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-command-user"]],viewQuery:function(e,t){var c;1&e&&(m.Sc(ee.a,!0),m.Sc(Y.a,!0)),2&e&&(m.Cc(c=m.oc())&&(t.sort=c.first),m.Cc(c=m.oc())&&(t.paginator=c.first))},decls:23,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","sms"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(m.fc(0,"div",0),m.fc(1,"div",1),m.fc(2,"h3"),m.Oc(3,"Command Table"),m.ec(),m.fc(4,"span"),m.fc(5,"a"),m.fc(6,"mat-icon",2),m.nc("click",(function(){return t.close()})),m.Oc(7,"X"),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(8,"table",3),m.dc(9,4),m.Nc(10,Je,1,0,"th",5),m.Nc(11,Ke,2,1,"td",6),m.cc(),m.dc(12,7),m.Nc(13,Ye,2,0,"th",5),m.Nc(14,et,2,1,"td",6),m.cc(),m.dc(15,8),m.Nc(16,tt,2,0,"th",5),m.Nc(17,ct,2,1,"td",6),m.cc(),m.dc(18,9),m.Nc(19,it,2,0,"th",5),m.Nc(20,ot,2,1,"td",6),m.cc(),m.Nc(21,at,1,0,"tr",10),m.Nc(22,rt,1,0,"tr",11),m.ec(),m.ec()),2&e&&(m.Ob(8),m.xc("dataSource",t.dataSource),m.Ob(13),m.xc("matHeaderRowDef",t.displayedColumns),m.Ob(1),m.xc("matRowDefColumns",t.displayedColumns))},directives:[M.a,te.j,r.a,te.c,te.e,te.b,te.g,te.i,te.d,te.a,R.a,te.f,te.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),e})();var nt=c("XCAU");function lt(e,t){1&e&&m.ac(0,"th",12)}function mt(e,t){if(1&e){const e=m.gc();m.fc(0,"td",13),m.fc(1,"mat-checkbox",14),m.nc("change",(function(c){m.Fc(e);const i=t.$implicit;return m.rc().check(c.checked,i)})),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.xc("checked",c.checkState(e.id))}}function ut(e,t){1&e&&(m.fc(0,"th",12),m.Oc(1,"Name"),m.ec())}function dt(e,t){if(1&e&&(m.fc(0,"td",13),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.name)}}function ft(e,t){1&e&&(m.fc(0,"th",12),m.Oc(1,"Identifier"),m.ec())}function ht(e,t){if(1&e&&(m.fc(0,"td",13),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.uniqueid)}}function pt(e,t){1&e&&m.ac(0,"tr",15)}function gt(e,t){1&e&&m.ac(0,"tr",16)}function bt(e,t){1&e&&(m.fc(0,"div"),m.Oc(1," No Records Found! "),m.ec())}let vt=(()=>{class e{constructor(e,t,c,i,o,a,r){this.devcieService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=o,this.dialog=a,this.data=r,this.source=[],this.dataSource=new te.k([]),this.displayedColumns=["select","name","identifier"],this.sms=[{id:1,value:"true"},{id:0,value:"false"}],this.Id=r.customer_id,this.user_id=r.user_id}ngOnInit(){this.getAllDeviceByCustomer(),this.getAllDeviceByUser()}getAllDeviceByCustomer(){this.devcieService.getDeviceByCustomerId(this.Id).subscribe(e=>{this.customerDevices=e,this.dataSource=new te.k(this.customerDevices),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllDeviceByUser(){this.devcieService.getDeviceByUserId(this.user_id).subscribe(e=>{this.userDevices=e,this.userDevices&&this.userDevices.forEach(e=>{this.userDevices.push(e.deviceid)})})}getAllDeviceByAllUser(){this.devcieService.getDeviceByAllUser().subscribe(e=>{console.log(e),this.userDevices=e})}close(){this.dialogRef.close()}checkState(e){if(this.userDevices)return this.userDevices.indexOf(e)>-1}check(e,t){e?(this.object={userId:this.user_id,deviceId:t.id},this.devcieService.addDeviceWithUser(this.object).subscribe()):(this.object={userId:this.user_id,deviceId:t.id},this.devcieService.deleteUserDevice(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(nt.a),m.Zb(f.a),m.Zb(n.c),m.Zb(oe.a),m.Zb(ce.f),m.Zb(ce.b),m.Zb(ce.a,8))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-device-user"]],viewQuery:function(e,t){var c;1&e&&(m.Sc(ee.a,!0),m.Sc(Y.a,!0)),2&e&&(m.Cc(c=m.oc())&&(t.sort=c.first),m.Cc(c=m.oc())&&(t.paginator=c.first))},decls:21,vars:4,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(m.fc(0,"div",0),m.fc(1,"div",1),m.fc(2,"h3"),m.Oc(3,"Device Table"),m.ec(),m.fc(4,"span"),m.fc(5,"a"),m.fc(6,"mat-icon",2),m.nc("click",(function(){return t.close()})),m.Oc(7,"X"),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(8,"table",3),m.dc(9,4),m.Nc(10,lt,1,0,"th",5),m.Nc(11,mt,2,1,"td",6),m.cc(),m.dc(12,7),m.Nc(13,ut,2,0,"th",5),m.Nc(14,dt,2,1,"td",6),m.cc(),m.dc(15,8),m.Nc(16,ft,2,0,"th",5),m.Nc(17,ht,2,1,"td",6),m.cc(),m.Nc(18,pt,1,0,"tr",9),m.Nc(19,gt,1,0,"tr",10),m.ec(),m.Nc(20,bt,2,0,"div",11),m.ec()),2&e&&(m.Ob(8),m.xc("dataSource",t.dataSource),m.Ob(10),m.xc("matHeaderRowDef",t.displayedColumns),m.Ob(1),m.xc("matRowDefColumns",t.displayedColumns),m.Ob(1),m.xc("ngIf",0===t.dataSource.data.length))},directives:[M.a,te.j,r.a,te.c,te.e,te.b,te.g,te.i,i.l,te.d,te.a,R.a,te.f,te.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),e})();var Ot=c("lLy5");function Ct(e,t){1&e&&m.ac(0,"th",10)}function yt(e,t){if(1&e){const e=m.gc();m.fc(0,"td",11),m.fc(1,"mat-checkbox",12),m.nc("change",(function(c){m.Fc(e);const i=t.$implicit;return m.rc().check(c.checked,i)})),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.xc("checked",c.checkState(e.id))}}function xt(e,t){1&e&&(m.fc(0,"th",10),m.Oc(1,"Name"),m.ec())}function wt(e,t){if(1&e&&(m.fc(0,"td",11),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.name)}}function Dt(e,t){1&e&&m.ac(0,"tr",13)}function St(e,t){1&e&&m.ac(0,"tr",14)}let kt=(()=>{class e{constructor(e,t,c,i,o,a,r){this.groupService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=o,this.dialog=a,this.data=r,this.dataSource=new te.k([]),this.displayedColumns=["select","name"],this.sms=[{id:1,value:"true"},{id:0,value:"false"}],this.Id=r.pageValue}ngOnInit(){this.getAllDevice(),this.getAllDeviceByUser()}getAllDevice(){this.groupService.getAllGroup().subscribe(e=>{this.commands=e,this.dataSource=new te.k(e),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllDeviceByUser(){this.groupService.getGroupByUserId(this.Id).subscribe(e=>{console.log(e),this.userGroups=e,this.userGroups.forEach(e=>{this.userGroups.push(e.groupid)})})}close(){this.dialogRef.close()}checkState(e){if(this.userGroups)return this.userGroups.indexOf(e)>-1}check(e,t){e?(this.object={userId:this.Id,groupId:t.id},this.groupService.addGroupWithUser(this.object).subscribe()):(this.object={userId:this.Id,groupId:t.id},this.groupService.deleteUserGroup(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(Ot.a),m.Zb(f.a),m.Zb(n.c),m.Zb(oe.a),m.Zb(ce.f),m.Zb(ce.b),m.Zb(ce.a,8))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-group-user"]],viewQuery:function(e,t){var c;1&e&&(m.Sc(ee.a,!0),m.Sc(Y.a,!0)),2&e&&(m.Cc(c=m.oc())&&(t.sort=c.first),m.Cc(c=m.oc())&&(t.paginator=c.first))},decls:17,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(m.fc(0,"div",0),m.fc(1,"div",1),m.fc(2,"h3"),m.Oc(3,"Group Table"),m.ec(),m.fc(4,"span"),m.fc(5,"a"),m.fc(6,"mat-icon",2),m.nc("click",(function(){return t.close()})),m.Oc(7,"X"),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(8,"table",3),m.dc(9,4),m.Nc(10,Ct,1,0,"th",5),m.Nc(11,yt,2,1,"td",6),m.cc(),m.dc(12,7),m.Nc(13,xt,2,0,"th",5),m.Nc(14,wt,2,1,"td",6),m.cc(),m.Nc(15,Dt,1,0,"tr",8),m.Nc(16,St,1,0,"tr",9),m.ec(),m.ec()),2&e&&(m.Ob(8),m.xc("dataSource",t.dataSource),m.Ob(7),m.xc("matHeaderRowDef",t.displayedColumns),m.Ob(1),m.xc("matRowDefColumns",t.displayedColumns))},directives:[M.a,te.j,r.a,te.c,te.e,te.b,te.g,te.i,te.d,te.a,R.a,te.f,te.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),e})();var Nt=c("Nl8B"),Pt=c("STbY"),_t=c("znSr"),It=c("Xa2L");function Mt(e,t){1&e&&(m.fc(0,"th",33),m.Oc(1,"Action"),m.ec())}function At(e,t){if(1&e){const e=m.gc();m.fc(0,"button",40),m.fc(1,"mat-icon",41),m.nc("click",(function(){m.Fc(e);const t=m.rc().$implicit;return m.rc().editUser(t)})),m.Oc(2,"edit"),m.ec(),m.ec()}}function Rt(e,t){if(1&e){const e=m.gc();m.fc(0,"button",42),m.fc(1,"mat-icon",41),m.nc("click",(function(){m.Fc(e);const t=m.rc().$implicit;return m.rc().deleteUser(t)})),m.Oc(2,"delete_outline"),m.ec(),m.ec()}}function Bt(e,t){if(1&e&&(m.fc(0,"button",43),m.fc(1,"mat-icon"),m.Oc(2,"settings"),m.ec(),m.ec()),2&e){m.rc();const e=m.Dc(5);m.xc("matMenuTriggerFor",e)}}function Ft(e,t){if(1&e){const e=m.gc();m.fc(0,"td",34),m.Nc(1,At,3,0,"button",35),m.Nc(2,Rt,3,0,"button",36),m.Nc(3,Bt,3,1,"button",37),m.fc(4,"mat-menu",null,38),m.fc(6,"button",39),m.nc("click",(function(){m.Fc(e);const c=t.$implicit;return m.rc().openDeviceModal(c)})),m.Oc(7,"Devices"),m.ec(),m.fc(8,"button",39),m.nc("click",(function(){m.Fc(e);const c=t.$implicit;return m.rc().openGroupModal(c)})),m.Oc(9,"Groups"),m.ec(),m.fc(10,"button",39),m.nc("click",(function(){m.Fc(e);const c=t.$implicit;return m.rc().openDriverModal(c)})),m.Oc(11,"Drivers"),m.ec(),m.fc(12,"button",39),m.nc("click",(function(){m.Fc(e);const c=t.$implicit;return m.rc().openNotificationModal(c)})),m.Oc(13,"Notifications"),m.ec(),m.fc(14,"button",39),m.nc("click",(function(){m.Fc(e);const c=t.$implicit;return m.rc().openMaintenanceModal(c)})),m.Oc(15,"Maintenance"),m.ec(),m.fc(16,"button",39),m.nc("click",(function(){m.Fc(e);const c=t.$implicit;return m.rc().openAttributeModal(c)})),m.Oc(17,"Computed Attributes"),m.ec(),m.fc(18,"button",39),m.nc("click",(function(){m.Fc(e);const c=t.$implicit;return m.rc().openCommandModal(c)})),m.Oc(19,"Saved Commands"),m.ec(),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.xc("ngIf",1==c.assigedRole.includes("user_edit")),m.Ob(1),m.xc("ngIf",1==c.assigedRole.includes("user_delete")),m.Ob(1),m.xc("ngIf",1==c.assigedRole.includes("user_setting")&&0!=e.customer_id)}}function Ut(e,t){1&e&&(m.fc(0,"th",44),m.Oc(1,"#"),m.ec())}function Tt(e,t){if(1&e&&(m.fc(0,"td",34),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.id)}}function Zt(e,t){1&e&&(m.fc(0,"th",44),m.Oc(1,"Name"),m.ec())}function Lt(e,t){if(1&e&&(m.fc(0,"td",34),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.name)}}function $t(e,t){1&e&&(m.fc(0,"th",44),m.Oc(1,"Customer ID"),m.ec())}function jt(e,t){if(1&e&&(m.fc(0,"td",34),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(0==e.customer_id?"":e.customer_id)}}function qt(e,t){1&e&&(m.fc(0,"th",44),m.Oc(1,"Customer Name"),m.ec())}function zt(e,t){if(1&e&&(m.fc(0,"td",34),m.Oc(1),m.ec()),2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.Pc(null==c.customerIndex[null==e?null:e.customer_id]?null:c.customerIndex[null==e?null:e.customer_id].name)}}function Gt(e,t){1&e&&(m.fc(0,"th",44),m.Oc(1,"Mobile"),m.ec())}function Et(e,t){if(1&e&&(m.fc(0,"td",34),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.phone)}}function Ht(e,t){1&e&&(m.fc(0,"th",44),m.Oc(1,"Email"),m.ec())}function Vt(e,t){if(1&e&&(m.fc(0,"td",34),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.email)}}function Qt(e,t){1&e&&(m.fc(0,"th",44),m.Oc(1,"Status"),m.ec())}function Wt(e,t){if(1&e&&(m.fc(0,"td",34),m.Oc(1),m.ec()),2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.Pc(null==c.states[e.status]?null:c.states[e.status].value)}}function Xt(e,t){1&e&&m.ac(0,"tr",45)}function Jt(e,t){1&e&&m.ac(0,"tr",46)}const Kt=function(e){return{active:e}};function Yt(e,t){if(1&e){const e=m.gc();m.fc(0,"li",48),m.fc(1,"a",41),m.nc("click",(function(){m.Fc(e);const c=t.$implicit;return m.rc(2).getUserByPage(c)})),m.Oc(2),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc(2);m.xc("ngClass",m.zc(2,Kt,c.pager.currentPage===e)),m.Ob(2),m.Pc(e)}}const ec=function(e){return{disabled:e}};function tc(e,t){if(1&e){const e=m.gc();m.fc(0,"ul",47),m.fc(1,"li",48),m.fc(2,"a",41),m.nc("click",(function(){m.Fc(e);const t=m.rc();return t.getUserByPage(t.pager.currentPage-1)})),m.Oc(3,"\xab"),m.ec(),m.ec(),m.Nc(4,Yt,3,4,"li",49),m.fc(5,"li",48),m.fc(6,"a",41),m.nc("click",(function(){m.Fc(e);const t=m.rc();return t.getUserByPage(t.pager.currentPage+1)})),m.Oc(7,"\xbb"),m.ec(),m.ec(),m.ec()}if(2&e){const e=m.rc();m.Ob(1),m.xc("ngClass",m.zc(3,ec,1===e.pager.currentPage)),m.Ob(3),m.xc("ngForOf",e.pager.pages),m.Ob(1),m.xc("ngClass",m.zc(5,ec,2===e.pager.currentPage))}}function cc(e,t){1&e&&(m.fc(0,"mat-card",50),m.ac(1,"mat-progress-spinner",51),m.ec())}const ic=function(){return[0]},oc=[{path:"add",component:G,canActivate:[l.a],data:{roles:"user_add"}},{path:"list",component:(()=>{class e{constructor(e,t,c,i,o,a,r,s){this.userService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialog=o,this.pagination=a,this.fb=r,this.customerService=s,this.assigedRole=[],this.currentPage=1,this.params={},this.pager=[],this.record=[],this.customerIndex=[],this.idColumn="id",this.dataSource=new te.k([]),this.states=[{id:0,value:"Inactive"},{id:1,value:"Active"}],this.displayedColumns=["action","id","name","customer_id","customer_name","mobile","email","status"],this.isLoading=!0,this.assigedRole=JSON.parse(localStorage.getItem("rolesData"))}ngOnInit(){this.myform=this.fb.group({name:[""],email:[""],phone:[""],customer_id:[""]}),this.getAllCustomer(),this.getAllUser()}getAllCustomer(){this.customerService.getAllCustomerList().subscribe(e=>{this.customers=e,console.log(this.customers),this.customers.forEach((e,t)=>{this.customerIndex[e.customer_id]=this.customers[t]})})}getAllUser(){this.params={currentPage:this.currentPage},this.userService.getAllUserByPage(this.params).subscribe(e=>{this.users=e.rows,this.record=e.count,console.log(e.count),this.pager=this.pagination.paginate(this.record),console.log(this.pager.totalPages),this.dataSource=new te.k(this.users),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator),this.isLoading=!1}),this.removeColumn()}getUserByPage(e){this.page=e,this.page>this.pager.totalPages||(this.params={currentPage:e,name:this.myform.value.name,email:this.myform.value.email,phone:this.myform.value.phone,customer_id:this.myform.value.customer_id},this.userService.getAllUserByPage(this.params).subscribe(t=>{this.isLoading=!1,this.users=t.rows,console.log(this.record),this.pager=this.pagination.paginate(this.record,e),this.dataSource=new te.k(this.users),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)}))}getUserBySearch(){this.params={currentPage:this.currentPage,name:this.myform.value.name,email:this.myform.value.email,phone:this.myform.value.phone,customer_id:this.myform.value.customer_id},console.log(this.params),this.userService.getAllUserByPage(this.params).subscribe(e=>{this.isLoading=!1,this.users=e.rows,this.record=e.count,this.pager=this.pagination.paginate(this.record),this.dataSource=new te.k(this.users),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}removeColumn(){0==this.assigedRole.includes("role_edit")&&0==this.assigedRole.includes("role_delete")&&(this.displayedColumns=["id","name","mobile","email","status"])}editUser(e){this.router.navigate(["admin/authorization/users/edit",e.id])}deleteUser(e){this.dialogService.openConfirmDialog().afterClosed().subscribe(t=>{t&&(this.userService.deleteUser(e.id).subscribe(),this.deleteRowDataTable(e.id,this.idColumn,this.paginator,this.dataSource),this.openSnackBar())})}deleteRowDataTable(e,t,c,i){this.users=i.data;const o=this.users.findIndex(c=>c[t]===e);i.data.splice(o,1),i.paginator=c}openSnackBar(){this.snackBar.open("Deleted!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}getBack(){this.getAllUser(),this.myform.reset()}applyFilter(e){this.dataSource.filter=e.trim().toLowerCase()}openDriverModal(e){console.log(e.id);const t=new ce.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(fe,{width:"680px",height:"460px",data:{user_id:e.id,customer_id:e.customer_id}}).afterClosed().subscribe(e=>{})}openNotificationModal(e){console.log(e.id);const t=new ce.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(Se,{width:"580px",height:"460px",data:{pageValue:e.id}}).afterClosed().subscribe(e=>{})}openMaintenanceModal(e){console.log(e.id);const t=new ce.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(Le,{width:"580px",height:"460px",data:{pageValue:e.id}}).afterClosed().subscribe(e=>{})}openAttributeModal(e){console.log(e.id);const t=new ce.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(We,{width:"580px",height:"460px",data:{pageValue:e.id}}).afterClosed().subscribe(e=>{})}openCommandModal(e){console.log(e.id);const t=new ce.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(st,{width:"580px",height:"460px",data:{pageValue:e.id}}).afterClosed().subscribe(e=>{})}openDeviceModal(e){console.log(e.customer_id);const t=new ce.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(vt,{width:"580px",height:"460px",data:{user_id:e.id,customer_id:e.customer_id}}).afterClosed().subscribe(e=>{})}openGroupModal(e){console.log(e.id);const t=new ce.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(kt,{width:"580px",height:"460px",data:{pageValue:e.id}}).afterClosed().subscribe(e=>{})}settingDevice(e){console.log(e.id)}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(d.a),m.Zb(f.a),m.Zb(n.c),m.Zb(oe.a),m.Zb(ce.b),m.Zb(Nt.a),m.Zb(o.e),m.Zb(P.a))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-user-list"]],viewQuery:function(e,t){var c;1&e&&(m.Sc(ee.a,!0),m.Sc(Y.a,!0)),2&e&&(m.Cc(c=m.oc())&&(t.sort=c.first),m.Cc(c=m.oc())&&(t.paginator=c.first))},decls:54,vars:8,consts:[[1,"custom-style"],[1,"table-title"],["fxLayout","row","fxLayout.xs","column",1,"search-div"],["fxFlex","70%","fxFlex.xs","100%"],[3,"formGroup"],["fxFlex","24%","fxFlex.xs","30%",1,"search_field"],["matInput","","placeholder","Name","formControlName","name","autocomplete","off"],["fxFlex","24%",1,"search_field"],["matInput","","placeholder","Email","formControlName","email","autocomplete","off"],["matInput","","placeholder","Phone","formControlName","phone","autocomplete","off"],["matInput","","placeholder","Customer ID","formControlName","customer_id","autocomplete","off"],["fxFlex","30%","fxFlex.xs","100%"],["mat-button","",1,"mat-stroked-button","mat-primary",3,"click"],["mat-button","",1,"mat-raised-button","mat-primary",3,"click"],[1,"table_container"],["mat-table","","matTableExporter","","matSort","",1,"mat-elevation-z8",3,"dataSource","hiddenColumns"],["exporter","matTableExporter"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","name"],["matColumnDef","customer_id"],["matColumnDef","customer_name"],["matColumnDef","mobile"],["matColumnDef","email"],["matColumnDef","status"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],[1,"middle"],["class","pagination",4,"ngIf"],["style","display:flex; justify-content: center; align-items: center",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",4,"ngIf"],["mat-icon-button","","color","warn",4,"ngIf"],["mat-icon-button","","color","info",3,"matMenuTriggerFor",4,"ngIf"],["setting","matMenu"],["mat-menu-item","",3,"click"],["mat-icon-button",""],[3,"click"],["mat-icon-button","","color","warn"],["mat-icon-button","","color","info",3,"matMenuTriggerFor"],["mat-header-cell","","mat-sort-header",""],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"],[1,"pagination"],[1,"pagination",3,"ngClass"],["class","pagination",3,"ngClass",4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"]],template:function(e,t){if(1&e){const e=m.gc();m.fc(0,"div",0),m.fc(1,"div",1),m.fc(2,"h3"),m.Oc(3,"User Table"),m.ec(),m.ec(),m.fc(4,"div",2),m.fc(5,"div",3),m.fc(6,"form",4),m.fc(7,"mat-form-field",5),m.ac(8,"input",6),m.ec(),m.fc(9,"mat-form-field",7),m.ac(10,"input",8),m.ec(),m.fc(11,"mat-form-field",7),m.ac(12,"input",9),m.ec(),m.fc(13,"mat-form-field",5),m.ac(14,"input",10),m.ec(),m.ec(),m.ec(),m.fc(15,"div",11),m.fc(16,"button",12),m.nc("click",(function(){return t.getUserBySearch()})),m.Oc(17," Search "),m.ec(),m.fc(18,"button",12),m.nc("click",(function(){return t.getBack()})),m.Oc(19," Back "),m.ec(),m.fc(20,"button",13),m.nc("click",(function(){return m.Fc(e),m.Dc(24).exportTable("csv",{fileName:"user"})})),m.Oc(21," CSV "),m.ec(),m.ec(),m.ec(),m.fc(22,"div",14),m.fc(23,"table",15,16),m.dc(25,17),m.Nc(26,Mt,2,0,"th",18),m.Nc(27,Ft,20,3,"td",19),m.cc(),m.dc(28,20),m.Nc(29,Ut,2,0,"th",21),m.Nc(30,Tt,2,1,"td",19),m.cc(),m.dc(31,22),m.Nc(32,Zt,2,0,"th",21),m.Nc(33,Lt,2,1,"td",19),m.cc(),m.dc(34,23),m.Nc(35,$t,2,0,"th",21),m.Nc(36,jt,2,1,"td",19),m.cc(),m.dc(37,24),m.Nc(38,qt,2,0,"th",21),m.Nc(39,zt,2,1,"td",19),m.cc(),m.dc(40,25),m.Nc(41,Gt,2,0,"th",21),m.Nc(42,Et,2,1,"td",19),m.cc(),m.dc(43,26),m.Nc(44,Ht,2,0,"th",21),m.Nc(45,Vt,2,1,"td",19),m.cc(),m.dc(46,27),m.Nc(47,Qt,2,0,"th",21),m.Nc(48,Wt,2,1,"td",19),m.cc(),m.Nc(49,Xt,1,0,"tr",28),m.Nc(50,Jt,1,0,"tr",29),m.ec(),m.ec(),m.ec(),m.fc(51,"div",30),m.Nc(52,tc,8,7,"ul",31),m.ec(),m.Nc(53,cc,2,0,"mat-card",32)}2&e&&(m.Ob(6),m.xc("formGroup",t.myform),m.Ob(17),m.xc("dataSource",t.dataSource)("hiddenColumns",m.yc(7,ic)),m.Ob(26),m.xc("matHeaderRowDef",t.displayedColumns),m.Ob(1),m.xc("matRowDefColumns",t.displayedColumns),m.Ob(2),m.xc("ngIf",t.pager.pages&&t.pager.pages.length),m.Ob(1),m.xc("ngIf",t.isLoading))},directives:[_.b,_.a,o.t,o.n,o.g,p.c,g.b,o.c,o.m,o.f,b.b,te.j,r.a,ee.a,te.c,te.e,te.b,te.g,te.i,i.l,te.d,te.a,Pt.d,Pt.a,M.a,Pt.c,ee.b,te.f,te.h,i.j,_t.a,i.k,h.a,It.a],styles:[".table_container[_ngcontent-%COMP%]{margin-left:2%;width:96%;margin-right:2%;overflow:auto}.filter[_ngcontent-%COMP%]{width:15%;margin-right:50%}.header[_ngcontent-%COMP%]{overflow:hidden}.table[_ngcontent-%COMP%]{width:96%!important;margin-left:2%;margin-right:2%}.spacerb[_ngcontent-%COMP%]{margin-right:5px}h3[_ngcontent-%COMP%]{font-weight:500}.row[_ngcontent-%COMP%]{height:40px!important}.fl[_ngcontent-%COMP%]{position:relative;display:flex}.closeButton[_ngcontent-%COMP%]{margin-top:20px}.search_div[_ngcontent-%COMP%]{margin-left:10%}.search_field[_ngcontent-%COMP%]{margin-left:1%;width:10%;float:left}.mat-stroked-button[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;border:1px solid #00f}.mat-raised-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%]{width:8%;margin-left:.5%}.pagination[_ngcontent-%COMP%]{display:inline-block}.pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;float:left;padding:8px 16px;text-decoration:none;transition:background-color .3s;border:1px solid #ddd}.active[_ngcontent-%COMP%]{background-color:#29abe2;background:#4169e1;color:red}.pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:not(.active){background-color:#ddd}.middle[_ngcontent-%COMP%]{margin-left:50%}a[_ngcontent-%COMP%]{cursor:pointer}.mat-column-action[_ngcontent-%COMP%]{width:15%!important}"]}),e})(),canActivate:[l.a],data:{roles:"user_list"}},{path:"edit/:id",component:K,canActivate:[l.a],data:{roles:"user_edit"}},{path:"reset-password",component:k,canActivate:[l.a],data:{roles:"user_password_reset"}},{path:"change-password",component:C},{path:"user-profile",component:(()=>{class e{constructor(){this.userData=JSON.parse(localStorage.getItem("userData"))}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Tb({type:e,selectors:[["app-user-profile"]],decls:8,vars:4,template:function(e,t){1&e&&(m.fc(0,"mat-card"),m.Oc(1),m.ac(2,"br"),m.Oc(3),m.ac(4,"br"),m.Oc(5),m.ac(6,"br"),m.Oc(7),m.ec()),2&e&&(m.Ob(1),m.Qc(" Name: ",t.userData.fullName,""),m.Ob(2),m.Qc(" Email: ",t.userData.email,""),m.Ob(2),m.Qc(" Mobile: ",t.userData.mobile,""),m.Ob(2),m.Qc(" Device Limit: ",t.userData.device_limit,"\n"))},directives:[h.a],styles:[""]}),e})()}];let ac=(()=>{class e{}return e.\u0275mod=m.Xb({type:e}),e.\u0275inj=m.Wb({factory:function(t){return new(t||e)},imports:[[n.f.forChild(oc)],n.f]}),e})(),rc=(()=>{class e{}return e.\u0275mod=m.Xb({type:e}),e.\u0275inj=m.Wb({factory:function(t){return new(t||e)},imports:[[i.c,ac,a.a,o.q,o.i,r.b,s.a]]}),e})()},Cp0R:function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));var i=c("fXoL"),o=c("Ofeh"),a=c("tyNb");let r=(()=>{class e{constructor(e,t){this.loginService=e,this.router=t,this.assigedRole=[]}canActivate(e,t){return this.loginService.loggedIn()?(this.assigedRole=JSON.parse(localStorage.getItem("rolesData")),1==this.assigedRole.includes(e.data.roles)||(this.router.navigate(["/deny"]),!1)):(this.router.navigate(["/"]),!1)}}return e.\u0275fac=function(t){return new(t||e)(i.jc(o.a),i.jc(a.c))},e.\u0275prov=i.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},H0VJ:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var i=c("fXoL"),o=c("0IaG"),a=c("NFeN"),r=c("bTqV");let s=(()=>{class e{constructor(e){this.dialogRef=e}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return e.\u0275fac=function(t){return new(t||e)(i.Zb(o.f))},e.\u0275cmp=i.Tb({type:e,selectors:[["app-mat-dialog"]],decls:11,vars:2,consts:[[1,"content-container"],["id","close-button",3,"click"],[1,"content-span"],["mat-flat-button","","id","no-button",3,"mat-dialog-close"],["mat-flat-button","","id","yes-button","color","warn",3,"mat-dialog-close"]],template:function(e,t){1&e&&(i.fc(0,"div"),i.fc(1,"div",0),i.fc(2,"mat-icon",1),i.nc("click",(function(){return t.closeDialog()})),i.Oc(3,"close"),i.ec(),i.fc(4,"div",2),i.Oc(5,"Are you sure to delete this record ?"),i.ec(),i.ec(),i.fc(6,"div"),i.fc(7,"button",3),i.Oc(8,"No"),i.ec(),i.fc(9,"button",4),i.Oc(10,"Yes"),i.ec(),i.ec(),i.ec()),2&e&&(i.Ob(7),i.xc("mat-dialog-close",!1),i.Ob(2),i.xc("mat-dialog-close",!0))},directives:[a.a,r.b,o.c],styles:["#close-button[_ngcontent-%COMP%]{margin-left:90%;cursor:pointer}.content-span[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:20px}#no-button[_ngcontent-%COMP%]{width:30%;margin-left:7%;margin-right:25%;background-color:#ff0}#yes-button[_ngcontent-%COMP%]{width:30%}"]}),e})(),n=(()=>{class e{constructor(e){this.dialog=e}openConfirmDialog(){return this.dialog.open(s,{width:"300px",disableClose:!0,position:{top:"20px"}})}}return e.\u0275fac=function(t){return new(t||e)(i.jc(o.b))},e.\u0275prov=i.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},M5z4:function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));var i=c("AytR"),o=c("fXoL"),a=c("tk/3");let r=(()=>{class e{constructor(e){this.http=e,this.url=i.a.apiUrl+"/customer/"}getAllCustomer(e){return this.http.post(this.url+"/listCustomer",e)}getCustomerById(e){return this.http.get(this.url+e+"/editCustomer")}updateCustomer(e,t){return this.http.put(this.url+e+"/updateCustomer",t)}getAllCustomerList(){return this.http.get(this.url+"/allCustomerList")}customerSearch(e){return this.http.post(this.url+"/customerSearch",e)}DeviceByCustomer(e){return this.http.get(this.url+e+"/getDeviceByCustomer")}DeviceByCustomerWithPosition(e){return this.http.get(this.url+e+"/getDeviceByCustomerWithPosition")}}return e.\u0275fac=function(t){return new(t||e)(o.jc(a.b))},e.\u0275prov=o.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},XCAU:function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));var i=c("AytR"),o=c("fXoL"),a=c("tk/3");let r=(()=>{class e{constructor(e){this.http=e,this.url=i.a.apiUrl+"/device/"}getAllDevices(){return this.http.get(this.url+"/listDevices")}addDevice(e){return this.http.post(this.url+"/addDevice",e)}getAllDevice(){return this.http.get(this.url+"/listDevice")}getDeviceById(e){return this.http.get(this.url+e+"/editDevice")}updateDevice(e,t){return this.http.put(this.url+e+"/updateDevice",t)}deleteDevice(e){return this.http.delete(this.url+e+"/deleteDevice")}addDeviceWithUser(e){return this.http.post(this.url+"/addUserDevice",e)}deleteUserDevice(e){return this.http.post(this.url+"/deleteUserDevice",e)}getDeviceByUserId(e){return this.http.get(this.url+e+"/getDeviceByUser")}getDeviceByAllUser(){return this.http.get(this.url+"/getDeviceByAllUser")}addDeviceWithCustomer(e){return this.http.post(this.url+"/addCustomerDevice",e)}deleteCustomerDevice(e){return this.http.post(this.url+"/deleteCustomerDevice",e)}getDeviceByCustomerId(e){return this.http.get(this.url+e+"/getDeviceByCustomerId")}getAllPostion(){return this.http.get(this.url+"/listPositions")}getAllPostionBySearch(e){return console.log(e),this.http.post(this.url+"/listSearchPositions",e)}getAllEvents(){return this.http.get(this.url+"/listEvents")}getDeviceWithPositionById(e){return this.http.get(this.url+e+"/getDeviceWithPositionById")}}return e.\u0275fac=function(t){return new(t||e)(o.jc(a.b))},e.\u0275prov=o.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);
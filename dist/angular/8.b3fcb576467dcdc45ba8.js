(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+OO2":function(t,e,c){"use strict";c.r(e),c.d(e,"CustomerModule",(function(){return nc}));var i=c("ofXK"),r=c("3Pt+"),o=c("jAig"),s=c("KUt4"),a=c("YUcS"),n=c("tyNb"),l=c("M9IT"),u=c("Dh3D"),d=c("+0xr"),m=c("0IaG"),h=c("fXoL"),f=c("XCAU"),p=c("dNgK"),g=c("H0VJ"),b=c("NFeN"),v=c("bSwM");function y(t,e){1&t&&h.ac(0,"th",11)}function C(t,e){if(1&t){const t=h.gc();h.fc(0,"td",12),h.fc(1,"mat-checkbox",13),h.nc("change",(function(c){h.Hc(t);const i=e.$implicit;return h.rc().check(c.checked,i)})),h.ec(),h.ec()}if(2&t){const t=e.$implicit,c=h.rc();h.Ob(1),h.yc("checked",c.checkState(t.id))}}function D(t,e){1&t&&(h.fc(0,"th",11),h.Qc(1,"Name"),h.ec())}function P(t,e){if(1&t&&(h.fc(0,"td",12),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.name)}}function O(t,e){1&t&&(h.fc(0,"th",11),h.Qc(1,"Identifier"),h.ec())}function S(t,e){if(1&t&&(h.fc(0,"td",12),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.identifier)}}function x(t,e){1&t&&h.ac(0,"tr",14)}function I(t,e){1&t&&h.ac(0,"tr",15)}let w=(()=>{class t{constructor(t,e,c,i,r,o,s){this.devcieService=t,this.snackBar=e,this.router=c,this.dialogService=i,this.dialogRef=r,this.dialog=o,this.data=s,this.source=[],this.dataSource=new d.k([]),this.displayedColumns=["select","name","identifier"],this.sms=[{id:1,value:"true"},{id:0,value:"false"}],this.Id=s.customer_id,this.reseller_id=s.id,this.reseller=s.reseller}ngOnInit(){this.getAllDevice(),this.getDeviceByCustomer()}getAllDevice(){this.devcieService.getAllFreeDevice().subscribe(t=>{console.log(t),this.devices=t,this.devices.forEach(t=>{this.source.push({id:t.id,name:t.name,identifier:t.uniqueid}),this.dataSource=new d.k(this.source),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})})}getDeviceByCustomer(){0!=this.reseller?this.devcieService.getDeviceByResellerIdFor(this.reseller_id).subscribe(t=>{this.customerDevices=t,this.customerDevices.length>0&&this.customerDevices.forEach(t=>{this.source.push({id:t.id,name:t.name,identifier:t.uniqueid}),console.log(this.source),this.dataSource=new d.k(this.source),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator),this.customerDevices.push(t.id)})}):this.devcieService.getDeviceByCustomerId(this.Id).subscribe(t=>{console.log(t),this.customerDevices=t,this.customerDevices.length>0&&this.customerDevices.forEach(t=>{this.source.push({id:t.id,name:t.name,identifier:t.uniqueid}),console.log(this.source),this.dataSource=new d.k(this.source),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator),this.customerDevices.push(t.id)})})}close(){this.dialogRef.close()}checkState(t){if(this.customerDevices)return this.customerDevices.indexOf(t)>-1}check(t,e){0==this.reseller?t?(this.object={customerId:this.Id,deviceId:e.id},this.devcieService.addDeviceWithCustomer(this.object).subscribe()):(this.object={customerId:this.Id,deviceId:e.id},this.devcieService.deleteCustomerDevice(this.object).subscribe()):t?(this.object={reseller_id:this.reseller_id,deviceId:e.id},this.devcieService.addDeviceWithReseller(this.object).subscribe()):(this.object={reseller_id:this.reseller_id,deviceId:e.id},this.devcieService.deleteDeviceFromReseller(this.object).subscribe())}}return t.\u0275fac=function(e){return new(e||t)(h.Zb(f.a),h.Zb(p.a),h.Zb(n.c),h.Zb(g.a),h.Zb(m.f),h.Zb(m.b),h.Zb(m.a,8))},t.\u0275cmp=h.Tb({type:t,selectors:[["app-customer-device"]],viewQuery:function(t,e){var c;1&t&&(h.Uc(u.a,!0),h.Uc(l.a,!0)),2&t&&(h.Ec(c=h.oc())&&(e.sort=c.first),h.Ec(c=h.oc())&&(e.paginator=c.first))},decls:20,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(t,e){1&t&&(h.fc(0,"div",0),h.fc(1,"div",1),h.fc(2,"h3"),h.Qc(3,"Device Table"),h.ec(),h.fc(4,"span"),h.fc(5,"a"),h.fc(6,"mat-icon",2),h.nc("click",(function(){return e.close()})),h.Qc(7,"X"),h.ec(),h.ec(),h.ec(),h.ec(),h.fc(8,"table",3),h.dc(9,4),h.Pc(10,y,1,0,"th",5),h.Pc(11,C,2,1,"td",6),h.cc(),h.dc(12,7),h.Pc(13,D,2,0,"th",5),h.Pc(14,P,2,1,"td",6),h.cc(),h.dc(15,8),h.Pc(16,O,2,0,"th",5),h.Pc(17,S,2,1,"td",6),h.cc(),h.Pc(18,x,1,0,"tr",9),h.Pc(19,I,1,0,"tr",10),h.ec(),h.ec()),2&t&&(h.Ob(8),h.yc("dataSource",e.dataSource),h.Ob(10),h.yc("matHeaderRowDef",e.displayedColumns),h.Ob(1),h.yc("matRowDefColumns",e.displayedColumns))},directives:[b.a,d.j,s.a,d.c,d.e,d.b,d.g,d.i,d.d,d.a,v.a,d.f,d.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),t})();var _=c("1jOF");function k(t,e){1&t&&h.ac(0,"th",12)}function Q(t,e){if(1&t){const t=h.gc();h.fc(0,"td",13),h.fc(1,"mat-checkbox",14),h.nc("change",(function(c){h.Hc(t);const i=e.$implicit;return h.rc().check(c.checked,i)})),h.ec(),h.ec()}if(2&t){const t=e.$implicit,c=h.rc();h.Ob(1),h.yc("checked",c.checkState(t.id))}}function R(t,e){1&t&&(h.fc(0,"th",12),h.Qc(1,"Name"),h.ec())}function M(t,e){if(1&t&&(h.fc(0,"td",13),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.name)}}function B(t,e){1&t&&(h.fc(0,"th",12),h.Qc(1,"Identifier"),h.ec())}function E(t,e){if(1&t&&(h.fc(0,"td",13),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.uniqueid)}}function A(t,e){1&t&&h.ac(0,"tr",15)}function q(t,e){1&t&&h.ac(0,"tr",16)}function F(t,e){1&t&&(h.fc(0,"div"),h.Qc(1," No Records Found! "),h.ec())}let Z=(()=>{class t{constructor(t,e,c,i,r,o,s){this.driverService=t,this.snackBar=e,this.router=c,this.dialogService=i,this.dialogRef=r,this.dialog=o,this.data=s,this.source=[],this.dataSource=new d.k([]),this.displayedColumns=["select","name","identifier"],this.Id=s.pageValue}ngOnInit(){this.getDriveByCustomer(),this.getAllCustomerDriver()}getAllCustomerDriver(){this.driverService.getAllCustomerDriver().subscribe(t=>{console.log(t),this.drivers=t,this.drivers.forEach(t=>{this.source.push({id:t.id,name:t.name,identifier:t.uniqueid}),this.dataSource=new d.k(this.source),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})})}getDriveByCustomer(){this.driverService.getDriverByCustomerId(this.Id).subscribe(t=>{console.log(t),this.customerDrivers=t,this.customerDrivers.length>0&&this.customerDrivers.forEach(t=>{this.source.push({id:t.id,name:t.name,identifier:t.uniqueid}),console.log(this.source),this.dataSource=new d.k(this.source),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator),this.customerDrivers.push(t.id)})})}close(){this.dialogRef.close()}checkState(t){if(this.customerDrivers)return this.customerDrivers.indexOf(t)>-1}check(t,e){t?(this.object={customerId:this.Id,driverId:e.id},this.driverService.addDriverWithCustomer(this.object).subscribe()):(this.object={customerId:this.Id,driverId:e.id},this.driverService.deleteCustomerDriver(this.object).subscribe())}}return t.\u0275fac=function(e){return new(e||t)(h.Zb(_.a),h.Zb(p.a),h.Zb(n.c),h.Zb(g.a),h.Zb(m.f),h.Zb(m.b),h.Zb(m.a,8))},t.\u0275cmp=h.Tb({type:t,selectors:[["app-customer-driver"]],viewQuery:function(t,e){var c;1&t&&(h.Uc(u.a,!0),h.Uc(l.a,!0)),2&t&&(h.Ec(c=h.oc())&&(e.sort=c.first),h.Ec(c=h.oc())&&(e.paginator=c.first))},decls:21,vars:4,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(t,e){1&t&&(h.fc(0,"div",0),h.fc(1,"div",1),h.fc(2,"h3"),h.Qc(3,"Driver Table"),h.ec(),h.fc(4,"span"),h.fc(5,"a"),h.fc(6,"mat-icon",2),h.nc("click",(function(){return e.close()})),h.Qc(7,"X"),h.ec(),h.ec(),h.ec(),h.ec(),h.fc(8,"table",3),h.dc(9,4),h.Pc(10,k,1,0,"th",5),h.Pc(11,Q,2,1,"td",6),h.cc(),h.dc(12,7),h.Pc(13,R,2,0,"th",5),h.Pc(14,M,2,1,"td",6),h.cc(),h.dc(15,8),h.Pc(16,B,2,0,"th",5),h.Pc(17,E,2,1,"td",6),h.cc(),h.Pc(18,A,1,0,"tr",9),h.Pc(19,q,1,0,"tr",10),h.ec(),h.Pc(20,F,2,0,"div",11),h.ec()),2&t&&(h.Ob(8),h.yc("dataSource",e.dataSource),h.Ob(10),h.yc("matHeaderRowDef",e.displayedColumns),h.Ob(1),h.yc("matRowDefColumns",e.displayedColumns),h.Ob(1),h.yc("ngIf",0===e.dataSource.data.length))},directives:[b.a,d.j,s.a,d.c,d.e,d.b,d.g,d.i,i.m,d.d,d.a,v.a,d.f,d.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),t})();var T=c("M5z4"),N=c("Wp6s"),$=c("kmnG"),j=c("qFsG"),H=c("bTqV"),U=c("Xa2L");function L(t,e){1&t&&(h.fc(0,"div",11),h.ac(1,"mat-progress-spinner",12),h.ec())}let W=(()=>{class t{constructor(t,e,c,i,r,o,s,a){this.fb=t,this.customerService=e,this.deviceService=c,this.dialogRef=i,this.dialog=r,this.router=o,this.snackBar=s,this.data=a,this.successErrorInfo=[],this.reseller_id=a.id,this.customer_id=a.customer_id,this.reseller=a.reseller}ngOnInit(){this.myform=this.fb.group({imei:["",[r.s.required]]}),this.dialogRef.disableClose=!0}close(){this.dialogRef.close()}importResellerDevice(){this.successErrorInfo=[],this.userData=JSON.parse(localStorage.getItem("userData")),this.myform.value.updated_by=this.userData.id,this.myform.value.updated_time=new Date,this.myform.value.imei.split(",").forEach(t=>{this.isLoading=!0,this.deviceService.getDeviceIdByIMEI(t).subscribe(e=>{console.log(e),e?(this.deviceData=e,0==this.deviceData.reseller_id&&0==this.deviceData.assign_customer_id?(this.myform.value.deviceId=this.deviceData.id,1==this.reseller?(console.log("reseller device testing"),this.myform.value.reseller_id=this.reseller_id,this.deviceService.addDeviceWithReseller(this.myform.value).subscribe(e=>{e.message&&(this.successErrorInfo.push({id:t,status:e.message.status,reason:e.message.reason}),console.log(this.successErrorInfo.length))})):(this.myform.value.customerId=this.customer_id,this.deviceService.addDeviceWithCustomerByImport(this.myform.value).subscribe(e=>{e.message&&(this.successErrorInfo.push({id:t,status:e.message.status,reason:e.message.reason}),console.log(this.successErrorInfo.length))}))):this.successErrorInfo.push({id:t,status:"Failed",reason:"Already Assaigned"})):this.successErrorInfo.push({id:t,status:"Failed",reason:"Not Valid"})})}),setTimeout(()=>{this.isLoading=!1,this.dialogRef.close(),this.successErrorInfo&&(console.log(this.successErrorInfo),this.customerService.deviceImportStatusExchange(this.successErrorInfo))},1e3)}}return t.\u0275fac=function(e){return new(e||t)(h.Zb(r.e),h.Zb(T.a),h.Zb(f.a),h.Zb(m.f),h.Zb(m.b),h.Zb(n.c),h.Zb(p.a),h.Zb(m.a,8))},t.\u0275cmp=h.Tb({type:t,selectors:[["app-reseller-device"]],decls:21,vars:2,consts:[[1,"table-title"],[3,"click"],[1,"customStyle"],[3,"formGroup"],[1,"main"],[1,"full"],["trim","blur","matInput","","placeholder","IMEI Number","formControlName","imei","autocomplete","off","required",""],["align","end"],[1,"button"],["mat-stroked-button","","color","primary",1,"btn-block",3,"click"],["class","center","style","display:flex; justify-content: center; align-items: center",4,"ngIf"],[1,"center",2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"]],template:function(t,e){1&t&&(h.fc(0,"div",0),h.fc(1,"h3"),h.Qc(2,"Add Device "),h.ec(),h.fc(3,"span"),h.fc(4,"a"),h.fc(5,"mat-icon",1),h.nc("click",(function(){return e.close()})),h.Qc(6,"close"),h.ec(),h.ec(),h.ec(),h.ec(),h.fc(7,"mat-card",2),h.fc(8,"mat-card-content"),h.fc(9,"form",3),h.fc(10,"div",4),h.fc(11,"mat-form-field",5),h.ac(12,"textarea",6),h.fc(13,"mat-hint",7),h.Qc(14," Please IMEI with comma seperated"),h.ec(),h.ec(),h.ec(),h.ec(),h.ec(),h.fc(15,"mat-card-actions",8),h.fc(16,"button",9),h.nc("click",(function(){return e.importResellerDevice()})),h.Qc(17," Submit "),h.ec(),h.fc(18,"button",9),h.nc("click",(function(){return e.close()})),h.Qc(19," Close "),h.ec(),h.ec(),h.ec(),h.Pc(20,L,2,0,"div",10)),2&t&&(h.Ob(9),h.yc("formGroup",e.myform),h.Ob(11),h.yc("ngIf",e.isLoading))},directives:[b.a,N.a,N.c,r.t,r.n,r.g,$.c,j.b,r.c,r.m,r.f,r.r,$.f,N.b,H.b,i.m,U.a],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:70%;margin-left:5%}mat-card[_ngcontent-%COMP%]{width:80%}.center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}"]}),t})();function V(t,e){1&t&&(h.fc(0,"th",9),h.Qc(1,"IMEI"),h.ec())}function G(t,e){if(1&t&&(h.fc(0,"td",10),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.id)}}function z(t,e){1&t&&(h.fc(0,"th",9),h.Qc(1,"Status"),h.ec())}function X(t,e){if(1&t&&(h.fc(0,"td",10),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.status)}}function J(t,e){1&t&&(h.fc(0,"th",9),h.Qc(1,"Reason"),h.ec())}function Y(t,e){if(1&t&&(h.fc(0,"td",10),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.reason)}}function K(t,e){1&t&&h.ac(0,"tr",11)}function tt(t,e){1&t&&h.ac(0,"tr",12)}let et=(()=>{class t{constructor(t,e,c,i){this.customerService=t,this.dialogRef=e,this.dialog=c,this.data=i,this.error=1,this.dataSource=new d.k([]),this.displayedColumns=["id","status","reason"],console.log("tttttttttt"),this.errorData=i,console.log(this.errorData)}ngOnInit(){console.log("tttttttttt"),this.obs=this.customerService.deviceImportStatusCatch.subscribe(t=>{console.log(t),t&&(this.errorData=t,this.dataSource=new d.k(t))})}ngOnDestroy(){this.obs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Zb(T.a),h.Zb(m.f),h.Zb(m.b),h.Zb(m.a,8))},t.\u0275cmp=h.Tb({type:t,selectors:[["app-device-import-status"]],decls:13,vars:3,consts:[[1,"custom-style"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","reason"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(t,e){1&t&&(h.fc(0,"div",0),h.fc(1,"table",1),h.dc(2,2),h.Pc(3,V,2,0,"th",3),h.Pc(4,G,2,1,"td",4),h.cc(),h.dc(5,5),h.Pc(6,z,2,0,"th",3),h.Pc(7,X,2,1,"td",4),h.cc(),h.dc(8,6),h.Pc(9,J,2,0,"th",3),h.Pc(10,Y,2,1,"td",4),h.cc(),h.Pc(11,K,1,0,"tr",7),h.Pc(12,tt,1,0,"tr",8),h.ec(),h.ec()),2&t&&(h.Ob(1),h.yc("dataSource",e.dataSource),h.Ob(10),h.yc("matHeaderRowDef",e.displayedColumns),h.Ob(1),h.yc("matRowDefColumns",e.displayedColumns))},directives:[d.j,u.a,d.c,d.e,d.b,d.g,d.i,d.d,u.b,d.a,d.f,d.h],styles:[""]}),t})();var ct=c("Nl8B"),it=c("XiUz"),rt=c("d3UM"),ot=c("FKr1"),st=c("STbY"),at=c("znSr");function nt(t,e){if(1&t&&(h.fc(0,"mat-option",41),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.yc("value",t.id),h.Ob(1),h.Sc(" ",t.value," ")}}function lt(t,e){if(1&t&&(h.fc(0,"mat-option",41),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.yc("value",t.id),h.Ob(1),h.Sc(" ",t.value," ")}}function ut(t,e){1&t&&(h.fc(0,"th",42),h.Qc(1,"Action"),h.ec())}function dt(t,e){if(1&t){const t=h.gc();h.fc(0,"button",50),h.fc(1,"mat-icon",47),h.nc("click",(function(){h.Hc(t);const e=h.rc().$implicit;return h.rc().editCustomer(e.customer_id)})),h.Qc(2,"edit"),h.ec(),h.ec()}}function mt(t,e){if(1&t&&(h.fc(0,"button",51),h.fc(1,"mat-icon"),h.Qc(2,"settings"),h.ec(),h.ec()),2&t){h.rc();const t=h.Fc(8);h.yc("matMenuTriggerFor",t)}}function ht(t,e){if(1&t){const t=h.gc();h.fc(0,"button",50),h.fc(1,"mat-icon",47),h.nc("click",(function(){h.Hc(t);const e=h.rc().$implicit;return h.rc().resellerCustomer(e.id)})),h.Qc(2,"view_list"),h.ec(),h.ec()}}function ft(t,e){if(1&t){const t=h.gc();h.fc(0,"td",43),h.Pc(1,dt,3,0,"button",44),h.Pc(2,mt,3,1,"button",45),h.fc(3,"button",46),h.fc(4,"mat-icon",47),h.nc("click",(function(){h.Hc(t);const c=e.$implicit;return h.rc().customerQuery(c.customer_id)})),h.Qc(5,"visibility"),h.ec(),h.ec(),h.Pc(6,ht,3,0,"button",44),h.fc(7,"mat-menu",null,48),h.fc(9,"button",49),h.nc("click",(function(){h.Hc(t);const c=e.$implicit;return h.rc().openDeviceModal(c)})),h.Qc(10,"Devices Add"),h.ec(),h.fc(11,"button",49),h.nc("click",(function(){h.Hc(t);const c=e.$implicit;return h.rc().openDriverModal(c)})),h.Qc(12,"Drivers Add"),h.ec(),h.fc(13,"button",49),h.nc("click",(function(){h.Hc(t);const c=e.$implicit;return h.rc().openResellerDeviceModal(c)})),h.Qc(14,"Device Import"),h.ec(),h.ec(),h.ec()}if(2&t){const t=e.$implicit,c=h.rc();h.Ob(1),h.yc("ngIf",1==c.assigedRole.includes("customer_edit")),h.Ob(1),h.yc("ngIf",1==c.assigedRole.includes("customer_setting")),h.Ob(4),h.yc("ngIf",1==t.reseller)}}function pt(t,e){1&t&&(h.fc(0,"th",52),h.Qc(1,"#"),h.ec())}function gt(t,e){if(1&t&&(h.fc(0,"td",43),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.id)}}function bt(t,e){1&t&&(h.fc(0,"th",52),h.Qc(1,"Customer ID"),h.ec())}function vt(t,e){if(1&t&&(h.fc(0,"td",43),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.customer_id)}}function yt(t,e){1&t&&(h.fc(0,"th",52),h.Qc(1,"Name"),h.ec())}function Ct(t,e){if(1&t&&(h.fc(0,"td",43),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.name)}}function Dt(t,e){1&t&&(h.fc(0,"th",52),h.Qc(1,"Phone"),h.ec())}function Pt(t,e){if(1&t&&(h.fc(0,"td",43),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.phone)}}function Ot(t,e){1&t&&(h.fc(0,"th",52),h.Qc(1,"Email"),h.ec())}function St(t,e){if(1&t&&(h.fc(0,"td",43),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.email)}}function xt(t,e){1&t&&(h.fc(0,"th",52),h.Qc(1,"Reseller"),h.ec())}function It(t,e){if(1&t&&(h.fc(0,"td",43),h.Qc(1),h.ec()),2&t){const t=e.$implicit,c=h.rc();h.Ob(1),h.Rc(null==c.resale[t.reseller]?null:c.resale[t.reseller].value)}}function wt(t,e){1&t&&(h.fc(0,"th",52),h.Qc(1,"Status"),h.ec())}function _t(t,e){if(1&t&&(h.fc(0,"td",43),h.Qc(1),h.ec()),2&t){const t=e.$implicit,c=h.rc();h.Ob(1),h.Rc(null==c.states[t.status]?null:c.states[t.status].value)}}function kt(t,e){1&t&&h.ac(0,"tr",53)}function Qt(t,e){1&t&&h.ac(0,"tr",54)}const Rt=function(t){return{active:t}};function Mt(t,e){if(1&t){const t=h.gc();h.fc(0,"li",56),h.fc(1,"a",47),h.nc("click",(function(){h.Hc(t);const c=e.$implicit;return h.rc(2).getCustomerByPage(c)})),h.Qc(2),h.ec(),h.ec()}if(2&t){const t=e.$implicit,c=h.rc(2);h.yc("ngClass",h.Bc(2,Rt,c.pager.currentPage===t)),h.Ob(2),h.Rc(t)}}const Bt=function(t){return{disabled:t}};function Et(t,e){if(1&t){const t=h.gc();h.fc(0,"ul",55),h.fc(1,"li",56),h.fc(2,"a",47),h.nc("click",(function(){h.Hc(t);const e=h.rc();return e.getCustomerByPage(e.pager.currentPage-1)})),h.Qc(3,"\xab"),h.ec(),h.ec(),h.Pc(4,Mt,3,4,"li",57),h.fc(5,"li",56),h.fc(6,"a",47),h.nc("click",(function(){h.Hc(t);const e=h.rc();return e.getCustomerByPage(e.pager.currentPage+1)})),h.Qc(7,"\xbb"),h.ec(),h.ec(),h.ec()}if(2&t){const t=h.rc();h.Ob(1),h.yc("ngClass",h.Bc(3,Bt,1===t.pager.currentPage)),h.Ob(3),h.yc("ngForOf",t.pager.pages),h.Ob(1),h.yc("ngClass",h.Bc(5,Bt,2===t.pager.currentPage))}}function At(t,e){1&t&&(h.fc(0,"mat-card",58),h.ac(1,"mat-progress-spinner",59),h.ec())}function qt(t,e){1&t&&(h.fc(0,"mat-card"),h.Qc(1," No Records Found! "),h.ec())}const Ft=function(){return[0]};let Zt=(()=>{class t{constructor(t,e,c,i,r,o,s){this.customerService=t,this.snackBar=e,this.router=c,this.dialogService=i,this.dialog=r,this.pagination=o,this.fb=s,this.currentPage=1,this.params={},this.pager=[],this.record=[],this.assigedRole=[],this.states=[{id:0,value:"Inactive"},{id:1,value:"Active"}],this.resale=[{id:0,value:" "},{id:1,value:"YES"}],this.dataSource=new d.k([]),this.isLoading=!0,this.displayedColumns=["action","id","customer_id","name","email","phone","reseller","status"],this.assigedRole=JSON.parse(sessionStorage.getItem("rolesData")),this.testingValue=0}ngOnInit(){this.myform=this.fb.group({customer_id:[""],name:[""],email:[""],phone:[""],reseller_id:[],status:[]}),this.getAllCustomer(),this.obs=this.customerService.deviceImportStatusCatch.subscribe(t=>{1==this.testingValue&&t&&setTimeout(()=>{this.openDeviceImportStatusModal()},50)}),this.addTestingValue()}ngOnDestroy(){this.obs.unsubscribe()}addTestingValue(){this.testingValue=1}getAllCustomerTest(){this.customerService.getAllCustomer(this.params).subscribe(t=>{this.customers=t,this.dataSource=new d.k(this.customers),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator),this.isLoading=!1})}getAllCustomer(){this.params={currentPage:this.currentPage},this.customerService.getAllCustomer(this.params).subscribe(t=>{this.customers=t.rows,this.record=t.count,console.log(t.count),this.pager=this.pagination.paginate(this.record),console.log(this.pager.totalPages),this.dataSource=new d.k(this.customers),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator),this.isLoading=!1})}getCustomerByPage(t){this.page=t,this.page>this.pager.totalPages||(this.params={currentPage:t,name:this.myform.value.name,customer_id:this.myform.value.customer_id,email:this.myform.value.email,phone:this.myform.value.phone},this.customerService.getAllCustomer(this.params).subscribe(e=>{this.isLoading=!1,this.customers=e.rows,console.log(this.record),this.pager=this.pagination.paginate(this.record,t),this.dataSource=new d.k(this.customers),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)}))}getCustomerBySearch(){this.params={currentPage:this.currentPage,name:this.myform.value.name,reseller_id:this.myform.value.reseller_id,customer_id:this.myform.value.customer_id,email:this.myform.value.email,phone:this.myform.value.phone,status:this.myform.value.status},console.log(this.params),this.customerService.getAllCustomer(this.params).subscribe(t=>{this.isLoading=!1,this.customers=t.rows,this.record=t.count,this.pager=this.pagination.paginate(this.record),this.dataSource=new d.k(this.customers),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getBack(){this.getAllCustomer()}applyFilter(t){}editCustomer(t){this.router.navigate(["admin/customer/edit",t])}openDeviceModal(t){console.log(t.customer_id);const e=new m.d;e.disableClose=!0,e.width="600px",e.height="480px",this.dialog.open(w,{width:"580px",height:"460px",data:{id:t.id,reseller:t.reseller,customer_id:t.customer_id}}).afterClosed().subscribe(t=>{})}openDriverModal(t){const e=new m.d;e.disableClose=!0,e.width="600px",e.height="480px",this.dialog.open(Z,{width:"580px",height:"460px",data:{pageValue:t.customer_id}}).afterClosed().subscribe(t=>{})}goAddPage(){this.router.navigate(["admin/customer/add"])}cleanForm(t){Object.keys(t.controls).forEach(e=>t.get(e).setValue(t.get(e).value.trim()))}customerQuery(t){this.router.navigate(["admin/customer/customer-query",t])}resellerCustomer(t){this.router.navigate(["admin/customer/reseller-customer",t])}openResellerDeviceModal(t){const e=new m.d;e.disableClose=!0,e.width="600px",e.height="480px",this.dialog.open(W,{width:"580px",height:"460px",data:{id:t.id,reseller:t.reseller,customer_id:t.customer_id}}).afterClosed().subscribe(t=>{})}openDeviceImportStatusModal(){const t=new m.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(et,{width:"580px",height:"260px"}).afterClosed().subscribe(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(h.Zb(T.a),h.Zb(p.a),h.Zb(n.c),h.Zb(g.a),h.Zb(m.b),h.Zb(ct.a),h.Zb(r.e))},t.\u0275cmp=h.Tb({type:t,selectors:[["app-customer-list"]],viewQuery:function(t,e){var c;1&t&&(h.Uc(u.a,!0),h.Uc(l.a,!0)),2&t&&(h.Ec(c=h.oc())&&(e.sort=c.first),h.Ec(c=h.oc())&&(e.paginator=c.first))},decls:71,vars:11,consts:[[1,"custom-style"],[1,"table-title"],["fxLayout","row","fxLayout.xs","column",1,"search-div"],["fxFlex","70%"],[3,"formGroup"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","50%","fxFlex.xs","50%"],["fxFlex","32%","fxFlex.xs","32%",1,"search_field"],["matInput","","placeholder","Customer Id","formControlName","customer_id","autocomplete","off"],["matInput","","placeholder","Name","formControlName","name","autocomplete","off"],["matInput","","placeholder","Email","formControlName","email","autocomplete","off"],["fxFlex.xs","50%"],["fxFlex","22%","fxFlex.xs","32%",1,"search_field"],["matInput","","placeholder","Phone","formControlName","phone","autocomplete","off"],["formControlName","reseller_id"],[3,"value",4,"ngFor","ngForOf"],["formControlName","status"],["fxFlex","30%","fxFlex.xs","100%"],["mat-button","",1,"mat-stroked-button","mat-primary",3,"click"],[1,"addButton"],["mat-button","",1,"mat-raised-button","mat-primary",3,"click"],[1,"table_container"],["mat-table","","matTableExporter","","matSort","",1,"mat-elevation-z8",3,"dataSource","hiddenColumns"],["exporter","matTableExporter"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","customer_id"],["matColumnDef","name"],["matColumnDef","phone"],["matColumnDef","email"],["matColumnDef","reseller"],["matColumnDef","status"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],[1,"middle"],["class","pagination",4,"ngIf"],["style","display:flex; justify-content: center; align-items: center",4,"ngIf"],[4,"ngIf"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",4,"ngIf"],["mat-icon-button","","color","info",3,"matMenuTriggerFor",4,"ngIf"],["mat-icon-button","","color","info"],[3,"click"],["setting","matMenu"],["mat-menu-item","",3,"click"],["mat-icon-button",""],["mat-icon-button","","color","info",3,"matMenuTriggerFor"],["mat-header-cell","","mat-sort-header",""],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"],[1,"pagination"],[1,"pagination",3,"ngClass"],["class","pagination",3,"ngClass",4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"]],template:function(t,e){if(1&t){const t=h.gc();h.fc(0,"div",0),h.fc(1,"div",1),h.fc(2,"h3"),h.Qc(3,"Customer List"),h.ec(),h.ec(),h.fc(4,"div",2),h.fc(5,"div",3),h.fc(6,"form",4),h.fc(7,"div",5),h.fc(8,"div",6),h.fc(9,"mat-form-field",7),h.ac(10,"input",8),h.ec(),h.fc(11,"mat-form-field",7),h.ac(12,"input",9),h.ec(),h.fc(13,"mat-form-field",7),h.ac(14,"input",10),h.ec(),h.ec(),h.fc(15,"div",11),h.fc(16,"mat-form-field",12),h.ac(17,"input",13),h.ec(),h.fc(18,"mat-form-field",12),h.fc(19,"mat-label"),h.Qc(20,"Reseller"),h.ec(),h.fc(21,"mat-select",14),h.Pc(22,nt,2,2,"mat-option",15),h.ec(),h.ec(),h.fc(23,"mat-form-field",12),h.fc(24,"mat-label"),h.Qc(25,"Status"),h.ec(),h.fc(26,"mat-select",16),h.Pc(27,lt,2,2,"mat-option",15),h.ec(),h.ec(),h.ec(),h.ec(),h.ec(),h.ec(),h.fc(28,"div",17),h.fc(29,"button",18),h.nc("click",(function(){return e.cleanForm(e.myform)}))("click",(function(){return e.getCustomerBySearch()})),h.Qc(30," Search "),h.ec(),h.fc(31,"button",18),h.nc("click",(function(){return e.getBack()})),h.Qc(32," Back "),h.ec(),h.fc(33,"span",19),h.fc(34,"button",20),h.nc("click",(function(){return e.goAddPage()})),h.Qc(35," Add "),h.ec(),h.ec(),h.fc(36,"button",20),h.nc("click",(function(){return h.Hc(t),h.Fc(40).exportTable("csv",{fileName:"product"})})),h.Qc(37," CSV "),h.ec(),h.ec(),h.ec(),h.fc(38,"div",21),h.fc(39,"table",22,23),h.dc(41,24),h.Pc(42,ut,2,0,"th",25),h.Pc(43,ft,15,3,"td",26),h.cc(),h.dc(44,27),h.Pc(45,pt,2,0,"th",28),h.Pc(46,gt,2,1,"td",26),h.cc(),h.dc(47,29),h.Pc(48,bt,2,0,"th",28),h.Pc(49,vt,2,1,"td",26),h.cc(),h.dc(50,30),h.Pc(51,yt,2,0,"th",28),h.Pc(52,Ct,2,1,"td",26),h.cc(),h.dc(53,31),h.Pc(54,Dt,2,0,"th",28),h.Pc(55,Pt,2,1,"td",26),h.cc(),h.dc(56,32),h.Pc(57,Ot,2,0,"th",28),h.Pc(58,St,2,1,"td",26),h.cc(),h.dc(59,33),h.Pc(60,xt,2,0,"th",28),h.Pc(61,It,2,1,"td",26),h.cc(),h.dc(62,34),h.Pc(63,wt,2,0,"th",28),h.Pc(64,_t,2,1,"td",26),h.cc(),h.Pc(65,kt,1,0,"tr",35),h.Pc(66,Qt,1,0,"tr",36),h.ec(),h.ec(),h.ec(),h.fc(67,"div",37),h.Pc(68,Et,8,7,"ul",38),h.ec(),h.Pc(69,At,2,0,"mat-card",39),h.Pc(70,qt,2,0,"mat-card",40)}2&t&&(h.Ob(6),h.yc("formGroup",e.myform),h.Ob(16),h.yc("ngForOf",e.resale),h.Ob(5),h.yc("ngForOf",e.states),h.Ob(12),h.yc("dataSource",e.dataSource)("hiddenColumns",h.Ac(10,Ft)),h.Ob(26),h.yc("matHeaderRowDef",e.displayedColumns),h.Ob(1),h.yc("matRowDefColumns",e.displayedColumns),h.Ob(2),h.yc("ngIf",e.pager.pages&&e.pager.pages.length),h.Ob(1),h.yc("ngIf",e.isLoading),h.Ob(1),h.yc("ngIf",""==e.customers))},directives:[it.b,it.a,r.t,r.n,r.g,$.c,j.b,r.c,r.m,r.f,$.g,rt.a,i.l,H.b,d.j,s.a,u.a,d.c,d.e,d.b,d.g,d.i,i.m,ot.o,d.d,d.a,b.a,st.d,st.a,st.c,u.b,d.f,d.h,i.k,at.a,N.a,U.a],styles:[".table_container[_ngcontent-%COMP%]{margin-left:2%;width:96%;margin-right:2%;overflow:auto}.filter[_ngcontent-%COMP%]{width:15%;margin-right:50%}.header[_ngcontent-%COMP%]{overflow:hidden}.table[_ngcontent-%COMP%]{width:96%!important;margin-left:2%;margin-right:2%}.spacerb[_ngcontent-%COMP%]{margin-right:5px}h3[_ngcontent-%COMP%]{font-weight:500}.row[_ngcontent-%COMP%]{height:40px!important}.fl[_ngcontent-%COMP%]{position:relative;display:flex}.closeButton[_ngcontent-%COMP%]{margin-top:20px}.search_div[_ngcontent-%COMP%]{margin-left:5%}.search_field[_ngcontent-%COMP%]{margin-left:1%;width:10%;float:left}.mat-stroked-button[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;border:1px solid #00f}.mat-raised-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%]{width:8%;margin-left:.5%}.pagination[_ngcontent-%COMP%]{display:inline-block}.pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;float:left;padding:8px 16px;text-decoration:none;transition:background-color .3s;border:1px solid #ddd}.active[_ngcontent-%COMP%]{background-color:#29abe2;background:#4169e1;color:red}.pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:not(.active){background-color:#ddd}.middle[_ngcontent-%COMP%]{margin-left:50%}a[_ngcontent-%COMP%]{cursor:pointer}.mat-column-action[_ngcontent-%COMP%]{width:25%!important}"]}),t})();var Tt=c("Cp0R");function Nt(t,e){if(1&t&&(h.fc(0,"mat-option",18),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.yc("value",t.id),h.Ob(1),h.Sc(" ",t.value," ")}}function $t(t,e){1&t&&(h.fc(0,"mat-checkbox",20),h.Qc(1," Reseller\n"),h.ec())}function jt(t,e){if(1&t&&(h.fc(0,"span"),h.Pc(1,$t,2,0,"mat-checkbox",19),h.ec()),2&t){const t=h.rc();h.Ob(1),h.yc("ngIf",!t.resellerId.reseller_id)}}let Ht=(()=>{class t{constructor(t,e,c,i,r){this.fb=t,this.router=e,this.snackBar=c,this.customerService=i,this.route=r,this.submitted=!1,this.states=[{id:1,value:"Active"},{id:0,value:"Inactive"}]}ngOnInit(){this.myform=this.fb.group({name:["",[r.s.required]],email:[""],phone:[""],reseller:[],status:[],notes:[""],billing_address:["",[r.s.required]],contact_address:["",[r.s.required]]}),this.route.paramMap.subscribe(t=>{this.Id=t.get("id"),this.edit(this.Id)})}edit(t){console.log(t),this.customerService.getCustomerById(t).subscribe(t=>{this.resellerId=t,this.setData(t)})}setData(t){this.myform.patchValue({name:t.name,email:t.email,phone:t.phone,status:t.status,reseller:t.reseller,notes:t.notes,billing_address:t.billing_address,contact_address:t.contact_address})}goBack(){this.router.navigate(["/admin/customer/list"])}openSnackBar(){this.snackBar.open("Successfully updated!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}updateCustomer(){this.submitted=!0,this.myform.invalid||(this.userData=JSON.parse(localStorage.getItem("userData")),this.myform.value.updated_by=this.userData.id,this.myform.value.updated_time=new Date,this.customerService.updateCustomer(this.Id,this.myform.value).subscribe(t=>{this.openSnackBar(),this.router.navigate(["/admin/customer/list"])}))}}return t.\u0275fac=function(e){return new(e||t)(h.Zb(r.e),h.Zb(n.c),h.Zb(p.a),h.Zb(T.a),h.Zb(n.a))},t.\u0275cmp=h.Tb({type:t,selectors:[["app-customer-edit"]],decls:35,vars:4,consts:[["fxFlex","50%","fxFlex.xs","100%",1,"main"],["fxLayout","column",1,"customStyle"],[3,"formGroup"],["mat-button","",3,"click"],[1,"ab"],[1,"full"],["matInput","","placeholder","Name","formControlName","name","required","","autocomplete","off"],["matInput","","placeholder","Email","formControlName","email","autocomplete","off"],["matInput","","placeholder","Phone","formControlName","phone","required","","autocomplete","off"],[1,"fullhalf"],["matInput","","placeholder","Contact Address","formControlName","contact_address","required","","autocomplete","off"],[1,"half"],["matInput","","placeholder","Billing Address","formControlName","billing_address","required","","autocomplete","off"],["matInput","","placeholder","Notes","formControlName","notes","autocomplete","off"],["formControlName","status","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["mat-stroked-button","","color","primary",1,"btn-block",3,"disabled","click"],[3,"value"],["class","checkbox","formControlName","reseller","labelPosition","before",4,"ngIf"],["formControlName","reseller","labelPosition","before",1,"checkbox"]],template:function(t,e){1&t&&(h.fc(0,"div",0),h.fc(1,"mat-card",1),h.fc(2,"form",2),h.fc(3,"mat-card-header"),h.fc(4,"div"),h.fc(5,"button",3),h.nc("click",(function(){return e.goBack()})),h.fc(6,"mat-icon"),h.Qc(7,"arrow_back"),h.ec(),h.ec(),h.ec(),h.fc(8,"div",4),h.fc(9,"h2"),h.Qc(10,"Customer Update"),h.ec(),h.ec(),h.ec(),h.fc(11,"mat-card-content"),h.fc(12,"mat-form-field",5),h.ac(13,"input",6),h.ec(),h.fc(14,"mat-form-field",5),h.ac(15,"input",7),h.ec(),h.fc(16,"mat-form-field",5),h.ac(17,"input",8),h.ec(),h.fc(18,"mat-form-field",9),h.ac(19,"textarea",10),h.ec(),h.fc(20,"mat-form-field",11),h.ac(21,"textarea",12),h.ec(),h.ec(),h.fc(22,"mat-form-field",5),h.ac(23,"textarea",13),h.ec(),h.fc(24,"mat-form-field",5),h.fc(25,"mat-label"),h.Qc(26,"Status"),h.ec(),h.fc(27,"mat-select",14),h.Pc(28,Nt,2,2,"mat-option",15),h.ec(),h.ec(),h.Pc(29,jt,2,1,"span",16),h.fc(30,"mat-card-actions"),h.fc(31,"button",17),h.nc("click",(function(){return e.updateCustomer()})),h.Qc(32," Update "),h.ec(),h.fc(33,"p"),h.Qc(34,"Note: Field marked with * is Mandatory"),h.ec(),h.ec(),h.ec(),h.ec(),h.ec()),2&t&&(h.Ob(2),h.yc("formGroup",e.myform),h.Ob(26),h.yc("ngForOf",e.states),h.Ob(1),h.yc("ngIf",e.resellerId),h.Ob(2),h.yc("disabled",!e.myform.valid))},directives:[it.a,N.a,it.b,r.t,r.n,r.g,N.d,H.b,b.a,N.c,$.c,j.b,r.c,r.m,r.f,r.r,$.g,rt.a,i.l,i.m,N.b,ot.o,v.a],styles:[".main[_ngcontent-%COMP%]{margin:auto!important}.mat-card[_ngcontent-%COMP%]{width:95%!important}.customStyle[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important;margin-bottom:25px}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.full[_ngcontent-%COMP%]{width:90%}.half[_ngcontent-%COMP%]{margin-right:5%}.mat-raised-button[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}h1[_ngcontent-%COMP%]{font-weight:600}.arrow[_ngcontent-%COMP%]{float:right}h2[_ngcontent-%COMP%]{color:#00f}.checkbox[_ngcontent-%COMP%]{margin-left:5%}"]}),t})();function Ut(t,e){if(1&t&&(h.fc(0,"mat-option",15),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.yc("value",t.id),h.Ob(1),h.Sc(" ",t.value," ")}}let Lt=(()=>{class t{constructor(t,e,c,i,r){this.fb=t,this.router=e,this.snackBar=c,this.customerService=i,this.route=r,this.submitted=!1,this.states=[{id:1,value:"Active"},{id:0,value:"Inactive"}]}ngOnInit(){this.myform=this.fb.group({customer_id:[],name:["",[r.s.required]],email:["",[r.s.required,r.s.email]],reseller:[],reseller_id:[],status:[],notes:[""],phone:["",r.s.pattern("[- +()0-9]+")],billing_address:["",[r.s.required]],contact_address:["",[r.s.required]]})}openSnackBar(){this.snackBar.open("Successfully added!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}errorMessage(){this.snackBar.open("Something is error!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}addCustomer(){this.submitted=!0,this.myform.invalid||(this.myform.value.customer_id=Math.floor(9e4*Math.random())+1e4,this.userData=JSON.parse(localStorage.getItem("userData")),this.myform.value.created_by=this.userData.id,this.customerService.addCustomer(this.myform.value).subscribe(t=>{this.openSnackBar(),this.router.navigate(["/admin/customer/list"])}))}}return t.\u0275fac=function(e){return new(e||t)(h.Zb(r.e),h.Zb(n.c),h.Zb(p.a),h.Zb(T.a),h.Zb(n.a))},t.\u0275cmp=h.Tb({type:t,selectors:[["app-customer-add"]],decls:30,vars:3,consts:[["fxFlex","50%","fxFlex.xs","100%",1,"customStyle"],[3,"formGroup"],[1,"title-style"],[1,"full"],["matInput","","placeholder","Name","formControlName","name","required","","autocomplete","off"],["matInput","","placeholder","Email","formControlName","email","autocomplete","off"],["matInput","","placeholder","Phone","formControlName","phone","required","","autocomplete","off"],[1,"half"],["matInput","","placeholder","Contact Address","formControlName","contact_address","required","","autocomplete","off"],["matInput","","placeholder","Billing Address","formControlName","billing_address","required","","autocomplete","off"],["matInput","","placeholder","Notes","formControlName","notes","required","","autocomplete","off"],["formControlName","status","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","reseller","labelPosition","before",1,"checkbox"],["mat-stroked-button","","color","primary",1,"btn-block",3,"disabled","click"],[3,"value"]],template:function(t,e){1&t&&(h.fc(0,"mat-card",0),h.fc(1,"form",1),h.fc(2,"div",2),h.fc(3,"mat-card-title"),h.Qc(4,"Customer Add"),h.ec(),h.ec(),h.fc(5,"mat-card-content"),h.fc(6,"mat-form-field",3),h.ac(7,"input",4),h.ec(),h.fc(8,"mat-form-field",3),h.ac(9,"input",5),h.ec(),h.fc(10,"mat-form-field",3),h.ac(11,"input",6),h.ec(),h.fc(12,"mat-form-field",7),h.ac(13,"textarea",8),h.ec(),h.fc(14,"mat-form-field",7),h.ac(15,"textarea",9),h.ec(),h.fc(16,"mat-form-field",3),h.ac(17,"textarea",10),h.ec(),h.fc(18,"mat-form-field",3),h.fc(19,"mat-label"),h.Qc(20,"Status"),h.ec(),h.fc(21,"mat-select",11),h.Pc(22,Ut,2,2,"mat-option",12),h.ec(),h.ec(),h.fc(23,"mat-checkbox",13),h.Qc(24," Reseller "),h.ec(),h.ec(),h.fc(25,"mat-card-actions"),h.fc(26,"button",14),h.nc("click",(function(){return e.addCustomer()})),h.Qc(27," Add "),h.ec(),h.fc(28,"p"),h.Qc(29,"Note: Field marked with * is Mandatory"),h.ec(),h.ec(),h.ec(),h.ec()),2&t&&(h.Ob(1),h.yc("formGroup",e.myform),h.Ob(21),h.yc("ngForOf",e.states),h.Ob(4),h.yc("disabled",!e.myform.valid))},directives:[N.a,it.a,r.t,r.n,r.g,N.f,N.c,$.c,j.b,r.c,r.m,r.f,r.r,$.g,rt.a,i.l,v.a,N.b,H.b,ot.o],styles:[".main[_ngcontent-%COMP%]{margin:auto!important}.mat-card[_ngcontent-%COMP%]{width:90%!important}.customStyle[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important;margin-bottom:25px}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.full[_ngcontent-%COMP%]{width:90%}.mat-raised-button[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}h1[_ngcontent-%COMP%]{font-weight:600}.arrow[_ngcontent-%COMP%]{float:right}h2[_ngcontent-%COMP%]{color:#00f}.checkbox[_ngcontent-%COMP%]{margin-left:5%}"]}),t})();var Wt=c("whuR"),Vt=c("CjG4"),Gt=c("zkoq"),zt=c("f0Cb");function Xt(t,e){1&t&&(h.fc(0,"th",22),h.Qc(1,"Category"),h.ec())}function Jt(t,e){if(1&t&&(h.fc(0,"td",23),h.Qc(1),h.ec()),2&t){const t=e.$implicit,c=h.rc(2);h.Ob(1),h.Rc(null==c.categoryIndex[null==t?null:t.category]?null:c.categoryIndex[null==t?null:t.category].name)}}function Yt(t,e){1&t&&(h.fc(0,"th",22),h.Qc(1,"Model"),h.ec())}function Kt(t,e){if(1&t&&(h.fc(0,"td",23),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.model)}}function te(t,e){1&t&&(h.fc(0,"th",22),h.Qc(1,"Unit Price"),h.ec())}function ee(t,e){if(1&t&&(h.fc(0,"td",23),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.unit_price)}}function ce(t,e){1&t&&(h.fc(0,"th",22),h.Qc(1,"Quantity"),h.ec())}function ie(t,e){if(1&t&&(h.fc(0,"td",23),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.quantity)}}function re(t,e){1&t&&(h.fc(0,"th",22),h.Qc(1,"Total Price"),h.ec())}function oe(t,e){if(1&t&&(h.fc(0,"td",23),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.total_price)}}function se(t,e){1&t&&(h.fc(0,"th",22),h.Qc(1,"Complementary"),h.ec())}function ae(t,e){if(1&t&&(h.fc(0,"td",23),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.complementary)}}function ne(t,e){1&t&&h.ac(0,"tr",24)}function le(t,e){1&t&&h.ac(0,"tr",25)}function ue(t,e){1&t&&(h.fc(0,"th",22),h.Qc(1,"Title"),h.ec())}function de(t,e){if(1&t&&(h.fc(0,"td",23),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.title)}}function me(t,e){1&t&&(h.fc(0,"th",22),h.Qc(1,"Amount"),h.ec())}function he(t,e){if(1&t&&(h.fc(0,"td",23),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.amount)}}function fe(t,e){1&t&&h.ac(0,"tr",24)}function pe(t,e){1&t&&h.ac(0,"tr",25)}function ge(t,e){if(1&t&&(h.fc(0,"div"),h.fc(1,"mat-grid-list",28),h.fc(2,"mat-grid-tile",29),h.fc(3,"div"),h.fc(4,"b"),h.Qc(5," By:"),h.ec(),h.Qc(6),h.ac(7,"br"),h.fc(8,"b"),h.Qc(9," Time:"),h.ec(),h.Qc(10),h.sc(11,"date"),h.ac(12,"br"),h.fc(13,"b"),h.Qc(14," States:"),h.ec(),h.Qc(15),h.ac(16,"br"),h.ec(),h.ec(),h.fc(17,"mat-grid-tile",29),h.Qc(18),h.ec(),h.ac(19,"mat-divider"),h.ec(),h.ec()),2&t){const t=e.$implicit,c=h.rc(3);h.Ob(2),h.yc("colspan",3),h.Ob(4),h.Sc(" ",null==c.usersIndex[null==t?null:t.created_by]?null:c.usersIndex[null==t?null:t.created_by].full_name,""),h.Ob(4),h.Sc(" ",h.uc(11,6,null==t?null:t.created_time,"medium"),""),h.Ob(5),h.Rc(null==t?null:t.state),h.Ob(2),h.yc("colspan",5),h.Ob(1),h.Sc(" ",null==t?null:t.remark,"")}}function be(t,e){if(1&t&&(h.fc(0,"div",26),h.fc(1,"b"),h.Qc(2,"Query Action "),h.ec(),h.ac(3,"br"),h.Pc(4,ge,20,9,"div",27),h.ec()),2&t){const t=h.rc(2);h.Ob(4),h.yc("ngForOf",t.queryAction)}}const ve=function(){return[0]};function ye(t,e){if(1&t){const t=h.gc();h.fc(0,"mat-card",3),h.fc(1,"div"),h.fc(2,"button",4),h.nc("click",(function(){return h.Hc(t),h.rc().goBack()})),h.fc(3,"mat-icon"),h.Qc(4,"arrow_back"),h.ec(),h.ec(),h.ec(),h.fc(5,"div",5),h.fc(6,"div"),h.fc(7,"mat-card-title"),h.Qc(8,"Customer Query Details"),h.ec(),h.ec(),h.ec(),h.fc(9,"div"),h.fc(10,"div"),h.fc(11,"mat-grid-list",6),h.fc(12,"mat-grid-tile"),h.fc(13,"div"),h.fc(14,"b"),h.Qc(15,"Name:"),h.ec(),h.Qc(16),h.ec(),h.ec(),h.fc(17,"mat-grid-tile"),h.fc(18,"div"),h.fc(19,"b"),h.Qc(20,"Email:"),h.ec(),h.Qc(21),h.ec(),h.ec(),h.fc(22,"mat-grid-tile"),h.fc(23,"div"),h.fc(24,"b"),h.Qc(25,"Phone:"),h.ec(),h.Qc(26),h.ec(),h.ec(),h.fc(27,"mat-grid-tile"),h.fc(28,"div"),h.fc(29,"b"),h.Qc(30,"Type:"),h.ec(),h.Qc(31),h.ec(),h.ec(),h.fc(32,"mat-grid-tile"),h.fc(33,"div"),h.fc(34,"b"),h.Qc(35,"Priority:"),h.ec(),h.Qc(36),h.ec(),h.ec(),h.fc(37,"mat-grid-tile"),h.fc(38,"div"),h.fc(39,"b"),h.Qc(40,"Source:"),h.ec(),h.Qc(41),h.ec(),h.ec(),h.fc(42,"mat-grid-tile"),h.fc(43,"b"),h.Qc(44,"Status :"),h.ec(),h.Qc(45),h.ec(),h.fc(46,"mat-grid-tile"),h.fc(47,"div"),h.fc(48,"b"),h.Qc(49," Created : "),h.ec(),h.Qc(50),h.ac(51,"br"),h.Qc(52),h.sc(53,"date"),h.ac(54,"br"),h.ec(),h.ec(),h.fc(55,"mat-grid-tile"),h.fc(56,"div"),h.fc(57,"b"),h.Qc(58,"Updated :"),h.ec(),h.Qc(59),h.ac(60,"br"),h.Qc(61),h.sc(62,"date"),h.ec(),h.ec(),h.ec(),h.ec(),h.fc(63,"div"),h.fc(64,"b"),h.Qc(65,"Product "),h.ec(),h.ac(66,"br"),h.fc(67,"table",7,8),h.dc(69,9),h.Pc(70,Xt,2,0,"th",10),h.Pc(71,Jt,2,1,"td",11),h.cc(),h.dc(72,12),h.Pc(73,Yt,2,0,"th",10),h.Pc(74,Kt,2,1,"td",11),h.cc(),h.dc(75,13),h.Pc(76,te,2,0,"th",10),h.Pc(77,ee,2,1,"td",11),h.cc(),h.dc(78,14),h.Pc(79,ce,2,0,"th",10),h.Pc(80,ie,2,1,"td",11),h.cc(),h.dc(81,15),h.Pc(82,re,2,0,"th",10),h.Pc(83,oe,2,1,"td",11),h.cc(),h.dc(84,16),h.Pc(85,se,2,0,"th",10),h.Pc(86,ae,2,1,"td",11),h.cc(),h.Pc(87,ne,1,0,"tr",17),h.Pc(88,le,1,0,"tr",18),h.ec(),h.ec(),h.fc(89,"div"),h.fc(90,"b"),h.Qc(91,"Mrc "),h.ec(),h.ac(92,"br"),h.fc(93,"table",7,8),h.dc(95,19),h.Pc(96,ue,2,0,"th",10),h.Pc(97,de,2,1,"td",11),h.cc(),h.dc(98,20),h.Pc(99,me,2,0,"th",10),h.Pc(100,he,2,1,"td",11),h.cc(),h.Pc(101,fe,1,0,"tr",17),h.Pc(102,pe,1,0,"tr",18),h.ec(),h.ec(),h.Pc(103,be,5,1,"div",21),h.ec(),h.ec()}if(2&t){const t=h.rc();h.Ob(16),h.Sc(" ",t.queryData.name,""),h.Ob(5),h.Sc(" ",t.queryData.email,""),h.Ob(5),h.Sc(" ",t.queryData.phone,""),h.Ob(5),h.Sc(" ",t.queryData.type,""),h.Ob(5),h.Sc(" ",t.queryData.priority,""),h.Ob(5),h.Sc(" ",t.queryData.source,""),h.Ob(4),h.Rc(null==t.queryData?null:t.queryData.status),h.Ob(5),h.Sc(" By: ",null==t.usersIndex[null==t.queryData?null:t.queryData.created_by]?null:t.usersIndex[null==t.queryData?null:t.queryData.created_by].full_name,""),h.Ob(2),h.Sc(" Time: ",h.uc(53,20,null==t.queryData?null:t.queryData.created_time,"medium"),""),h.Ob(7),h.Sc(" By: ",null==t.usersIndex[null==t.queryData?null:t.queryData.created_by]?null:t.usersIndex[null==t.queryData?null:t.queryData.created_by].full_name,""),h.Ob(2),h.Sc(" Time: ",h.uc(62,23,null==t.queryData?null:t.queryData.created_time,"medium"),""),h.Ob(6),h.yc("dataSource",t.queryProducts)("hiddenColumns",h.Ac(26,ve)),h.Ob(20),h.yc("matHeaderRowDef",t.displayedColumns),h.Ob(1),h.yc("matRowDefColumns",t.displayedColumns),h.Ob(5),h.yc("dataSource",t.queryMrc)("hiddenColumns",h.Ac(27,ve)),h.Ob(8),h.yc("matHeaderRowDef",t.displayedMrcColumns),h.Ob(1),h.yc("matRowDefColumns",t.displayedMrcColumns),h.Ob(1),h.yc("ngIf",""!=t.queryAction)}}function Ce(t,e){1&t&&(h.fc(0,"div"),h.Qc(1," No Records Found! "),h.ec())}function De(t,e){1&t&&(h.fc(0,"mat-card",30),h.ac(1,"mat-progress-spinner",31),h.ec())}let Pe=(()=>{class t{constructor(t,e,c,i,r){this.route=t,this.snackBar=e,this.queryService=c,this.userService=i,this.router=r,this.isLoading=!0,this.usersIndex=[]}ngOnInit(){this.route.paramMap.subscribe(t=>{this.Id=t.get("id"),this.edit(this.Id)})}edit(t){this.queryService.getQueryByCustomerId(t).subscribe(t=>{this.isLoading=!1,this.queryData=t,console.log(t),this.getAllUser();var e=this.queryData.queryID;this.queryService.getQueryProductById(e).subscribe(t=>{this.queryProducts=t,console.log(t)}),this.queryService.getQueryMrcById(e).subscribe(t=>{console.log(t),this.queryMrc=t}),this.queryService.getQueryActionById(e).subscribe(t=>{this.queryAction=t,console.log(t)})})}getAllUser(){this.userService.getAllUser().subscribe(t=>{var e;this.users=t,console.log(null===(e=this.users[6])||void 0===e?void 0:e.full_name),this.users.forEach((t,e)=>{var c;this.usersIndex[t.id]=this.users[e],console.log(null===(c=this.usersIndex[6])||void 0===c?void 0:c.full_name)})})}goBack(){this.router.navigate(["/admin/customer/list"])}}return t.\u0275fac=function(e){return new(e||t)(h.Zb(n.a),h.Zb(p.a),h.Zb(Wt.a),h.Zb(Vt.a),h.Zb(n.c))},t.\u0275cmp=h.Tb({type:t,selectors:[["app-customer-query"]],decls:3,vars:3,consts:[["class","customStyle",4,"ngIf"],[4,"ngIf"],["style","display:flex; justify-content: center; align-items: center",4,"ngIf"],[1,"customStyle"],["mat-button","",1,"mat-primary",3,"click"],[1,"title-style"],["cols","3","rowHeight","40px"],["mat-table","","matTableExporter","","matSort","",1,"mat-elevation-z8",3,"dataSource","hiddenColumns"],["exporter","matTableExporter"],["matColumnDef","category"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","model"],["matColumnDef","unit_price"],["matColumnDef","quantity"],["matColumnDef","total_price"],["matColumnDef","complementary"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","title"],["matColumnDef","amount"],["class","actionSection",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"],[1,"actionSection"],[4,"ngFor","ngForOf"],["cols","8","rowHeight","100px"],[3,"colspan"],[2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"]],template:function(t,e){1&t&&(h.Pc(0,ye,104,28,"mat-card",0),h.Pc(1,Ce,2,0,"div",1),h.Pc(2,De,2,0,"mat-card",2)),2&t&&(h.yc("ngIf",e.users&&e.queryData),h.Ob(1),h.yc("ngIf",!e.queryData),h.Ob(1),h.yc("ngIf",e.isLoading))},directives:[i.m,N.a,H.b,b.a,N.f,Gt.a,Gt.c,d.j,s.a,u.a,d.c,d.e,d.b,d.g,d.i,d.d,u.b,d.a,d.f,d.h,i.l,zt.a,U.a],pipes:[i.e],styles:["mat-card[_ngcontent-%COMP%]{top:0;width:80%;min-height:400px}.form[_ngcontent-%COMP%]{margin-top:30px}.customStyle[_ngcontent-%COMP%]{border-radius:10px 10px 10px 10px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.mat-stroked-button[_ngcontent-%COMP%]{width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}mat-grid-tile[_ngcontent-%COMP%]{background:#add8e6}mat-card-title[_ngcontent-%COMP%]{margin-top:-25px;margin-bottom:20px}.actionSection[_ngcontent-%COMP%]{margin-top:20px}.actionSection[_ngcontent-%COMP%]   mat-grid-tile[_ngcontent-%COMP%]{background:#e8f8f5}"]}),t})();function Oe(t,e){1&t&&(h.fc(0,"mat-card",11),h.ac(1,"mat-progress-spinner",12),h.ec())}let Se=(()=>{class t{constructor(t,e,c,i,r,o,s){this.fb=t,this.customerService=e,this.dialogRef=c,this.dialog=i,this.router=r,this.snackBar=o,this.data=s,this.errorInfo=[],this.Id=s.id}ngOnInit(){this.myform=this.fb.group({customerId:["",[r.s.required]]}),this.dialogRef.disableClose=!0}close(){this.dialogRef.close()}importCustomer(){this.errorInfo=[],this.userData=JSON.parse(localStorage.getItem("userData")),this.myform.value.updated_by=this.userData.id,this.myform.value.updated_time=new Date,this.myform.value.customerId.split(",").forEach(t=>{this.isLoading=!0,this.myform.value.customerId=t,this.myform.value.reseller_id=this.Id,this.customerService.addCustomerWithReseller(this.myform.value).subscribe(e=>{this.errorInfo.push(e.message?{id:e.id,status:"Fail",reason:e.message.reason}:{id:t,status:"Successful",reason:""})})}),this.isLoading=!1,this.dialogRef.close(),this.errorInfo&&(console.log(this.errorInfo),this.customerService.importDataExchange(this.errorInfo))}}return t.\u0275fac=function(e){return new(e||t)(h.Zb(r.e),h.Zb(T.a),h.Zb(m.f),h.Zb(m.b),h.Zb(n.c),h.Zb(p.a),h.Zb(m.a,8))},t.\u0275cmp=h.Tb({type:t,selectors:[["app-customer-import"]],decls:21,vars:2,consts:[[1,"table-title"],[3,"click"],[1,"customStyle"],[3,"formGroup"],[1,"main"],[1,"full"],["trim","blur","matInput","","placeholder","Customer ID","formControlName","customerId","autocomplete","off","required",""],["align","end"],[1,"button"],["mat-stroked-button","","color","primary",1,"btn-block",3,"click"],["class","center","style","display:flex; justify-content: center; align-items: center",4,"ngIf"],[1,"center",2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"]],template:function(t,e){1&t&&(h.fc(0,"div",0),h.fc(1,"h3"),h.Qc(2,"Add Customer "),h.ec(),h.fc(3,"span"),h.fc(4,"a"),h.fc(5,"mat-icon",1),h.nc("click",(function(){return e.close()})),h.Qc(6,"close"),h.ec(),h.ec(),h.ec(),h.ec(),h.fc(7,"mat-card",2),h.fc(8,"mat-card-content"),h.fc(9,"form",3),h.fc(10,"div",4),h.fc(11,"mat-form-field",5),h.ac(12,"input",6),h.fc(13,"mat-hint",7),h.Qc(14," Please customer id with comma seperated"),h.ec(),h.ec(),h.ec(),h.ec(),h.ec(),h.fc(15,"mat-card-actions",8),h.fc(16,"button",9),h.nc("click",(function(){return e.importCustomer()})),h.Qc(17," Submit "),h.ec(),h.fc(18,"button",9),h.nc("click",(function(){return e.close()})),h.Qc(19," Close "),h.ec(),h.ec(),h.ec(),h.Pc(20,Oe,2,0,"mat-card",10)),2&t&&(h.Ob(9),h.yc("formGroup",e.myform),h.Ob(11),h.yc("ngIf",e.isLoading))},directives:[b.a,N.a,N.c,r.t,r.n,r.g,$.c,j.b,r.c,r.m,r.f,r.r,$.f,N.b,H.b,i.m,U.a],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:70%;margin-left:5%}mat-card[_ngcontent-%COMP%]{width:80%}.center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}"]}),t})();function xe(t,e){1&t&&(h.fc(0,"th",9),h.Qc(1,"Customer ID"),h.ec())}function Ie(t,e){if(1&t&&(h.fc(0,"td",10),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.id)}}function we(t,e){1&t&&(h.fc(0,"th",9),h.Qc(1,"Status"),h.ec())}function _e(t,e){if(1&t&&(h.fc(0,"td",10),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.status)}}function ke(t,e){1&t&&(h.fc(0,"th",9),h.Qc(1,"Reason"),h.ec())}function Qe(t,e){if(1&t&&(h.fc(0,"td",10),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.reason)}}function Re(t,e){1&t&&h.ac(0,"tr",11)}function Me(t,e){1&t&&h.ac(0,"tr",12)}let Be=(()=>{class t{constructor(t,e,c,i){this.customerService=t,this.dialogRef=e,this.dialog=c,this.data=i,this.error=1,this.dataSource=new d.k([]),this.displayedColumns=["id","status","reason"]}ngOnInit(){this.obs=this.customerService.importErrorCatch.subscribe(t=>{console.log(t),t&&(this.errorData=t,this.dataSource=new d.k(t))})}ngOnDestroy(){this.obs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Zb(T.a),h.Zb(m.f),h.Zb(m.b),h.Zb(m.a,8))},t.\u0275cmp=h.Tb({type:t,selectors:[["app-invalid-show"]],decls:13,vars:3,consts:[[1,"custom-style"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","reason"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(t,e){1&t&&(h.fc(0,"div",0),h.fc(1,"table",1),h.dc(2,2),h.Pc(3,xe,2,0,"th",3),h.Pc(4,Ie,2,1,"td",4),h.cc(),h.dc(5,5),h.Pc(6,we,2,0,"th",3),h.Pc(7,_e,2,1,"td",4),h.cc(),h.dc(8,6),h.Pc(9,ke,2,0,"th",3),h.Pc(10,Qe,2,1,"td",4),h.cc(),h.Pc(11,Re,1,0,"tr",7),h.Pc(12,Me,1,0,"tr",8),h.ec(),h.ec()),2&t&&(h.Ob(1),h.yc("dataSource",e.dataSource),h.Ob(10),h.yc("matHeaderRowDef",e.displayedColumns),h.Ob(1),h.yc("matRowDefColumns",e.displayedColumns))},directives:[d.j,u.a,d.c,d.e,d.b,d.g,d.i,d.d,u.b,d.a,d.f,d.h],styles:[""]}),t})();function Ee(t,e){1&t&&h.ac(0,"th",11)}function Ae(t,e){if(1&t){const t=h.gc();h.fc(0,"td",12),h.fc(1,"mat-checkbox",13),h.nc("change",(function(c){h.Hc(t);const i=e.$implicit;return h.rc().check(c.checked,i)})),h.ec(),h.ec()}if(2&t){const t=e.$implicit,c=h.rc();h.Ob(1),h.yc("checked",c.checkState(t.id))}}function qe(t,e){1&t&&(h.fc(0,"th",11),h.Qc(1,"Name"),h.ec())}function Fe(t,e){if(1&t&&(h.fc(0,"td",12),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.name)}}function Ze(t,e){1&t&&(h.fc(0,"th",11),h.Qc(1,"Identifier"),h.ec())}function Te(t,e){if(1&t&&(h.fc(0,"td",12),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.identifier)}}function Ne(t,e){1&t&&h.ac(0,"tr",14)}function $e(t,e){1&t&&h.ac(0,"tr",15)}let je=(()=>{class t{constructor(t,e,c,i,r,o,s,a){this.devcieService=t,this.customerService=e,this.snackBar=c,this.router=i,this.dialogService=r,this.dialogRef=o,this.dialog=s,this.data=a,this.source=[],this.dataSource=new d.k([]),this.displayedColumns=["select","name","identifier"],this.Id=a.id,this.customerId=a.customer_id}ngOnInit(){this.getCustomerResellerDevice(),this.getDeviceByReseller()}getDeviceByReseller(){console.log(this.Id),this.devcieService.getDeviceByResellerId(this.Id).subscribe(t=>{console.log(t),this.customerDevices=t,this.customerDevices.length>0&&this.customerDevices.forEach(t=>{this.source.push({id:t.id,name:t.name,identifier:t.uniqueid}),console.log(this.source),this.dataSource=new d.k(this.source),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator),this.customerDevices.push(t.id)})})}getCustomerResellerDevice(){this.devcieService.getDeviceByCustomerId(this.customerId).subscribe(t=>{console.log(t),this.resellerCustomerDevices=t,this.resellerCustomerDevices.length>0&&this.resellerCustomerDevices.forEach(t=>{this.source.push({id:t.id,name:t.name,identifier:t.uniqueid}),this.dataSource=new d.k(this.source),this.resellerCustomerDevices.push(t.id)})})}close(){this.dialogRef.close()}checkState(t){if(this.resellerCustomerDevices)return this.resellerCustomerDevices.indexOf(t)>-1}check(t,e){t?(this.object={customerId:this.customerId,deviceId:e.id},this.devcieService.addDeviceWithCustomerReseller(this.object).subscribe()):(this.object={customerId:this.customerId,deviceId:e.id},this.devcieService.deleteCustomerDeviceReseller(this.object).subscribe())}}return t.\u0275fac=function(e){return new(e||t)(h.Zb(f.a),h.Zb(T.a),h.Zb(p.a),h.Zb(n.c),h.Zb(g.a),h.Zb(m.f),h.Zb(m.b),h.Zb(m.a,8))},t.\u0275cmp=h.Tb({type:t,selectors:[["app-reseller-device"]],viewQuery:function(t,e){var c;1&t&&(h.Uc(u.a,!0),h.Uc(l.a,!0)),2&t&&(h.Ec(c=h.oc())&&(e.sort=c.first),h.Ec(c=h.oc())&&(e.paginator=c.first))},decls:20,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(t,e){1&t&&(h.fc(0,"div",0),h.fc(1,"div",1),h.fc(2,"h3"),h.Qc(3," Reseller Device Table"),h.ec(),h.fc(4,"span"),h.fc(5,"a"),h.fc(6,"mat-icon",2),h.nc("click",(function(){return e.close()})),h.Qc(7,"X"),h.ec(),h.ec(),h.ec(),h.ec(),h.fc(8,"table",3),h.dc(9,4),h.Pc(10,Ee,1,0,"th",5),h.Pc(11,Ae,2,1,"td",6),h.cc(),h.dc(12,7),h.Pc(13,qe,2,0,"th",5),h.Pc(14,Fe,2,1,"td",6),h.cc(),h.dc(15,8),h.Pc(16,Ze,2,0,"th",5),h.Pc(17,Te,2,1,"td",6),h.cc(),h.Pc(18,Ne,1,0,"tr",9),h.Pc(19,$e,1,0,"tr",10),h.ec(),h.ec()),2&t&&(h.Ob(8),h.yc("dataSource",e.dataSource),h.Ob(10),h.yc("matHeaderRowDef",e.displayedColumns),h.Ob(1),h.yc("matRowDefColumns",e.displayedColumns))},directives:[b.a,d.j,s.a,d.c,d.e,d.b,d.g,d.i,d.d,d.a,v.a,d.f,d.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),t})();function He(t,e){if(1&t&&(h.fc(0,"mat-option",32),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.yc("value",t.id),h.Ob(1),h.Sc(" ",t.value," ")}}function Ue(t,e){1&t&&(h.fc(0,"th",33),h.Qc(1,"Action"),h.ec())}function Le(t,e){if(1&t){const t=h.gc();h.fc(0,"td",34),h.fc(1,"button",35),h.fc(2,"mat-icon"),h.Qc(3,"settings"),h.ec(),h.ec(),h.fc(4,"mat-menu",null,36),h.fc(6,"button",37),h.nc("click",(function(){h.Hc(t);const c=e.$implicit;return h.rc().openDeviceModal(c)})),h.Qc(7,"Devices"),h.ec(),h.ec(),h.ec()}if(2&t){const t=h.Fc(5);h.Ob(1),h.yc("matMenuTriggerFor",t)}}function We(t,e){1&t&&(h.fc(0,"th",33),h.Qc(1,"Customer ID"),h.ec())}function Ve(t,e){if(1&t&&(h.fc(0,"td",34),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.customer_id)}}function Ge(t,e){1&t&&(h.fc(0,"th",33),h.Qc(1,"Name"),h.ec())}function ze(t,e){if(1&t&&(h.fc(0,"td",34),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.name)}}function Xe(t,e){1&t&&(h.fc(0,"th",33),h.Qc(1,"Phone"),h.ec())}function Je(t,e){if(1&t&&(h.fc(0,"td",34),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.phone)}}function Ye(t,e){1&t&&(h.fc(0,"th",33),h.Qc(1,"Email"),h.ec())}function Ke(t,e){if(1&t&&(h.fc(0,"td",34),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.email)}}function tc(t,e){1&t&&(h.fc(0,"th",33),h.Qc(1,"Status"),h.ec())}function ec(t,e){if(1&t&&(h.fc(0,"td",34),h.Qc(1),h.ec()),2&t){const t=e.$implicit,c=h.rc();h.Ob(1),h.Rc(null==c.states[t.status]?null:c.states[t.status].value)}}function cc(t,e){1&t&&h.ac(0,"tr",38)}function ic(t,e){1&t&&h.ac(0,"tr",39)}function rc(t,e){1&t&&(h.fc(0,"mat-card",40),h.ac(1,"mat-progress-spinner",41),h.ec())}const oc=function(){return[0]},sc=[{path:"list",component:Zt,canActivate:[Tt.a],data:{roles:"customer_list"}},{path:"add",component:Lt,canActivate:[Tt.a],data:{roles:"customer_add"}},{path:"edit/:id",component:Ht,canActivate:[Tt.a],data:{roles:"customer_edit"}},{path:"customer-query/:id",component:Pe},{path:"reseller-customer/:id",component:(()=>{class t{constructor(t,e,c,i,r,o){this.route=t,this.customerService=e,this.snackBar=c,this.router=i,this.dialog=r,this.fb=o,this.params={},this.errorCatch="",this.currentPage=1,this.states=[{id:0,value:"Inactive"},{id:1,value:"Active"}],this.displayedColumns=["action","customer_id","name","email","phone","status"],this.dataSource=new d.k([]),this.isLoading=!0,this.testingValue=0}ngOnInit(){this.myform=this.fb.group({customer_id:[""],name:[""],email:[""],phone:[""],status:[""]}),this.route.paramMap.subscribe(t=>{this.Id=t.get("id"),this.getCustomerByReseller(this.Id)}),console.log(this.testingValue),this.obs=this.customerService.importDataCatch.subscribe(t=>{console.log(t),this.errorCatch=t,1==this.testingValue&&t&&(this.errorData=t,this.customerService.importErrorExchange(t),this.isLoading=!0,setTimeout(()=>{this.getCustomerByReseller(this.Id)},1e3),setTimeout(()=>{this.openImportErrorModal()},1e3))}),this.addCustomer(),console.log(this.testingValue)}ngOnDestroy(){this.obs.unsubscribe()}getCustomerByReseller(t){this.customerService.getCustomerByReseller(t).subscribe(t=>{this.customers=t,this.dataSource=new d.k(t),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator),this.isLoading=!1})}addCustomer(){this.testingValue=1}openCustomerModal(t){const e=new m.d;e.disableClose=!0,e.width="600px",e.height="480px",this.dialog.open(Se,{width:"580px",height:"460px",data:{id:t}}).afterClosed().subscribe(t=>{})}openImportErrorModal(){const t=new m.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(Be,{width:"580px",height:"260px",data:this.errorData}).afterClosed().subscribe(t=>{})}getCustomerBySearch(){this.params={reseller_id:this.resellerAutoId,currentPage:this.currentPage,name:this.myform.value.name,status:this.myform.value.status,customer_id:this.myform.value.customer_id,email:this.myform.value.email,phone:this.myform.value.phone},console.log(this.params),this.customerService.getAllCustomer(this.params).subscribe(t=>{this.isLoading=!1,this.customers=t.rows,this.dataSource=new d.k(this.customers),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getBack(){this.getCustomerByReseller(this.Id)}openDeviceModal(t){const e=new m.d;e.disableClose=!0,e.width="600px",e.height="480px",this.dialog.open(je,{width:"580px",height:"460px",data:{id:this.Id,customer_id:t.customer_id}}).afterClosed().subscribe(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(h.Zb(n.a),h.Zb(T.a),h.Zb(p.a),h.Zb(n.c),h.Zb(m.b),h.Zb(r.e))},t.\u0275cmp=h.Tb({type:t,selectors:[["app-reseller-customer"]],viewQuery:function(t,e){var c;1&t&&(h.Uc(u.a,!0),h.Uc(l.a,!0)),2&t&&(h.Ec(c=h.oc())&&(e.sort=c.first),h.Ec(c=h.oc())&&(e.paginator=c.first))},decls:55,vars:8,consts:[[1,"custom-style"],[1,"table-title"],["fxLayout","row","fxLayout.xs","column",1,"search-div"],["fxFlex","70%"],[3,"formGroup"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","20%","fxFlex.xs","90%",1,"search_field"],["matInput","","placeholder","Customer Id","formControlName","customer_id","autocomplete","off"],["matInput","","placeholder","Name","formControlName","name","autocomplete","off"],["fxFlex","20%","fxFlex.xs","45%",1,"search_field"],["matInput","","placeholder","Email","formControlName","email","autocomplete","off"],["matInput","","placeholder","Phone","formControlName","phone","autocomplete","off"],["formControlName","status"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","30%","fxFlex.xs","100%"],["mat-button","",1,"mat-stroked-button","mat-primary",3,"click"],[1,"addButton"],["mat-button","",1,"mat-raised-button","mat-primary",3,"click"],[1,"table_container"],["mat-table","","matTableExporter","","matSort","",1,"mat-elevation-z8",3,"dataSource","hiddenColumns"],["exporter","matTableExporter"],["matColumnDef","action"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","customer_id"],["matColumnDef","name"],["matColumnDef","phone"],["matColumnDef","email"],["matColumnDef","status"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["style","display:flex; justify-content: center; align-items: center",4,"ngIf"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-icon-button","","color","info",3,"matMenuTriggerFor"],["setting","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"],[2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"]],template:function(t,e){if(1&t){const t=h.gc();h.fc(0,"div",0),h.fc(1,"div",1),h.fc(2,"h3"),h.Qc(3,"Reseller Customer List"),h.ec(),h.ec(),h.fc(4,"div",2),h.fc(5,"div",3),h.fc(6,"form",4),h.fc(7,"div",5),h.fc(8,"mat-form-field",6),h.ac(9,"input",7),h.ec(),h.fc(10,"mat-form-field",6),h.ac(11,"input",8),h.ec(),h.fc(12,"mat-form-field",9),h.ac(13,"input",10),h.ec(),h.fc(14,"mat-form-field",9),h.ac(15,"input",11),h.ec(),h.fc(16,"mat-form-field",9),h.fc(17,"mat-label"),h.Qc(18,"Status"),h.ec(),h.fc(19,"mat-select",12),h.Pc(20,He,2,2,"mat-option",13),h.ec(),h.ec(),h.ec(),h.ec(),h.ec(),h.fc(21,"div",14),h.fc(22,"button",15),h.nc("click",(function(){return e.getCustomerBySearch()})),h.Qc(23," Search "),h.ec(),h.fc(24,"button",15),h.nc("click",(function(){return e.getBack()})),h.Qc(25," Back "),h.ec(),h.fc(26,"span",16),h.fc(27,"button",17),h.nc("click",(function(){return e.openCustomerModal(e.Id)})),h.Qc(28," Add "),h.ec(),h.ec(),h.fc(29,"button",17),h.nc("click",(function(){return h.Hc(t),h.Fc(33).exportTable("csv",{fileName:"Customer"})})),h.Qc(30," CSV "),h.ec(),h.ec(),h.ec(),h.fc(31,"div",18),h.fc(32,"table",19,20),h.dc(34,21),h.Pc(35,Ue,2,0,"th",22),h.Pc(36,Le,8,1,"td",23),h.cc(),h.dc(37,24),h.Pc(38,We,2,0,"th",22),h.Pc(39,Ve,2,1,"td",23),h.cc(),h.dc(40,25),h.Pc(41,Ge,2,0,"th",22),h.Pc(42,ze,2,1,"td",23),h.cc(),h.dc(43,26),h.Pc(44,Xe,2,0,"th",22),h.Pc(45,Je,2,1,"td",23),h.cc(),h.dc(46,27),h.Pc(47,Ye,2,0,"th",22),h.Pc(48,Ke,2,1,"td",23),h.cc(),h.dc(49,28),h.Pc(50,tc,2,0,"th",22),h.Pc(51,ec,2,1,"td",23),h.cc(),h.Pc(52,cc,1,0,"tr",29),h.Pc(53,ic,1,0,"tr",30),h.ec(),h.ec(),h.ec(),h.Pc(54,rc,2,0,"mat-card",31)}2&t&&(h.Ob(6),h.yc("formGroup",e.myform),h.Ob(14),h.yc("ngForOf",e.states),h.Ob(12),h.yc("dataSource",e.dataSource)("hiddenColumns",h.Ac(7,oc)),h.Ob(20),h.yc("matHeaderRowDef",e.displayedColumns),h.Ob(1),h.yc("matRowDefColumns",e.displayedColumns),h.Ob(1),h.yc("ngIf",e.isLoading))},directives:[it.b,it.a,r.t,r.n,r.g,$.c,j.b,r.c,r.m,r.f,$.g,rt.a,i.l,H.b,d.j,s.a,u.a,d.c,d.e,d.b,d.g,d.i,i.m,ot.o,d.d,u.b,d.a,st.c,b.a,st.d,st.a,d.f,d.h,N.a,U.a],styles:[".table_container[_ngcontent-%COMP%]{margin-left:2%;width:96%;margin-right:2%;overflow:auto}.filter[_ngcontent-%COMP%]{width:15%;margin-right:50%}.header[_ngcontent-%COMP%]{overflow:hidden}.table[_ngcontent-%COMP%]{width:96%!important;margin-left:2%;margin-right:2%}.spacerb[_ngcontent-%COMP%]{margin-right:5px}h3[_ngcontent-%COMP%]{font-weight:500}.row[_ngcontent-%COMP%]{height:40px!important}.fl[_ngcontent-%COMP%]{position:relative;display:flex}.closeButton[_ngcontent-%COMP%]{margin-top:20px}.search_div[_ngcontent-%COMP%]{margin-left:5%}.search_field[_ngcontent-%COMP%]{margin-left:1%;width:10%;float:left}.mat-stroked-button[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;border:1px solid #00f}.mat-raised-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%]{width:8%;margin-left:.5%}.pagination[_ngcontent-%COMP%]{display:inline-block}.pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;float:left;padding:8px 16px;text-decoration:none;transition:background-color .3s;border:1px solid #ddd}.active[_ngcontent-%COMP%]{background-color:#29abe2;background:#4169e1;color:red}.pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:not(.active){background-color:#ddd}.middle[_ngcontent-%COMP%]{margin-left:50%}a[_ngcontent-%COMP%]{cursor:pointer}"]}),t})()}];let ac=(()=>{class t{}return t.\u0275mod=h.Xb({type:t}),t.\u0275inj=h.Wb({factory:function(e){return new(e||t)},imports:[[n.f.forChild(sc)],n.f]}),t})(),nc=(()=>{class t{}return t.\u0275mod=h.Xb({type:t}),t.\u0275inj=h.Wb({factory:function(e){return new(e||t)},imports:[[i.c,ac,o.a,r.q,r.i,s.b,a.a]]}),t})()},"1jOF":function(t,e,c){"use strict";c.d(e,"a",(function(){return s}));var i=c("AytR"),r=c("fXoL"),o=c("tk/3");let s=(()=>{class t{constructor(t){this.http=t,this.url=i.a.apiUrl+"/driver/"}addDriver(t){return this.http.post(this.url+"/addDriver",t)}getAllDriver(){return this.http.get(this.url+"/listDriver")}getDriverById(t){return this.http.get(this.url+t+"/editDriver")}updateDriver(t,e){return this.http.put(this.url+t+"/updateDriver",e)}deleteDriver(t){return this.http.delete(this.url+t+"/deleteDriver")}addDriverWithDevice(t){return this.http.post(this.url+"/addDeviceDriver",t)}deleteDeviceDriver(t){return this.http.post(this.url+"/deleteDeviceDriver",t)}getDriverByDeviceId(t){return this.http.get(this.url+t+"/getDriverByDevice")}addDriverWithGroup(t){return this.http.post(this.url+"/addGroupDriver",t)}deleteGroupDriver(t){return this.http.post(this.url+"/deleteGroupDriver",t)}getDriverByGroupId(t){return this.http.get(this.url+t+"/getDriverByGroup")}addDriverWithUser(t){return this.http.post(this.url+"/addUserDriver",t)}deleteUserDriver(t){return this.http.post(this.url+"/deleteUserDriver",t)}getDriverByUserId(t){return this.http.get(this.url+t+"/getDriverByUser")}getAllCustomerDriver(){return this.http.get(this.url+"/listCustomerDriver")}getDriverByCustomerId(t){return this.http.get(this.url+t+"/getDriverByCustomerId")}addDriverWithCustomer(t){return this.http.post(this.url+"/addCustomerDriver",t)}deleteCustomerDriver(t){return this.http.post(this.url+"/deleteCustomerDriver",t)}}return t.\u0275fac=function(e){return new(e||t)(r.jc(o.b))},t.\u0275prov=r.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Cp0R:function(t,e,c){"use strict";c.d(e,"a",(function(){return s}));var i=c("fXoL"),r=c("Ofeh"),o=c("tyNb");let s=(()=>{class t{constructor(t,e){this.loginService=t,this.router=e,this.assigedRole=[]}canActivate(t,e){return this.loginService.loggedIn()?(this.assigedRole=JSON.parse(sessionStorage.getItem("rolesData")),1==this.assigedRole.includes(t.data.roles)||(this.router.navigate(["/deny"]),!1)):(this.router.navigate(["/"]),!1)}}return t.\u0275fac=function(e){return new(e||t)(i.jc(r.a),i.jc(o.c))},t.\u0275prov=i.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},H0VJ:function(t,e,c){"use strict";c.d(e,"a",(function(){return n}));var i=c("fXoL"),r=c("0IaG"),o=c("NFeN"),s=c("bTqV");let a=(()=>{class t{constructor(t){this.dialogRef=t}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return t.\u0275fac=function(e){return new(e||t)(i.Zb(r.f))},t.\u0275cmp=i.Tb({type:t,selectors:[["app-mat-dialog"]],decls:11,vars:2,consts:[[1,"content-container"],["id","close-button",3,"click"],[1,"content-span"],["mat-flat-button","","id","no-button",3,"mat-dialog-close"],["mat-flat-button","","id","yes-button","color","warn",3,"mat-dialog-close"]],template:function(t,e){1&t&&(i.fc(0,"div"),i.fc(1,"div",0),i.fc(2,"mat-icon",1),i.nc("click",(function(){return e.closeDialog()})),i.Qc(3,"close"),i.ec(),i.fc(4,"div",2),i.Qc(5,"Are you sure to delete this record ?"),i.ec(),i.ec(),i.fc(6,"div"),i.fc(7,"button",3),i.Qc(8,"No"),i.ec(),i.fc(9,"button",4),i.Qc(10,"Yes"),i.ec(),i.ec(),i.ec()),2&t&&(i.Ob(7),i.yc("mat-dialog-close",!1),i.Ob(2),i.yc("mat-dialog-close",!0))},directives:[o.a,s.b,r.c],styles:["#close-button[_ngcontent-%COMP%]{margin-left:90%;cursor:pointer}.content-span[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:20px}#no-button[_ngcontent-%COMP%]{width:30%;margin-left:7%;margin-right:25%;background-color:#ff0}#yes-button[_ngcontent-%COMP%]{width:30%}"]}),t})(),n=(()=>{class t{constructor(t){this.dialog=t}openConfirmDialog(){return this.dialog.open(a,{width:"300px",disableClose:!0,position:{top:"20px"}})}}return t.\u0275fac=function(e){return new(e||t)(i.jc(r.b))},t.\u0275prov=i.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},M5z4:function(t,e,c){"use strict";c.d(e,"a",(function(){return a}));var i=c("AytR"),r=c("2Vo4"),o=c("fXoL"),s=c("tk/3");let a=(()=>{class t{constructor(t){this.http=t,this.importDataSent=new r.a(""),this.importErrorSent=new r.a(""),this.messageSent=new r.a(""),this.deviceImportStatusSent=new r.a(""),this.importDataCatch=this.importDataSent.asObservable(),this.messageCatch=this.importDataSent.asObservable(),this.importErrorCatch=this.importErrorSent.asObservable(),this.deviceImportStatusCatch=this.deviceImportStatusSent.asObservable(),this.url=i.a.apiUrl+"/customer/"}importDataExchange(t){console.log(t),this.importDataSent.next(t)}importErrorExchange(t){this.importErrorSent.next(t)}messageExchange(t){this.messageSent.next(t)}deviceImportStatusExchange(t){console.log(t),this.deviceImportStatusSent.next(t)}DestroySubject(){alert("hi")}addCustomer(t){return this.http.post(this.url+"/addCustomer",t)}getAllCustomer(t){return this.http.post(this.url+"/listCustomer",t)}getCustomerById(t){return this.http.get(this.url+t+"/editCustomer")}getCustomerByUserId(t){return this.http.get(this.url+t+"/getCustomerByUserId")}updateCustomer(t,e){return this.http.put(this.url+t+"/updateCustomer",e)}getAllCustomerList(){return this.http.get(this.url+"/allCustomerList")}getAllCustomerListJoinWithDevices(){return this.http.get(this.url+"/allCustomerListJoinWithDevices")}customerSearch(t){return this.http.post(this.url+"/customerSearch",t)}resellerSearch(t){return this.http.post(this.url+"/resellerSearch",t)}DeviceByCustomer(t){return this.http.get(this.url+t+"/getDeviceByCustomer")}DeviceByDeviceId(t){return this.http.post(this.url+"/getDeviceByDeviceId",t)}DeviceIdByUser(t){return this.http.get(this.url+t+"/getDeviceIdByUser")}DeviceByCustomerWithPosition(t){return this.http.get(this.url+t+"/getDeviceByCustomerWithPosition")}DeviceByCustomerUserWithPosition(t){return this.http.post(this.url+"/getDeviceByCustomerUserWithPosition",t)}DevicePositionByPositionId(t){return this.http.post(this.url+"/getDevicePositionByPositionId",t)}DevicePositionByCustomer(t){return this.http.get(this.url+t+"/getDevicePositionByCustomer")}getCustomerByReseller(t){return this.http.get(this.url+t+"/getCustomerByReseller")}addCustomerWithReseller(t){return this.http.post(this.url+"/addCustomerWithReseller",t)}getResellerAutoId(t){return this.http.get(this.url+t+"/getResellerAutoId")}getCustomerByResellerId(t){return this.http.get(this.url+t+"/getCustomerByResellerId")}getCustomerIdByAutoId(t){return this.http.get(this.url+t+"/getCustomerIdByAutoId")}}return t.\u0275fac=function(e){return new(e||t)(o.jc(s.b))},t.\u0275prov=o.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},XCAU:function(t,e,c){"use strict";c.d(e,"a",(function(){return a}));var i=c("2Vo4"),r=c("AytR"),o=c("fXoL"),s=c("tk/3");let a=(()=>{class t{constructor(t){this.http=t,this.url=r.a.apiUrl+"/device/",this.importDataSent=new i.a(""),this.importDataCatch=this.importDataSent.asObservable(),this.importErrorSent=new i.a(""),this.importErrorCatch=this.importErrorSent.asObservable()}importDataExchange(t){console.log(t),this.importDataSent.next(t)}importErrorExchange(t){this.importErrorSent.next(t)}getAllDevices(){return this.http.get(this.url+"/listDevices")}addDevice(t){return this.http.post(this.url+"/addDevice",t)}getAllFreeDevice(){return this.http.get(this.url+"/listFreeDevice")}getDeviceById(t){return this.http.get(this.url+t+"/editDevice")}updateDevice(t,e){return this.http.put(this.url+t+"/updateDevice",e)}deleteDevice(t){return this.http.delete(this.url+t+"/deleteDevice")}addDeviceWithUser(t){return this.http.post(this.url+"/addUserDevice",t)}deleteUserDevice(t){return this.http.post(this.url+"/deleteUserDevice",t)}getDeviceByUserId(t){return this.http.get(this.url+t+"/getDeviceByUser")}getDeviceByAllUser(){return this.http.get(this.url+"/getDeviceByAllUser")}addDeviceWithCustomer(t){return this.http.post(this.url+"/addCustomerDevice",t)}addDeviceWithCustomerByImport(t){return this.http.post(this.url+"/addDeviceWithCustomerByImport",t)}deleteCustomerDevice(t){return this.http.post(this.url+"/deleteCustomerDevice",t)}addDeviceWithCustomerReseller(t){return this.http.post(this.url+"/addCustomerResellerDevice",t)}deleteCustomerDeviceReseller(t){return this.http.post(this.url+"/deleteCustomerResellerDevice",t)}getDeviceByCustomerResellerId(t){return this.http.get(this.url+t+"/getDeviceByCustomerResellerId")}getDeviceByResellerId(t){return this.http.get(this.url+t+"/getDeviceByResellerId")}getDeviceByResellerIdFor(t){return this.http.get(this.url+t+"/getDeviceByResellerIdFor")}getDeviceByCustomerId(t){return this.http.get(this.url+t+"/getDeviceByCustomerId")}getAllPostion(){return this.http.get(this.url+"/listPositions")}getHistoryPostionBySearch(t){return this.http.post(this.url+"/listHistoryPositions",t)}getAllPostionBySearch(t){return this.http.post(this.url+"/listAllPositions",t)}getAllEvents(){return this.http.get(this.url+"/listEvents")}getDeviceWithPositionById(t){return this.http.get(this.url+t+"/getDeviceWithPositionById")}getDeviceCurrentPositionById(t){return this.http.get(this.url+t+"/getDeviceCurrentPositionById")}getMovingPosition(t){return this.http.post(this.url+"/movingPositions",t)}getDevicePositionByPositionId(t){return this.http.post(this.url+"/getDevicePositionByPositionId",t)}getEventPositionById(t){return this.http.get(this.url+t+"/getEventPositionById")}getDeviceIdByIMEI(t){return this.http.get(this.url+t+"/getDeviceIdByIMEI")}addDeviceWithReseller(t){return this.http.post(this.url+"/addDeviceWithReseller",t)}deleteDeviceFromReseller(t){return this.http.post(this.url+"/deleteDeviceFromReseller",t)}}return t.\u0275fac=function(e){return new(e||t)(o.jc(s.b))},t.\u0275prov=o.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);
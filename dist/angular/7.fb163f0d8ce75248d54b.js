(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"1jOF":function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var i=c("AytR"),o=c("fXoL"),r=c("tk/3");let a=(()=>{class e{constructor(e){this.http=e,this.url=i.a.apiUrl+"/driver/"}addDriver(e){return this.http.post(this.url+"/addDriver",e)}getAllDriver(){return this.http.get(this.url+"/listDriver")}getDriverById(e){return this.http.get(this.url+e+"/editDriver")}updateDriver(e,t){return this.http.put(this.url+e+"/updateDriver",t)}deleteDriver(e){return this.http.delete(this.url+e+"/deleteDriver")}addDriverWithDevice(e){return this.http.post(this.url+"/addDeviceDriver",e)}deleteDeviceDriver(e){return this.http.post(this.url+"/deleteDeviceDriver",e)}getDriverByDeviceId(e){return this.http.get(this.url+e+"/getDriverByDevice")}addDriverWithGroup(e){return this.http.post(this.url+"/addGroupDriver",e)}deleteGroupDriver(e){return this.http.post(this.url+"/deleteGroupDriver",e)}getDriverByGroupId(e){return this.http.get(this.url+e+"/getDriverByGroup")}addDriverWithUser(e){return this.http.post(this.url+"/addUserDriver",e)}deleteUserDriver(e){return this.http.post(this.url+"/deleteUserDriver",e)}getDriverByUserId(e){return this.http.get(this.url+e+"/getDriverByUser")}getAllCustomerDriver(){return this.http.get(this.url+"/listCustomerDriver")}getDriverByCustomerId(e){return this.http.get(this.url+e+"/getDriverByCustomerId")}addDriverWithCustomer(e){return this.http.post(this.url+"/addCustomerDriver",e)}deleteCustomerDriver(e){return this.http.post(this.url+"/deleteCustomerDriver",e)}}return e.\u0275fac=function(t){return new(t||e)(o.jc(r.b))},e.\u0275prov=o.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"6yIB":function(e,t,c){"use strict";c.r(t),c.d(t,"UsersModule",(function(){return mc}));var i=c("ofXK"),o=c("3Pt+"),r=c("jAig"),a=c("KUt4"),s=c("YUcS"),n=c("tyNb"),l=c("Cp0R"),m=c("fXoL");function u(e){return t=>{if(null===t.value||0===t.value.length)return null;const c=t.root.get(e);if(c){const e=c.valueChanges.subscribe(()=>{t.updateValueAndValidity(),e.unsubscribe()})}return c&&c.value!==t.value?{compare:!0}:null}}var d=c("CjG4"),f=c("dNgK"),h=c("Wp6s"),p=c("kmnG"),g=c("qFsG"),b=c("bTqV");function v(e,t){1&e&&(m.fc(0,"div"),m.fc(1,"p",9),m.Oc(2," Current Password Not Valid"),m.ec(),m.ec())}function O(e,t){1&e&&(m.fc(0,"div"),m.fc(1,"p",9),m.Oc(2," Has Been Changed Successfully"),m.ec(),m.ec())}let C=(()=>{class e{constructor(e,t,c){this.userService=e,this.fb=t,this.snackBar=c}ngOnInit(){this.myform=this.fb.group({oldPassword:["",[o.s.required]],password:["",[o.s.required]],confirm_password:["",[o.s.required,u("password")]],user_id:[""]})}changePassword(){this.userData=JSON.parse(localStorage.getItem("userData")),this.myform.value.user_id=this.userData.id,this.userService.changePassword(this.myform.value).subscribe(e=>{this.openSnackBar()},e=>{this.show1=!0}),console.log(this.myform.value)}openSnackBar(){this.snackBar.open("Reset Successfully!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(d.a),m.Zb(o.e),m.Zb(f.a))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-change-password"]],decls:21,vars:4,consts:[[1,"customStyle"],[1,"title-style"],[3,"formGroup"],[1,"full"],["matInput","","type","password","placeholder","Current Password","formControlName","oldPassword","autocomplete","off","required",""],["matInput","","type","password","placeholder","New Password","formControlName","password","autocomplete","off","required",""],["type","password","matInput","","placeholder","Confirm New Password","formControlName","confirm_password","autocomplete","off","compare","password","required",""],[4,"ngIf"],["mat-stroked-button","","color","primary",1,"btn-block",3,"disabled","click"],[1,"red"]],template:function(e,t){1&e&&(m.fc(0,"mat-card",0),m.fc(1,"div",1),m.fc(2,"mat-card-title"),m.Oc(3,"Password Change Form"),m.ec(),m.ec(),m.fc(4,"mat-card-content"),m.fc(5,"form",2),m.fc(6,"mat-form-field",3),m.ac(7,"input",4),m.ec(),m.fc(8,"mat-form-field",3),m.ac(9,"input",5),m.ec(),m.fc(10,"mat-form-field",3),m.ac(11,"input",6),m.fc(12,"mat-error"),m.Oc(13," password does not match "),m.ec(),m.ec(),m.ec(),m.ec(),m.Nc(14,v,3,0,"div",7),m.fc(15,"mat-card-actions"),m.fc(16,"button",8),m.nc("click",(function(){return t.changePassword()})),m.Oc(17," Changed "),m.ec(),m.fc(18,"p"),m.Oc(19,"Note: Field marked with * is Mandatory"),m.ec(),m.ec(),m.Nc(20,O,3,0,"div",7),m.ec()),2&e&&(m.Ob(5),m.xc("formGroup",t.myform),m.Ob(9),m.xc("ngIf",t.show1),m.Ob(2),m.xc("disabled",!t.myform.valid),m.Ob(4),m.xc("ngIf",t.show))},directives:[h.a,h.f,h.c,o.t,o.n,o.g,p.c,g.b,o.c,o.m,o.f,o.r,p.b,i.l,h.b,b.b],styles:[".customStyle[_ngcontent-%COMP%]{border-radius:10px 10px 10px 10px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important;margin-bottom:15px}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.mat-stroked-button[_ngcontent-%COMP%]{width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}.red[_ngcontent-%COMP%]{color:#00f;font-size:16px}.reda[_ngcontent-%COMP%]{color:red}p[_ngcontent-%COMP%]{font-size:10px}.dd[_ngcontent-%COMP%]{width:120px;height:25px;margin-left:10px;margin-top:5px;margin-bottom:10px;text-align:left}a[_ngcontent-%COMP%]{cursor:pointer;margin-top:20px}.closeButton[_ngcontent-%COMP%]{width:30px;height:30px;margin-left:5px;cursor:pointer}"]}),e})();var y=c("d3UM"),x=c("FKr1");function w(e,t){if(1&e&&(m.fc(0,"mat-option",13),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.xc("value",e.id),m.Ob(1),m.Rc(" ",e.name," (",e.email,") ")}}function D(e,t){1&e&&(m.fc(0,"div",16),m.Oc(1,"Password is required"),m.ec())}function N(e,t){if(1&e&&(m.fc(0,"div",14),m.Nc(1,D,2,0,"div",15),m.ec()),2&e){const e=m.rc();m.Ob(1),m.xc("ngIf",e.myform.get("password").errors.required)}}let S=(()=>{class e{constructor(e,t,c){this.userService=e,this.fb=t,this.snackBar=c,this.users=[],this.nameUser=[],this.submitted=!1}ngOnInit(){this.myform=this.fb.group({user_id:["",[o.s.required]],password:["",[o.s.required]],confirm_password:["",[o.s.required,u("password")]]}),this.getAllUser()}getAllUser(){this.userService.getAllUser().subscribe(e=>{this.users=e,this.nameUser=this.users})}filterUser(e){this.users=this.nameUser.filter(t=>t.fullName.toLowerCase().indexOf(e)>-1)}resetPassword(){this.myform.markAllAsTouched(),this.submitted=!0,this.myform.invalid||(this.userService.resetPassword(this.myform.value).subscribe(e=>{this.openSnackBar()}),console.log(this.myform.value))}openSnackBar(){this.snackBar.open("Reset Successfully!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(d.a),m.Zb(o.e),m.Zb(f.a))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-reset-password"]],decls:29,vars:3,consts:[[1,"customStyle"],[1,"title-style"],[3,"formGroup"],[1,"full"],["formControlName","user_id","required",""],["dl",""],["placeholder","search","autocomplete","off",1,"dd",3,"keyup"],[1,"closeButton",3,"click"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","password","placeholder","New Password","formControlName","password","autocomplete","off","required",""],["class","invalid-feedback",4,"ngIf"],["type","password","matInput","","placeholder","Confirm New Password","formControlName","confirm_password","required","","autocomplete","off","compare","password"],["mat-stroked-button","","color","primary",1,"btn-block",3,"click"],[3,"value"],[1,"invalid-feedback"],["class","reda",4,"ngIf"],[1,"reda"]],template:function(e,t){if(1&e){const e=m.gc();m.fc(0,"mat-card",0),m.fc(1,"div",1),m.fc(2,"mat-card-title"),m.Oc(3,"Password Reset Form"),m.ec(),m.ec(),m.fc(4,"mat-card-content"),m.fc(5,"form",2),m.fc(6,"mat-form-field",3),m.fc(7,"mat-label"),m.Oc(8,"User Email"),m.ec(),m.fc(9,"mat-select",4,5),m.fc(11,"input",6),m.nc("keyup",(function(e){return t.filterUser(e.target.value)})),m.ec(),m.fc(12,"a"),m.fc(13,"button",7),m.nc("click",(function(){return m.Fc(e),m.Dc(10).close()})),m.fc(14,"b"),m.Oc(15,"x"),m.ec(),m.ec(),m.ec(),m.Nc(16,w,2,3,"mat-option",8),m.ec(),m.ec(),m.fc(17,"mat-form-field",3),m.ac(18,"input",9),m.ec(),m.Nc(19,N,2,1,"div",10),m.fc(20,"mat-form-field",3),m.ac(21,"input",11),m.fc(22,"mat-error"),m.Oc(23," password does not match "),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(24,"mat-card-actions"),m.fc(25,"button",12),m.nc("click",(function(){return t.resetPassword()})),m.Oc(26," Reset "),m.ec(),m.fc(27,"p"),m.Oc(28,"Note: Field marked with * is Mandatory"),m.ec(),m.ec(),m.ec()}2&e&&(m.Ob(5),m.xc("formGroup",t.myform),m.Ob(11),m.xc("ngForOf",t.users),m.Ob(3),m.xc("ngIf",t.submitted&&t.myform.get("password").errors))},directives:[h.a,h.f,h.c,o.t,o.n,o.g,p.c,p.g,y.a,o.m,o.f,o.r,i.k,g.b,o.c,i.l,p.b,h.b,b.b,x.o],styles:[".customStyle[_ngcontent-%COMP%]{border-radius:10px 10px 10px 10px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important;margin-bottom:15px}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.mat-stroked-button[_ngcontent-%COMP%]{width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}.red[_ngcontent-%COMP%]{color:#00f;font-size:16px}.reda[_ngcontent-%COMP%]{color:red}p[_ngcontent-%COMP%]{font-size:10px}.dd[_ngcontent-%COMP%]{width:120px;height:25px;margin-left:10px;margin-top:5px;margin-bottom:10px;text-align:left}a[_ngcontent-%COMP%]{cursor:pointer;margin-top:20px}.closeButton[_ngcontent-%COMP%]{width:30px;height:30px;margin-left:5px;cursor:pointer}"]}),e})();var k=c("idFR"),P=c("M5z4"),_=c("XiUz"),I=c("NFeN"),M=c("7EHt"),A=c("bSwM"),R=c("/1cH"),F=c("MutI"),B=c("f0Cb");function U(e,t){if(1&e&&(m.fc(0,"mat-option",49),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.xc("value",e.id),m.Ob(1),m.Qc(" ",e.name," ")}}function T(e,t){if(1&e&&(m.fc(0,"mat-option",49),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.xc("value",e.value),m.Ob(1),m.Qc(" ",e.value," ")}}function Z(e,t){if(1&e){const e=m.gc();m.fc(0,"mat-option",49),m.fc(1,"mat-list"),m.fc(2,"mat-list-item",46),m.nc("click",(function(){m.Fc(e);const c=t.$implicit;return m.rc(2).onChangeCustomer(c.customer_id)})),m.Oc(3),m.ec(),m.ac(4,"mat-divider"),m.ec(),m.ec()}if(2&e){const e=t.$implicit;m.xc("value",e.customer_id),m.Ob(3),m.Rc(" ",e.name,"(",e.customer_id,") ")}}function L(e,t){if(1&e){const e=m.gc();m.fc(0,"div"),m.fc(1,"mat-form-field",21),m.fc(2,"input",50),m.nc("keyup",(function(t){return m.Fc(e),m.rc().applySearch(t.target.value)})),m.ec(),m.fc(3,"mat-hint",51),m.Oc(4,"Please input customer id"),m.ec(),m.ec(),m.fc(5,"mat-autocomplete",null,52),m.Nc(7,Z,5,3,"mat-option",14),m.ec(),m.ec()}if(2&e){const e=m.Dc(6),t=m.rc();m.Ob(2),m.xc("matAutocomplete",e),m.Ob(5),m.xc("ngForOf",t.customerData)}}function $(e,t){if(1&e&&(m.fc(0,"mat-option",49),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.xc("value",e.value),m.Ob(1),m.Qc(" ",e.value," ")}}function j(e,t){if(1&e&&(m.fc(0,"mat-option",49),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.xc("value",e.id),m.Ob(1),m.Qc(" ",e.value," ")}}function q(e,t){if(1&e&&m.ac(0,"img",53),2&e){const e=m.rc();m.xc("src",e.imgurl,m.Gc)}}function z(e,t){if(1&e&&(m.fc(0,"mat-option",49),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.xc("value",e.id),m.Ob(1),m.Qc(" ",e.value," ")}}function G(e,t){if(1&e&&(m.fc(0,"mat-option",49),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.xc("value",e.id),m.Ob(1),m.Qc(" ",e.value," ")}}function E(e,t){if(1&e&&(m.fc(0,"div",54),m.fc(1,"div",55),m.fc(2,"mat-form-field",5),m.ac(3,"input",56),m.ec(),m.fc(4,"mat-form-field",5),m.ac(5,"input",57),m.ec(),m.ec(),m.ec()),2&e){const e=t.index;m.Ob(1),m.xc("formArrayName",e)}}let H=(()=>{class e{constructor(e,t,c,i,o,r){this.fb=e,this.router=t,this.snackBar=c,this.userService=i,this.rolesService=o,this.customerService=r,this.imgurl=null,this.fileUpload=null,this.object={},this.fieldArray=[],this.submitted=!1,this.mapTypes=[{id:1,value:"OpenStree Map"},{id:2,value:"Bing Map"},{id:3,value:"Baidu Map"}],this.formats=[{id:1,value:"Decimal Degrees"},{id:2,value:"Degress Decimal Minutes"},{id:3,value:"Degrees Minutes Seconds"}],this.states=[{id:1,value:"Active"},{id:0,value:"Inactive"}],this.roles=[{id:1,value:"Admin"},{id:0,value:"User"}],this.gend=[{value:"Male"},{value:"Female"}],this.userTypes=[{value:"Admin"},{value:"Reseller"},{value:"Customer"}],this.step=0}setStep(e){this.step=e}ngOnInit(){this.myform=this.fb.group({firstName:["",[o.s.required]],lastName:["",[o.s.required]],mobile:["",[o.s.required]],email:["",[o.s.required,o.s.email]],customer_id:[],address:[""],gender:[""],userType:[""],userRole:["",[o.s.required]],image:[""],password:["",[o.s.required]],confirmPassword:["",[o.s.required,u("password")]],mapLayer:[""],latitude:[""],longitude:[""],zoom:[],hourFormat:[],cordinatesFormat:[""],poiLayer:[""],disabled:[],admin:[],readonly:[],deviceReadonly:[],limitCommands:[],expiration:[],deviceLimit:[],userLimit:[],token:[],created_by:[""],status:[,[o.s.required]],attributes:this.fb.array([])}),this.getAllRole()}assignAttributes(){return this.fb.group({name:[""],value:[""]})}get fArray(){return this.myform.get("attributes")}addassignTicket(){this.fArray.push(this.assignAttributes())}getAllRole(){this.rolesService.getAllRole().subscribe(e=>{this.userRoles=e,this.filterRoles=this.userRoles})}applyFilter(e){this.userRoles=this.filterRoles.filter(t=>t.name.toLowerCase().indexOf(e)>-1)}onFileSelected(e){if(e.target.files.length>0){this.images=e.target.files[0];const t=new FileReader;t.onload=e=>{this.imgurl=e.target.result},t.readAsDataURL(this.images)}}openSnackBar(){this.snackBar.open("Successfully added!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}errorMessage(){this.snackBar.open("Something is error!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}applySearch(e){this.customerService.customerSearch({name:e}).subscribe(e=>{this.customerData=e,console.log(this.customerData)})}onChangeCustomer(e){this.myform.value.customer_id=e}onChange(e){console.log(e),"Customer"==e&&(this.showCustommerField=1,console.log(this.showCustommerField))}addUser(){if(this.myform.markAllAsTouched(),this.submitted=!0,this.myform.invalid)return;console.log(this.myform.value.attributes),this.myform.value.attributes&&this.myform.value.attributes.forEach(e=>{this.object[e.name]=e.value}),this.myform.value.attributes=this.object;const e=new FormData;e.append("image",this.images),e.append("firstName",this.myform.get("firstName").value),e.append("lastName",this.myform.get("lastName").value),e.append("mobile",this.myform.get("mobile").value),e.append("email",this.myform.get("email").value),e.append("customer_id",this.myform.value.customer_id),e.append("password",this.myform.get("password").value),e.append("userRole",this.myform.get("userRole").value),e.append("userType",this.myform.get("userType").value),e.append("address",this.myform.get("address").value),e.append("gender",this.myform.get("gender").value),e.append("status",this.myform.get("status").value),e.append("mapLayer",this.myform.get("mapLayer").value),e.append("latitude",this.myform.get("latitude").value),e.append("longitude",this.myform.get("longitude").value),e.append("zoom",this.myform.get("zoom").value),e.append("hourFormat",this.myform.get("hourFormat").value),e.append("cordinatesFormat",this.myform.get("cordinatesFormat").value),e.append("poiLayer",this.myform.get("poiLayer").value),e.append("disabled",this.myform.get("disabled").value),e.append("admin",this.myform.get("admin").value),e.append("readonly",this.myform.get("readonly").value),e.append("deviceReadonly",this.myform.get("deviceReadonly").value),e.append("expiration",this.myform.get("expiration").value),e.append("deviceLimit",this.myform.get("deviceLimit").value),e.append("userLimit",this.myform.get("userLimit").value),e.append("attributes",JSON.stringify(this.object)),e.append("token",this.myform.get("token").value),e.append("created_by",this.myform.value.created_by),console.log(this.myform.value),this.userService.addUser(e).subscribe(e=>{this.openSnackBar(),this.router.navigate(["admin/authorization/users/list"])},e=>{this.errorMessage()})}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(o.e),m.Zb(n.c),m.Zb(f.a),m.Zb(d.a),m.Zb(k.a),m.Zb(P.a))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-user-add"]],decls:129,vars:14,consts:[[1,"customStyle"],[1,"title-style"],[3,"formGroup"],["fxLayout","row","fxLayout.xs","column",1,"main"],["fxFlex","50%"],[1,"half"],["trim","blur","matInput","","placeholder","First Name","formControlName","firstName","autocomplete","off","required",""],["trim","blur","matInput","","placeholder","Last Name","formControlName","lastName","autocomplete","off","required",""],["trim","blur","matInput","","placeholder","Mobile","formControlName","mobile","autocomplete","off","required",""],["trim","blur","matInput","","placeholder","Email","formControlName","email","autocomplete","off","required",""],["formControlName","userRole","required",""],["sl",""],["matInput","","placeholder","search","autocomplete","off",1,"filterBox",3,"keyup"],[1,"closeButton",3,"click"],[3,"value",4,"ngFor","ngForOf"],["formControlName","userType","required","",3,"ngModelChange"],[4,"ngIf"],["matInput","","type","password","placeholder","Password","formControlName","password","autocomplete","off","required",""],["type","password","matInput","","placeholder","Confirm Password","formControlName","confirmPassword","autocomplete","off","compare","password","required",""],["formControlName","gender"],["formControlName","status","required",""],[1,"full"],["matInput","","placeholder","Address","formControlName","address","autocomplete","off"],["type","hide","style","width:100px;height:50px",3,"src",4,"ngIf"],[1,"image"],["type","file","formControlName","image","enctype","multipart/form-data","max-size","2",3,"change"],[1,"example-headers-align"],["hideToggle","",3,"expanded","opened"],["matInput","","placeholder","POI Layer","formControlName","poiLayer","autocomplete","off"],["required","",1,"half"],["formControlName","mapLayer"],["matInput","","placeholder","Latitude","formControlName","latitude","autocomplete","off"],["matInput","","placeholder","Longitude","formControlName","longitude","autocomplete","off"],["matInput","","placeholder","Zoom","formControlName","zoom","autocomplete","off"],["formControlName","cordinatesFormat"],["formControlName","hourFormat","labelPosition","before",1,"checkbox"],["formControlName","disabled","labelPosition","before",1,"checkbox"],["formControlName","admin","labelPosition","before",1,"checkbox"],["formControlName","readonly","labelPosition","before",1,"checkbox"],["formControlName","deviceReadonly","labelPosition","before",1,"checkbox"],["formControlName","limitCommands","labelPosition","before",1,"checkbox"],["matInput","","placeholder","Expiration","formControlName","expiration","autocomplete","off"],["matInput","","placeholder","Device Limit","formControlName","deviceLimit","autocomplete","off"],["matInput","","placeholder","User Limit","formControlName","userLimit","autocomplete","off"],["matInput","","placeholder","Token","formControlName","token","autocomplete","off"],["formArrayName","attributes",4,"ngFor","ngForOf"],[3,"click"],[1,"button"],["mat-stroked-button","","color","primary",1,"btn-block",3,"disabled","click"],[3,"value"],["matInput","","placeholder","Customer","formControlName","customer_id",3,"matAutocomplete","keyup"],["align","end"],["auto","matAutocomplete"],["type","hide",2,"width","100px","height","50px",3,"src"],["formArrayName","attributes"],[3,"formArrayName"],["trim","blur","matInput","","placeholder","Name","formControlName","name","autocomplete","off"],["trim","blur","matInput","","placeholder","Value","formControlName","value","autocomplete","off"]],template:function(e,t){if(1&e){const e=m.gc();m.fc(0,"mat-card",0),m.fc(1,"div",1),m.fc(2,"mat-card-title"),m.Oc(3,"User Registration Form"),m.ec(),m.ec(),m.fc(4,"mat-card-content"),m.fc(5,"form",2),m.fc(6,"div",3),m.fc(7,"div",4),m.fc(8,"mat-form-field",5),m.ac(9,"input",6),m.ec(),m.fc(10,"mat-form-field",5),m.ac(11,"input",7),m.ec(),m.fc(12,"mat-form-field",5),m.ac(13,"input",8),m.ec(),m.fc(14,"mat-form-field",5),m.ac(15,"input",9),m.ec(),m.fc(16,"mat-form-field",5),m.fc(17,"mat-label"),m.Oc(18,"User Role"),m.ec(),m.fc(19,"mat-select",10,11),m.fc(21,"input",12),m.nc("keyup",(function(e){return t.applyFilter(e.target.value)})),m.ec(),m.fc(22,"a"),m.fc(23,"mat-icon",13),m.nc("click",(function(){return m.Fc(e),m.Dc(20).close()})),m.Oc(24,"clear"),m.ec(),m.ec(),m.Nc(25,U,2,2,"mat-option",14),m.ec(),m.ec(),m.fc(26,"mat-form-field",5),m.fc(27,"mat-label"),m.Oc(28,"User Type"),m.ec(),m.fc(29,"mat-select",15),m.nc("ngModelChange",(function(e){return t.onChange(e)})),m.Nc(30,T,2,2,"mat-option",14),m.ec(),m.ec(),m.Nc(31,L,8,2,"div",16),m.fc(32,"mat-form-field",5),m.ac(33,"input",17),m.ec(),m.fc(34,"mat-form-field",5),m.ac(35,"input",18),m.fc(36,"mat-error"),m.Oc(37," password does not match "),m.ec(),m.ec(),m.fc(38,"mat-form-field",5),m.fc(39,"mat-label"),m.Oc(40,"Gender"),m.ec(),m.fc(41,"mat-select",19),m.Nc(42,$,2,2,"mat-option",14),m.ec(),m.ec(),m.fc(43,"mat-form-field",5),m.fc(44,"mat-label"),m.Oc(45,"Status"),m.ec(),m.fc(46,"mat-select",20),m.Nc(47,j,2,2,"mat-option",14),m.ec(),m.ec(),m.fc(48,"mat-form-field",21),m.ac(49,"textarea",22),m.ec(),m.fc(50,"div",21),m.Nc(51,q,1,1,"img",23),m.fc(52,"mat-label",24),m.Oc(53,"Image "),m.ec(),m.fc(54,"input",25),m.nc("change",(function(e){return t.onFileSelected(e)})),m.ec(),m.ec(),m.ec(),m.fc(55,"div",4),m.fc(56,"mat-accordion",26),m.fc(57,"mat-expansion-panel",27),m.nc("opened",(function(){return t.setStep(1)})),m.fc(58,"mat-expansion-panel-header"),m.fc(59,"mat-panel-title"),m.fc(60,"mat-icon"),m.Oc(61,"add"),m.ec(),m.Oc(62," Preferences "),m.ec(),m.ec(),m.fc(63,"mat-form-field",5),m.ac(64,"input",28),m.ec(),m.fc(65,"mat-form-field",29),m.fc(66,"mat-label"),m.Oc(67,"Map Layer"),m.ec(),m.fc(68,"mat-select",30),m.Nc(69,z,2,2,"mat-option",14),m.ec(),m.ec(),m.fc(70,"mat-form-field",5),m.ac(71,"input",31),m.ec(),m.fc(72,"mat-form-field",5),m.ac(73,"input",32),m.ec(),m.fc(74,"mat-form-field",5),m.ac(75,"input",33),m.ec(),m.fc(76,"mat-form-field",29),m.fc(77,"mat-label"),m.Oc(78,"Coordinates Format"),m.ec(),m.fc(79,"mat-select",34),m.Nc(80,G,2,2,"mat-option",14),m.ec(),m.ec(),m.fc(81,"mat-checkbox",35),m.Oc(82," 12 Hour Format "),m.ec(),m.ec(),m.ec(),m.fc(83,"mat-accordion",26),m.fc(84,"mat-expansion-panel",27),m.nc("opened",(function(){return t.setStep(2)})),m.fc(85,"mat-expansion-panel-header"),m.fc(86,"mat-panel-title"),m.fc(87,"mat-icon"),m.Oc(88,"add"),m.ec(),m.Oc(89," Permissions "),m.ec(),m.ec(),m.fc(90,"div"),m.fc(91,"mat-checkbox",36),m.Oc(92," Disabled "),m.ec(),m.ec(),m.fc(93,"div"),m.fc(94,"mat-checkbox",37),m.Oc(95," Admin "),m.ec(),m.ec(),m.fc(96,"div"),m.fc(97,"mat-checkbox",38),m.Oc(98," Readonly "),m.ec(),m.ec(),m.fc(99,"div"),m.fc(100,"mat-checkbox",39),m.Oc(101," Device Readonly "),m.ec(),m.ec(),m.fc(102,"div"),m.fc(103,"mat-checkbox",40),m.Oc(104," Limit Commands "),m.ec(),m.ec(),m.fc(105,"mat-form-field",5),m.ac(106,"input",41),m.ec(),m.fc(107,"mat-form-field",5),m.ac(108,"input",42),m.ec(),m.fc(109,"mat-form-field",5),m.ac(110,"input",43),m.ec(),m.fc(111,"mat-form-field",5),m.ac(112,"input",44),m.ec(),m.ec(),m.ec(),m.fc(113,"mat-accordion",26),m.fc(114,"mat-expansion-panel",27),m.nc("opened",(function(){return t.setStep(3)})),m.fc(115,"mat-expansion-panel-header"),m.fc(116,"mat-panel-title"),m.fc(117,"mat-icon"),m.Oc(118,"add"),m.ec(),m.Oc(119," Attributes "),m.ec(),m.ec(),m.Nc(120,E,6,1,"div",45),m.fc(121,"button",46),m.nc("click",(function(){return t.addassignTicket()})),m.fc(122,"mat-icon"),m.Oc(123,"add"),m.ec(),m.ec(),m.ec(),m.ec(),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(124,"mat-card-actions",47),m.fc(125,"button",48),m.nc("click",(function(){return t.addUser()})),m.Oc(126," Submit "),m.ec(),m.fc(127,"p"),m.Oc(128,"Note: Field marked with * is Mandatory"),m.ec(),m.ec(),m.ec()}2&e&&(m.Ob(5),m.xc("formGroup",t.myform),m.Ob(20),m.xc("ngForOf",t.userRoles),m.Ob(5),m.xc("ngForOf",t.userTypes),m.Ob(1),m.xc("ngIf",1==t.showCustommerField),m.Ob(11),m.xc("ngForOf",t.gend),m.Ob(5),m.xc("ngForOf",t.states),m.Ob(4),m.xc("ngIf",t.imgurl),m.Ob(6),m.xc("expanded",1===t.step),m.Ob(12),m.xc("ngForOf",t.mapTypes),m.Ob(11),m.xc("ngForOf",t.formats),m.Ob(4),m.xc("expanded",2===t.step),m.Ob(30),m.xc("expanded",3===t.step),m.Ob(6),m.xc("ngForOf",t.myform.get("attributes").controls),m.Ob(5),m.xc("disabled",!t.myform.valid))},directives:[h.a,h.f,h.c,o.t,o.n,o.g,_.b,_.a,p.c,g.b,o.c,o.m,o.f,o.r,p.g,y.a,I.a,i.k,i.l,p.b,M.a,M.c,M.d,M.e,A.a,h.b,b.b,x.o,R.c,p.f,R.a,F.a,F.b,B.a,o.d],styles:["mat-card[_ngcontent-%COMP%]{width:90%;top:0}.main[_ngcontent-%COMP%]{width:100%}.mainContent[_ngcontent-%COMP%]{width:50%}.optionalContent[_ngcontent-%COMP%]{width:50%;margin-top:-370px;float:right}.customStyle[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.mat-stroked-button[_ngcontent-%COMP%]{width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}.image[_ngcontent-%COMP%]{margin-right:10px}.checkbox[_ngcontent-%COMP%]{margin-left:15px}mat-grid-tile[_ngcontent-%COMP%]{background:#add8e6}.button[_ngcontent-%COMP%]{margin-top:35px}.filterBox[_ngcontent-%COMP%]{width:150px;height:25px;margin-left:10px;margin-top:5px;margin-bottom:5px;border-radius:10px 10px 10px 10px;border:2px solid #000}"]}),e})();function V(e,t){if(1&e&&(m.fc(0,"mat-option",44),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.xc("value",e.id),m.Ob(1),m.Qc(" ",e.name," ")}}function Q(e,t){if(1&e&&(m.fc(0,"mat-option",44),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.xc("value",e.value),m.Ob(1),m.Qc(" ",e.value," ")}}function W(e,t){if(1&e){const e=m.gc();m.fc(0,"mat-option",44),m.fc(1,"mat-list"),m.fc(2,"mat-list-item",41),m.nc("click",(function(){m.Fc(e);const c=t.$implicit;return m.rc(2).onChangeCustomer(c.customer_id)})),m.Oc(3),m.ec(),m.ac(4,"mat-divider"),m.ec(),m.ec()}if(2&e){const e=t.$implicit;m.xc("value",e.customer_id),m.Ob(3),m.Rc(" ",e.name,"(",e.customer_id,") ")}}function X(e,t){if(1&e){const e=m.gc();m.fc(0,"div"),m.fc(1,"mat-form-field",20),m.fc(2,"input",45),m.nc("ngModelChange",(function(t){return m.Fc(e),m.rc().customer_id=t}))("keyup",(function(t){return m.Fc(e),m.rc().applySearch(t.target.value)})),m.ec(),m.fc(3,"mat-hint",46),m.Oc(4,"Please input customer id"),m.ec(),m.ec(),m.fc(5,"mat-autocomplete",null,47),m.Nc(7,W,5,3,"mat-option",14),m.ec(),m.ec()}if(2&e){const e=m.Dc(6),t=m.rc();m.Ob(2),m.xc("matAutocomplete",e)("ngModel",t.customer_id),m.Ob(5),m.xc("ngForOf",t.customerData)}}function J(e,t){if(1&e&&(m.fc(0,"mat-option",44),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.xc("value",e.value),m.Ob(1),m.Qc(" ",e.value," ")}}function K(e,t){if(1&e&&(m.fc(0,"mat-option",44),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.xc("value",e.id),m.Ob(1),m.Qc(" ",e.value," ")}}function Y(e,t){if(1&e&&(m.fc(0,"mat-option",44),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.xc("value",e.id),m.Ob(1),m.Qc(" ",e.value," ")}}function ee(e,t){if(1&e&&(m.fc(0,"mat-option",44),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.xc("value",e.id),m.Ob(1),m.Qc(" ",e.value," ")}}function te(e,t){if(1&e&&(m.fc(0,"div",48),m.fc(1,"div",49),m.fc(2,"mat-form-field",5),m.ac(3,"input",50),m.ec(),m.fc(4,"mat-form-field",5),m.ac(5,"input",51),m.ec(),m.ec(),m.ec()),2&e){const e=t.index;m.Ob(1),m.xc("formArrayName",e)}}let ce=(()=>{class e{constructor(e,t,c,i,o,r,a){this.fb=e,this.router=t,this.snackBar=c,this.userService=i,this.rolesService=o,this.route=r,this.customerService=a,this.customerIndex=[],this.imgurl=null,this.fileUpload=null,this.object={},this.fieldArray=[],this.submitted=!1,this.mapTypes=[{id:1,value:"OpenStree Map"},{id:2,value:"Bing Map"},{id:3,value:"Baidu Map"}],this.formats=[{id:1,value:"Decimal Degrees"},{id:2,value:"Degress Decimal Minutes"},{id:3,value:"Degrees Minutes Seconds"}],this.states=[{id:1,value:"Active"},{id:0,value:"Inactive"}],this.roles=[{id:1,value:"Admin"},{id:0,value:"User"}],this.gend=[{value:"Male"},{value:"Female"}],this.userTypes=[{value:"Admin"},{value:"Reseller"},{value:"Customer"}],this.step=0}setStep(e){this.step=e}ngOnInit(){this.myform=this.fb.group({firstName:["",[o.s.required]],lastName:["",[o.s.required]],mobile:["",[o.s.required]],email:["",[o.s.required,o.s.email]],address:[""],customer_id:[""],gender:[""],userRole:["",[o.s.required]],userType:[""],mapLayer:[""],latitude:[""],longitude:[""],zoom:[],hourFormat:[],cordinatesFormat:[""],poiLayer:[],disabled:[],admin:[],readonly:[],deviceReadonly:[],limitCommands:[],expiration:[],deviceLimit:[],userLimit:[],token:[],created_by:[""],status:[,[o.s.required]],attributes:this.fb.array([])}),this.route.paramMap.subscribe(e=>{this.Id=e.get("id"),this.edit(this.Id)}),this.getAllRole(),this.getAllCustomer()}assignAttributes(){return this.fb.group({name:[""],value:[""]})}get fArray(){return this.myform.get("attributes")}addassignTicket(){this.fArray.push(this.assignAttributes())}getAllRole(){this.rolesService.getAllRole().subscribe(e=>{this.userRoles=e,this.filterRoles=this.userRoles})}openSnackBar(){this.snackBar.open("Successfully added!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}errorMessage(){this.snackBar.open("Something is error!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}edit(e){this.userService.getUserById(e).subscribe(e=>{this.d=e,console.log(this.d);var t=JSON.parse(this.d.attributes),c=Object.entries(t);this.attr=[],c.forEach(e=>{this.attr.push({name:e[0],value:e[1]})}),this.d.attributes=this.attr,console.log(this.d.attributes),this.setData(this.d)})}setData(e){this.myform.patchValue({firstName:e.first_name,lastName:e.last_name,mobile:e.phone,email:e.email,address:e.address,gender:e.gender,userRole:e.user_role,userType:e.user_type,mapLayer:e.map,latitude:e.latitude,longitude:e.longitude,zoom:e.zoom,hourFormat:e.twelvehourformat,cordinatesFormat:e.cordinatesformat,poiLayer:e.poilayer,disabled:e.disabled,admin:e.administrator,readonly:e.readonly,deviceReadonly:e.devicereadonly,limitCommands:e.limitcommands,expiration:e.expirationtime,deviceLimit:e.devicelimit,userLimit:e.userlimit,token:e.token,status:e.status}),0==e.customer_id&&(this.customer_id=""),0!=e.customer_id&&(this.customer_id=e.customer_id),this.createdBy=e.created_by,this.image=e.image,this.password=e.password,this.setAttributes()}setAttributes(){let e=this.myform.controls.attributes;this.d.attributes.forEach(t=>{e.push(this.fb.group(t))})}applyFilter(e){this.userRoles=this.filterRoles.filter(t=>t.name.toLowerCase().indexOf(e)>-1)}getAllCustomer(){this.customerService.getAllCustomerList().subscribe(e=>{this.customers=e,console.log(this.customers),this.customers.forEach((e,t)=>{this.customerIndex[e.customer_id]=this.customers[t]})})}applySearch(e){this.customerService.customerSearch({name:e}).subscribe(e=>{this.customerData=e,console.log(this.customerData)})}onChangeCustomer(e){this.customer_id=e}onChange(e){console.log(e),"Customer"==e&&(this.showCustommerField=1,console.log(this.showCustommerField))}updateUser(){this.myform.markAllAsTouched(),this.submitted=!0,this.myform.invalid||(this.myform.value.attributes.forEach(e=>{this.object[e.name]=e.value}),this.myform.value.attributes=this.object,this.userData=JSON.parse(localStorage.getItem("userData")),this.myform.value.updated_by=this.userData.id,this.myform.value.updated_time=new Date,this.myform.value.created_by=this.createdBy,this.myform.value.password=this.userData.password,this.myform.value.image=this.userData.image,this.myform.value.customer_id=this.customer_id,this.userService.updateUser(this.Id,this.myform.value).subscribe(e=>{this.openSnackBar(),this.router.navigate(["admin/authorization/users/list"])}))}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(o.e),m.Zb(n.c),m.Zb(f.a),m.Zb(d.a),m.Zb(k.a),m.Zb(n.a),m.Zb(P.a))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-user-edit"]],decls:118,vars:12,consts:[[1,"customStyle"],[1,"title-style"],[3,"formGroup"],["fxLayout","row","fxLayout.xs","column",1,"main"],["fxFlex","50%"],[1,"half"],["trim","blur","matInput","","placeholder","First Name","formControlName","firstName","autocomplete","off","required",""],["trim","blur","matInput","","placeholder","Last Name","formControlName","lastName","autocomplete","off","required",""],["trim","blur","matInput","","placeholder","Mobile","formControlName","mobile","autocomplete","off","required",""],["trim","blur","matInput","","placeholder","Email","formControlName","email","autocomplete","off","required",""],["formControlName","userRole","required",""],["sl",""],["matInput","","placeholder","search","autocomplete","off",1,"filterBox",3,"keyup"],[1,"closeButton",3,"click"],[3,"value",4,"ngFor","ngForOf"],["formControlName","userType","required","",3,"ngModelChange"],[4,"ngIf"],["formControlName","gender"],["required","",1,"half"],["formControlName","status","required",""],[1,"full"],["matInput","","placeholder","Address","formControlName","address","autocomplete","off"],[1,"example-headers-align"],["hideToggle","",3,"expanded","opened"],["matInput","","placeholder","POI Layer","formControlName","poiLayer","autocomplete","off"],["formControlName","mapLayer"],["matInput","","placeholder","Latitude","formControlName","latitude","autocomplete","off"],["matInput","","placeholder","Longitude","formControlName","longitude","autocomplete","off"],["matInput","","placeholder","Zoom","formControlName","zoom","autocomplete","off"],["formControlName","cordinatesFormat"],["formControlName","hourFormat","labelPosition","before",1,"checkbox"],["formControlName","disabled","labelPosition","before",1,"checkbox"],["formControlName","admin","labelPosition","before",1,"checkbox"],["formControlName","readonly","labelPosition","before",1,"checkbox"],["formControlName","deviceReadonly","labelPosition","before",1,"checkbox"],["formControlName","limitCommands","labelPosition","before",1,"checkbox"],["matInput","","placeholder","Expiration","formControlName","expiration","autocomplete","off"],["matInput","","placeholder","Device Limit","formControlName","deviceLimit","autocomplete","off"],["matInput","","placeholder","User Limit","formControlName","userLimit","autocomplete","off"],["matInput","","placeholder","Token","formControlName","token","autocomplete","off"],["formArrayName","attributes",4,"ngFor","ngForOf"],[3,"click"],[1,"button"],["mat-stroked-button","","color","primary",1,"btn-block",3,"click"],[3,"value"],["matInput","","placeholder","Customer","formControlName","customer_id",3,"matAutocomplete","ngModel","ngModelChange","keyup"],["align","end"],["auto","matAutocomplete"],["formArrayName","attributes"],[3,"formArrayName"],["trim","blur","matInput","","placeholder","Name","formControlName","name","autocomplete","off"],["trim","blur","matInput","","placeholder","Value","formControlName","value","autocomplete","off"]],template:function(e,t){if(1&e){const e=m.gc();m.fc(0,"mat-card",0),m.fc(1,"div",1),m.fc(2,"mat-card-title"),m.Oc(3,"User Update Form"),m.ec(),m.ec(),m.fc(4,"mat-card-content"),m.fc(5,"form",2),m.fc(6,"div",3),m.fc(7,"div",4),m.fc(8,"mat-form-field",5),m.ac(9,"input",6),m.ec(),m.fc(10,"mat-form-field",5),m.ac(11,"input",7),m.ec(),m.fc(12,"mat-form-field",5),m.ac(13,"input",8),m.ec(),m.fc(14,"mat-form-field",5),m.ac(15,"input",9),m.ec(),m.fc(16,"mat-form-field",5),m.fc(17,"mat-label"),m.Oc(18,"User Role"),m.ec(),m.fc(19,"mat-select",10,11),m.fc(21,"input",12),m.nc("keyup",(function(e){return t.applyFilter(e.target.value)})),m.ec(),m.fc(22,"a"),m.fc(23,"mat-icon",13),m.nc("click",(function(){return m.Fc(e),m.Dc(20).close()})),m.Oc(24,"clear"),m.ec(),m.ec(),m.Nc(25,V,2,2,"mat-option",14),m.ec(),m.ec(),m.fc(26,"mat-form-field",5),m.fc(27,"mat-label"),m.Oc(28,"User Type"),m.ec(),m.fc(29,"mat-select",15),m.nc("ngModelChange",(function(e){return t.onChange(e)})),m.Nc(30,Q,2,2,"mat-option",14),m.ec(),m.ec(),m.Nc(31,X,8,3,"div",16),m.fc(32,"mat-form-field",5),m.fc(33,"mat-label"),m.Oc(34,"Gender"),m.ec(),m.fc(35,"mat-select",17),m.Nc(36,J,2,2,"mat-option",14),m.ec(),m.ec(),m.fc(37,"mat-form-field",18),m.fc(38,"mat-label"),m.Oc(39,"Status"),m.ec(),m.fc(40,"mat-select",19),m.Nc(41,K,2,2,"mat-option",14),m.ec(),m.ec(),m.fc(42,"mat-form-field",20),m.ac(43,"textarea",21),m.ec(),m.ec(),m.fc(44,"div",4),m.fc(45,"mat-accordion",22),m.fc(46,"mat-expansion-panel",23),m.nc("opened",(function(){return t.setStep(1)})),m.fc(47,"mat-expansion-panel-header"),m.fc(48,"mat-panel-title"),m.fc(49,"mat-icon"),m.Oc(50,"add"),m.ec(),m.Oc(51," Preferences "),m.ec(),m.ec(),m.fc(52,"mat-form-field",5),m.ac(53,"input",24),m.ec(),m.fc(54,"mat-form-field",18),m.fc(55,"mat-label"),m.Oc(56,"Map Layer"),m.ec(),m.fc(57,"mat-select",25),m.Nc(58,Y,2,2,"mat-option",14),m.ec(),m.ec(),m.fc(59,"mat-form-field",5),m.ac(60,"input",26),m.ec(),m.fc(61,"mat-form-field",5),m.ac(62,"input",27),m.ec(),m.fc(63,"mat-form-field",5),m.ac(64,"input",28),m.ec(),m.fc(65,"mat-form-field",5),m.fc(66,"mat-label"),m.Oc(67,"Coordinates Format"),m.ec(),m.fc(68,"mat-select",29),m.Nc(69,ee,2,2,"mat-option",14),m.ec(),m.ec(),m.fc(70,"mat-checkbox",30),m.Oc(71," 12 Hour Format "),m.ec(),m.ec(),m.ec(),m.fc(72,"mat-accordion",22),m.fc(73,"mat-expansion-panel",23),m.nc("opened",(function(){return t.setStep(2)})),m.fc(74,"mat-expansion-panel-header"),m.fc(75,"mat-panel-title"),m.fc(76,"mat-icon"),m.Oc(77,"add"),m.ec(),m.Oc(78," Permissions "),m.ec(),m.ec(),m.fc(79,"div"),m.fc(80,"mat-checkbox",31),m.Oc(81," Disabled "),m.ec(),m.ec(),m.fc(82,"div"),m.fc(83,"mat-checkbox",32),m.Oc(84," Admin "),m.ec(),m.ec(),m.fc(85,"div"),m.fc(86,"mat-checkbox",33),m.Oc(87," Readonly "),m.ec(),m.ec(),m.fc(88,"div"),m.fc(89,"mat-checkbox",34),m.Oc(90," Device Readonly "),m.ec(),m.ec(),m.fc(91,"div"),m.fc(92,"mat-checkbox",35),m.Oc(93," Limit Commands "),m.ec(),m.ec(),m.fc(94,"mat-form-field",5),m.ac(95,"input",36),m.ec(),m.fc(96,"mat-form-field",5),m.ac(97,"input",37),m.ec(),m.fc(98,"mat-form-field",5),m.ac(99,"input",38),m.ec(),m.fc(100,"mat-form-field",5),m.ac(101,"input",39),m.ec(),m.ec(),m.ec(),m.fc(102,"mat-accordion",22),m.fc(103,"mat-expansion-panel",23),m.nc("opened",(function(){return t.setStep(3)})),m.fc(104,"mat-expansion-panel-header"),m.fc(105,"mat-panel-title"),m.fc(106,"mat-icon"),m.Oc(107,"add"),m.ec(),m.Oc(108," Attributes "),m.ec(),m.ec(),m.Nc(109,te,6,1,"div",40),m.fc(110,"button",41),m.nc("click",(function(){return t.addassignTicket()})),m.fc(111,"mat-icon"),m.Oc(112,"add"),m.ec(),m.ec(),m.ec(),m.ec(),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(113,"mat-card-actions",42),m.fc(114,"button",43),m.nc("click",(function(){return t.updateUser()})),m.Oc(115," Update "),m.ec(),m.fc(116,"p"),m.Oc(117,"Note: Field marked with * is Mandatory"),m.ec(),m.ec(),m.ec()}2&e&&(m.Ob(5),m.xc("formGroup",t.myform),m.Ob(20),m.xc("ngForOf",t.userRoles),m.Ob(5),m.xc("ngForOf",t.userTypes),m.Ob(1),m.xc("ngIf",1==t.showCustommerField),m.Ob(5),m.xc("ngForOf",t.gend),m.Ob(5),m.xc("ngForOf",t.states),m.Ob(5),m.xc("expanded",1===t.step),m.Ob(12),m.xc("ngForOf",t.mapTypes),m.Ob(11),m.xc("ngForOf",t.formats),m.Ob(4),m.xc("expanded",2===t.step),m.Ob(30),m.xc("expanded",3===t.step),m.Ob(6),m.xc("ngForOf",t.myform.get("attributes").controls))},directives:[h.a,h.f,h.c,o.t,o.n,o.g,_.b,_.a,p.c,g.b,o.c,o.m,o.f,o.r,p.g,y.a,I.a,i.k,i.l,M.a,M.c,M.d,M.e,A.a,h.b,b.b,x.o,R.c,p.f,R.a,F.a,F.b,B.a,o.d],styles:["mat-card[_ngcontent-%COMP%]{width:90%;top:0}.main[_ngcontent-%COMP%]{width:100%}.mainContent[_ngcontent-%COMP%]{width:50%}.optionalContent[_ngcontent-%COMP%]{width:50%;margin-top:-280px;float:right}.customStyle[_ngcontent-%COMP%]{border-radius:10px 10px 10px 10px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.mat-stroked-button[_ngcontent-%COMP%]{width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}.image[_ngcontent-%COMP%]{margin-right:10px}.checkbox[_ngcontent-%COMP%]{margin-left:15px}mat-grid-tile[_ngcontent-%COMP%]{background:#add8e6}.button[_ngcontent-%COMP%]{margin-top:35px}.filterBox[_ngcontent-%COMP%]{width:150px;height:25px;margin-left:10px;margin-top:5px;margin-bottom:5px;border-radius:10px 10px 10px 10px;border:2px solid #000}"]}),e})();var ie=c("M9IT"),oe=c("Dh3D"),re=c("+0xr"),ae=c("0IaG"),se=c("1jOF"),ne=c("H0VJ");function le(e,t){1&e&&m.ac(0,"th",11)}function me(e,t){if(1&e){const e=m.gc();m.fc(0,"td",12),m.fc(1,"mat-checkbox",13),m.nc("change",(function(c){m.Fc(e);const i=t.$implicit;return m.rc().check(c.checked,i)})),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.xc("checked",c.checkState(e.id))}}function ue(e,t){1&e&&(m.fc(0,"th",11),m.Oc(1,"Name"),m.ec())}function de(e,t){if(1&e&&(m.fc(0,"td",12),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.name)}}function fe(e,t){1&e&&(m.fc(0,"th",11),m.Oc(1,"Identifer"),m.ec())}function he(e,t){if(1&e&&(m.fc(0,"td",12),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.identifier)}}function pe(e,t){1&e&&m.ac(0,"tr",14)}function ge(e,t){1&e&&m.ac(0,"tr",15)}let be=(()=>{class e{constructor(e,t,c,i,o,r,a){this.driverService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=o,this.dialog=r,this.data=a,this.dataSource=new re.k([]),this.displayedColumns=["select","name","identifier"],this.Id=a.customer_id,this.user_id=a.user_id}ngOnInit(){this.getAllDriverByCustomer(),this.getAllDeviceByUser()}getAllDriverByCustomer(){this.driverService.getDriverByCustomerId(this.Id).subscribe(e=>{this.customerDrivers=e,this.dataSource=new re.k(this.customerDrivers),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllDeviceByUser(){this.driverService.getDriverByUserId(this.user_id).subscribe(e=>{this.userDrivers=e,this.userDrivers&&this.userDrivers.forEach(e=>{this.userDrivers.push(e.driverid)})})}close(){this.dialogRef.close()}checkState(e){if(this.userDrivers)return this.userDrivers.indexOf(e)>-1}check(e,t){e?(this.object={userId:this.user_id,driverId:t.id},this.driverService.addDriverWithUser(this.object).subscribe()):(this.object={userId:this.user_id,driverId:t.id},this.driverService.deleteUserDriver(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(se.a),m.Zb(f.a),m.Zb(n.c),m.Zb(ne.a),m.Zb(ae.f),m.Zb(ae.b),m.Zb(ae.a,8))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-driver-user"]],viewQuery:function(e,t){var c;1&e&&(m.Sc(oe.a,!0),m.Sc(ie.a,!0)),2&e&&(m.Cc(c=m.oc())&&(t.sort=c.first),m.Cc(c=m.oc())&&(t.paginator=c.first))},decls:20,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(m.fc(0,"div",0),m.fc(1,"div",1),m.fc(2,"h3"),m.Oc(3,"Driver Table"),m.ec(),m.fc(4,"span"),m.fc(5,"a"),m.fc(6,"mat-icon",2),m.nc("click",(function(){return t.close()})),m.Oc(7,"X"),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(8,"table",3),m.dc(9,4),m.Nc(10,le,1,0,"th",5),m.Nc(11,me,2,1,"td",6),m.cc(),m.dc(12,7),m.Nc(13,ue,2,0,"th",5),m.Nc(14,de,2,1,"td",6),m.cc(),m.dc(15,8),m.Nc(16,fe,2,0,"th",5),m.Nc(17,he,2,1,"td",6),m.cc(),m.Nc(18,pe,1,0,"tr",9),m.Nc(19,ge,1,0,"tr",10),m.ec(),m.ec()),2&e&&(m.Ob(8),m.xc("dataSource",t.dataSource),m.Ob(10),m.xc("matHeaderRowDef",t.displayedColumns),m.Ob(1),m.xc("matRowDefColumns",t.displayedColumns))},directives:[I.a,re.j,a.a,re.c,re.e,re.b,re.g,re.i,re.d,re.a,A.a,re.f,re.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:70%;margin-left:5%}"]}),e})();var ve=c("Kqty");function Oe(e,t){1&e&&m.ac(0,"th",12)}function Ce(e,t){if(1&e){const e=m.gc();m.fc(0,"td",13),m.fc(1,"mat-checkbox",14),m.nc("change",(function(c){m.Fc(e);const i=t.$implicit;return m.rc().check(c.checked,i)})),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.xc("checked",c.checkState(e.id))}}function ye(e,t){1&e&&(m.fc(0,"th",12),m.Oc(1,"Type of notification"),m.ec())}function xe(e,t){if(1&e&&(m.fc(0,"td",13),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.type)}}function we(e,t){1&e&&(m.fc(0,"th",12),m.Oc(1,"All Devices"),m.ec())}function De(e,t){if(1&e&&(m.fc(0,"td",13),m.Oc(1),m.ec()),2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.Pc(null==c.states[e.always]?null:c.states[e.always].value)}}function Ne(e,t){1&e&&(m.fc(0,"th",12),m.Oc(1,"Channels"),m.ec())}function Se(e,t){if(1&e&&(m.fc(0,"td",13),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.notificators)}}function ke(e,t){1&e&&m.ac(0,"tr",15)}function Pe(e,t){1&e&&m.ac(0,"tr",16)}let _e=(()=>{class e{constructor(e,t,c,i,o,r,a){this.notificationService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=o,this.dialog=r,this.data=a,this.dataSource=new re.k([]),this.states=[{id:0,value:"NO"},{id:1,value:"YES"}],this.displayedColumns=["select","name","identifier","always"],this.Id=a.pageValue}ngOnInit(){this.getAllNotification(),this.getAllNotificationByUser()}getAllNotification(){this.notificationService.getAllNotification().subscribe(e=>{console.log(e),this.notifications=e,this.dataSource=new re.k(e),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllNotificationByUser(){this.notificationService.getNotificationByUserId(this.Id).subscribe(e=>{console.log(e),this.userNotifications=e,this.userNotifications.forEach(e=>{this.userNotifications.push(e.notificationid)})})}close(){this.dialogRef.close()}checkState(e){if(this.userNotifications)return this.userNotifications.indexOf(e)>-1}check(e,t){e?(this.object={userId:this.Id,notificationId:t.id},this.notificationService.addNotificationWithUser(this.object).subscribe()):(this.object={userId:this.Id,notificationId:t.id},this.notificationService.deleteUserNotification(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(ve.a),m.Zb(f.a),m.Zb(n.c),m.Zb(ne.a),m.Zb(ae.f),m.Zb(ae.b),m.Zb(ae.a,8))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-notification-user"]],viewQuery:function(e,t){var c;1&e&&(m.Sc(oe.a,!0),m.Sc(ie.a,!0)),2&e&&(m.Cc(c=m.oc())&&(t.sort=c.first),m.Cc(c=m.oc())&&(t.paginator=c.first))},decls:23,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","always"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(m.fc(0,"div",0),m.fc(1,"div",1),m.fc(2,"h3"),m.Oc(3,"Notification Table"),m.ec(),m.fc(4,"span"),m.fc(5,"a"),m.fc(6,"mat-icon",2),m.nc("click",(function(){return t.close()})),m.Oc(7,"X"),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(8,"table",3),m.dc(9,4),m.Nc(10,Oe,1,0,"th",5),m.Nc(11,Ce,2,1,"td",6),m.cc(),m.dc(12,7),m.Nc(13,ye,2,0,"th",5),m.Nc(14,xe,2,1,"td",6),m.cc(),m.dc(15,8),m.Nc(16,we,2,0,"th",5),m.Nc(17,De,2,1,"td",6),m.cc(),m.dc(18,9),m.Nc(19,Ne,2,0,"th",5),m.Nc(20,Se,2,1,"td",6),m.cc(),m.Nc(21,ke,1,0,"tr",10),m.Nc(22,Pe,1,0,"tr",11),m.ec(),m.ec()),2&e&&(m.Ob(8),m.xc("dataSource",t.dataSource),m.Ob(13),m.xc("matHeaderRowDef",t.displayedColumns),m.Ob(1),m.xc("matRowDefColumns",t.displayedColumns))},directives:[I.a,re.j,a.a,re.c,re.e,re.b,re.g,re.i,re.d,re.a,A.a,re.f,re.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),e})();var Ie=c("hrIc");function Me(e,t){1&e&&m.ac(0,"th",13)}function Ae(e,t){if(1&e){const e=m.gc();m.fc(0,"td",14),m.fc(1,"mat-checkbox",15),m.nc("change",(function(c){m.Fc(e);const i=t.$implicit;return m.rc().check(c.checked,i)})),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.xc("checked",c.checkState(e.id))}}function Re(e,t){1&e&&(m.fc(0,"th",13),m.Oc(1,"Name"),m.ec())}function Fe(e,t){if(1&e&&(m.fc(0,"td",14),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.name)}}function Be(e,t){1&e&&(m.fc(0,"th",13),m.Oc(1,"Type"),m.ec())}function Ue(e,t){if(1&e&&(m.fc(0,"td",14),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.type)}}function Te(e,t){1&e&&(m.fc(0,"th",13),m.Oc(1,"Start"),m.ec())}function Ze(e,t){if(1&e&&(m.fc(0,"td",14),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.start)}}function Le(e,t){1&e&&(m.fc(0,"th",13),m.Oc(1,"Period"),m.ec())}function $e(e,t){if(1&e&&(m.fc(0,"td",14),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.period)}}function je(e,t){1&e&&m.ac(0,"tr",16)}function qe(e,t){1&e&&m.ac(0,"tr",17)}let ze=(()=>{class e{constructor(e,t,c,i,o,r,a){this.maintenanceService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=o,this.dialog=r,this.data=a,this.dataSource=new re.k([]),this.displayedColumns=["select","name","type","start","period"],this.Id=a.pageValue}ngOnInit(){this.getAllMaintenance(),this.getAllMaintenanceByUser()}getAllMaintenance(){this.maintenanceService.getAllMaintenance().subscribe(e=>{this.maintenance=e,this.dataSource=new re.k(e),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllMaintenanceByUser(){this.maintenanceService.getMaintenanceByUserId(this.Id).subscribe(e=>{console.log(e),this.userMaintenance=e,this.userMaintenance.forEach(e=>{this.userMaintenance.push(e.maintenance_id)})})}close(){this.dialogRef.close()}checkState(e){if(this.userMaintenance)return this.userMaintenance.indexOf(e)>-1}check(e,t){e?(this.object={userId:this.Id,maintenanceId:t.id},this.maintenanceService.addMaintenanceWithUser(this.object).subscribe()):(this.object={userId:this.Id,maintenanceId:t.id},this.maintenanceService.deleteUserMaintenance(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(Ie.a),m.Zb(f.a),m.Zb(n.c),m.Zb(ne.a),m.Zb(ae.f),m.Zb(ae.b),m.Zb(ae.a,8))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-maintenance-user"]],viewQuery:function(e,t){var c;1&e&&(m.Sc(oe.a,!0),m.Sc(ie.a,!0)),2&e&&(m.Cc(c=m.oc())&&(t.sort=c.first),m.Cc(c=m.oc())&&(t.paginator=c.first))},decls:26,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","type"],["matColumnDef","start"],["matColumnDef","period"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(m.fc(0,"div",0),m.fc(1,"div",1),m.fc(2,"h3"),m.Oc(3,"Maintenance Table"),m.ec(),m.fc(4,"span"),m.fc(5,"a"),m.fc(6,"mat-icon",2),m.nc("click",(function(){return t.close()})),m.Oc(7,"X"),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(8,"table",3),m.dc(9,4),m.Nc(10,Me,1,0,"th",5),m.Nc(11,Ae,2,1,"td",6),m.cc(),m.dc(12,7),m.Nc(13,Re,2,0,"th",5),m.Nc(14,Fe,2,1,"td",6),m.cc(),m.dc(15,8),m.Nc(16,Be,2,0,"th",5),m.Nc(17,Ue,2,1,"td",6),m.cc(),m.dc(18,9),m.Nc(19,Te,2,0,"th",5),m.Nc(20,Ze,2,1,"td",6),m.cc(),m.dc(21,10),m.Nc(22,Le,2,0,"th",5),m.Nc(23,$e,2,1,"td",6),m.cc(),m.Nc(24,je,1,0,"tr",11),m.Nc(25,qe,1,0,"tr",12),m.ec(),m.ec()),2&e&&(m.Ob(8),m.xc("dataSource",t.dataSource),m.Ob(16),m.xc("matHeaderRowDef",t.displayedColumns),m.Ob(1),m.xc("matRowDefColumns",t.displayedColumns))},directives:[I.a,re.j,a.a,re.c,re.e,re.b,re.g,re.i,re.d,re.a,A.a,re.f,re.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),e})();var Ge=c("9TBo");function Ee(e,t){1&e&&m.ac(0,"th",11)}function He(e,t){if(1&e){const e=m.gc();m.fc(0,"td",12),m.fc(1,"mat-checkbox",13),m.nc("change",(function(c){m.Fc(e);const i=t.$implicit;return m.rc().check(c.checked,i)})),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.xc("checked",c.checkState(e.id))}}function Ve(e,t){1&e&&(m.fc(0,"th",11),m.Oc(1,"Description"),m.ec())}function Qe(e,t){if(1&e&&(m.fc(0,"td",12),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.description)}}function We(e,t){1&e&&(m.fc(0,"th",11),m.Oc(1,"Attribute"),m.ec())}function Xe(e,t){if(1&e&&(m.fc(0,"td",12),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.attribute)}}function Je(e,t){1&e&&m.ac(0,"tr",14)}function Ke(e,t){1&e&&m.ac(0,"tr",15)}let Ye=(()=>{class e{constructor(e,t,c,i,o,r,a){this.attributeService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=o,this.dialog=r,this.data=a,this.dataSource=new re.k([]),this.displayedColumns=["select","name","identifier"],this.Id=a.pageValue}ngOnInit(){this.getAllAttribute(),this.getAllAttributeByUser()}getAllAttribute(){this.attributeService.getAllAttribute().subscribe(e=>{this.attributes=e,this.dataSource=new re.k(e),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllAttributeByUser(){this.attributeService.getAttributeByUserId(this.Id).subscribe(e=>{console.log(e),this.userAttributes=e,this.userAttributes.forEach(e=>{this.userAttributes.push(e.attributeid)})})}close(){this.dialogRef.close()}checkState(e){if(this.userAttributes)return this.userAttributes.indexOf(e)>-1}check(e,t){console.log(t.id),e?(this.object={userId:this.Id,attributeId:t.id},this.attributeService.addAttributeWithUser(this.object).subscribe()):(this.object={userId:this.Id,attributeId:t.id},this.attributeService.deleteUserAttribute(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(Ge.a),m.Zb(f.a),m.Zb(n.c),m.Zb(ne.a),m.Zb(ae.f),m.Zb(ae.b),m.Zb(ae.a,8))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-attribute-user"]],viewQuery:function(e,t){var c;1&e&&(m.Sc(oe.a,!0),m.Sc(ie.a,!0)),2&e&&(m.Cc(c=m.oc())&&(t.sort=c.first),m.Cc(c=m.oc())&&(t.paginator=c.first))},decls:20,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(m.fc(0,"div",0),m.fc(1,"div",1),m.fc(2,"h3"),m.Oc(3,"Attribute Table"),m.ec(),m.fc(4,"span"),m.fc(5,"a"),m.fc(6,"mat-icon",2),m.nc("click",(function(){return t.close()})),m.Oc(7,"X"),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(8,"table",3),m.dc(9,4),m.Nc(10,Ee,1,0,"th",5),m.Nc(11,He,2,1,"td",6),m.cc(),m.dc(12,7),m.Nc(13,Ve,2,0,"th",5),m.Nc(14,Qe,2,1,"td",6),m.cc(),m.dc(15,8),m.Nc(16,We,2,0,"th",5),m.Nc(17,Xe,2,1,"td",6),m.cc(),m.Nc(18,Je,1,0,"tr",9),m.Nc(19,Ke,1,0,"tr",10),m.ec(),m.ec()),2&e&&(m.Ob(8),m.xc("dataSource",t.dataSource),m.Ob(10),m.xc("matHeaderRowDef",t.displayedColumns),m.Ob(1),m.xc("matRowDefColumns",t.displayedColumns))},directives:[I.a,re.j,a.a,re.c,re.e,re.b,re.g,re.i,re.d,re.a,A.a,re.f,re.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:70%;margin-left:5%}"]}),e})();var et=c("9dHA");function tt(e,t){1&e&&m.ac(0,"th",12)}function ct(e,t){if(1&e){const e=m.gc();m.fc(0,"td",13),m.fc(1,"mat-checkbox",14),m.nc("change",(function(c){m.Fc(e);const i=t.$implicit;return m.rc().check(c.checked,i)})),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.xc("checked",c.checkState(e.id))}}function it(e,t){1&e&&(m.fc(0,"th",12),m.Oc(1,"Type"),m.ec())}function ot(e,t){if(1&e&&(m.fc(0,"td",13),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.type)}}function rt(e,t){1&e&&(m.fc(0,"th",12),m.Oc(1,"Description"),m.ec())}function at(e,t){if(1&e&&(m.fc(0,"td",13),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.description)}}function st(e,t){1&e&&(m.fc(0,"th",12),m.Oc(1,"Send SMS"),m.ec())}function nt(e,t){if(1&e&&(m.fc(0,"td",13),m.Oc(1),m.ec()),2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.Pc(null==c.sms[e.textchannel]?null:c.sms[e.textchannel].value)}}function lt(e,t){1&e&&m.ac(0,"tr",15)}function mt(e,t){1&e&&m.ac(0,"tr",16)}let ut=(()=>{class e{constructor(e,t,c,i,o,r,a){this.commandService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=o,this.dialog=r,this.data=a,this.dataSource=new re.k([]),this.displayedColumns=["select","name","description","sms"],this.sms=[{id:1,value:"true"},{id:0,value:"false"}],this.Id=a.pageValue}ngOnInit(){this.getAllCommand(),this.getAllCommandByUser()}getAllCommand(){this.commandService.getAllCommand().subscribe(e=>{this.commands=e,this.dataSource=new re.k(e),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllCommandByUser(){this.commandService.getCommandByUserId(this.Id).subscribe(e=>{console.log(e),this.userCommands=e,this.userCommands.forEach(e=>{this.userCommands.push(e.commandid)})})}close(){this.dialogRef.close()}checkState(e){if(this.userCommands)return this.userCommands.indexOf(e)>-1}check(e,t){e?(this.object={userId:this.Id,commandId:t.id},this.commandService.addCommandWithUser(this.object).subscribe()):(this.object={userId:this.Id,commandId:t.id},this.commandService.deleteUserCommand(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(et.a),m.Zb(f.a),m.Zb(n.c),m.Zb(ne.a),m.Zb(ae.f),m.Zb(ae.b),m.Zb(ae.a,8))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-command-user"]],viewQuery:function(e,t){var c;1&e&&(m.Sc(oe.a,!0),m.Sc(ie.a,!0)),2&e&&(m.Cc(c=m.oc())&&(t.sort=c.first),m.Cc(c=m.oc())&&(t.paginator=c.first))},decls:23,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","sms"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(m.fc(0,"div",0),m.fc(1,"div",1),m.fc(2,"h3"),m.Oc(3,"Command Table"),m.ec(),m.fc(4,"span"),m.fc(5,"a"),m.fc(6,"mat-icon",2),m.nc("click",(function(){return t.close()})),m.Oc(7,"X"),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(8,"table",3),m.dc(9,4),m.Nc(10,tt,1,0,"th",5),m.Nc(11,ct,2,1,"td",6),m.cc(),m.dc(12,7),m.Nc(13,it,2,0,"th",5),m.Nc(14,ot,2,1,"td",6),m.cc(),m.dc(15,8),m.Nc(16,rt,2,0,"th",5),m.Nc(17,at,2,1,"td",6),m.cc(),m.dc(18,9),m.Nc(19,st,2,0,"th",5),m.Nc(20,nt,2,1,"td",6),m.cc(),m.Nc(21,lt,1,0,"tr",10),m.Nc(22,mt,1,0,"tr",11),m.ec(),m.ec()),2&e&&(m.Ob(8),m.xc("dataSource",t.dataSource),m.Ob(13),m.xc("matHeaderRowDef",t.displayedColumns),m.Ob(1),m.xc("matRowDefColumns",t.displayedColumns))},directives:[I.a,re.j,a.a,re.c,re.e,re.b,re.g,re.i,re.d,re.a,A.a,re.f,re.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),e})();var dt=c("XCAU");function ft(e,t){1&e&&m.ac(0,"th",12)}function ht(e,t){if(1&e){const e=m.gc();m.fc(0,"td",13),m.fc(1,"mat-checkbox",14),m.nc("change",(function(c){m.Fc(e);const i=t.$implicit;return m.rc().check(c.checked,i)})),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.xc("checked",c.checkState(e.id))}}function pt(e,t){1&e&&(m.fc(0,"th",12),m.Oc(1,"Name"),m.ec())}function gt(e,t){if(1&e&&(m.fc(0,"td",13),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.name)}}function bt(e,t){1&e&&(m.fc(0,"th",12),m.Oc(1,"Identifier"),m.ec())}function vt(e,t){if(1&e&&(m.fc(0,"td",13),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.uniqueid)}}function Ot(e,t){1&e&&m.ac(0,"tr",15)}function Ct(e,t){1&e&&m.ac(0,"tr",16)}function yt(e,t){1&e&&(m.fc(0,"div"),m.Oc(1," No Records Found! "),m.ec())}let xt=(()=>{class e{constructor(e,t,c,i,o,r,a){this.devcieService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=o,this.dialog=r,this.data=a,this.source=[],this.dataSource=new re.k([]),this.displayedColumns=["select","name","identifier"],this.sms=[{id:1,value:"true"},{id:0,value:"false"}],this.Id=a.customer_id,this.user_id=a.user_id}ngOnInit(){this.getAllDeviceByCustomer(),this.getAllDeviceByUser()}getAllDeviceByCustomer(){this.devcieService.getDeviceByCustomerId(this.Id).subscribe(e=>{this.customerDevices=e,this.dataSource=new re.k(this.customerDevices),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllDeviceByUser(){this.devcieService.getDeviceByUserId(this.user_id).subscribe(e=>{this.userDevices=e,this.userDevices&&this.userDevices.forEach(e=>{this.userDevices.push(e.deviceid)})})}getAllDeviceByAllUser(){this.devcieService.getDeviceByAllUser().subscribe(e=>{console.log(e),this.userDevices=e})}close(){this.dialogRef.close()}checkState(e){if(this.userDevices)return this.userDevices.indexOf(e)>-1}check(e,t){e?(this.object={userId:this.user_id,deviceId:t.id},this.devcieService.addDeviceWithUser(this.object).subscribe()):(this.object={userId:this.user_id,deviceId:t.id},this.devcieService.deleteUserDevice(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(dt.a),m.Zb(f.a),m.Zb(n.c),m.Zb(ne.a),m.Zb(ae.f),m.Zb(ae.b),m.Zb(ae.a,8))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-device-user"]],viewQuery:function(e,t){var c;1&e&&(m.Sc(oe.a,!0),m.Sc(ie.a,!0)),2&e&&(m.Cc(c=m.oc())&&(t.sort=c.first),m.Cc(c=m.oc())&&(t.paginator=c.first))},decls:21,vars:4,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(m.fc(0,"div",0),m.fc(1,"div",1),m.fc(2,"h3"),m.Oc(3,"Device Table"),m.ec(),m.fc(4,"span"),m.fc(5,"a"),m.fc(6,"mat-icon",2),m.nc("click",(function(){return t.close()})),m.Oc(7,"X"),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(8,"table",3),m.dc(9,4),m.Nc(10,ft,1,0,"th",5),m.Nc(11,ht,2,1,"td",6),m.cc(),m.dc(12,7),m.Nc(13,pt,2,0,"th",5),m.Nc(14,gt,2,1,"td",6),m.cc(),m.dc(15,8),m.Nc(16,bt,2,0,"th",5),m.Nc(17,vt,2,1,"td",6),m.cc(),m.Nc(18,Ot,1,0,"tr",9),m.Nc(19,Ct,1,0,"tr",10),m.ec(),m.Nc(20,yt,2,0,"div",11),m.ec()),2&e&&(m.Ob(8),m.xc("dataSource",t.dataSource),m.Ob(10),m.xc("matHeaderRowDef",t.displayedColumns),m.Ob(1),m.xc("matRowDefColumns",t.displayedColumns),m.Ob(1),m.xc("ngIf",0===t.dataSource.data.length))},directives:[I.a,re.j,a.a,re.c,re.e,re.b,re.g,re.i,i.l,re.d,re.a,A.a,re.f,re.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),e})();var wt=c("lLy5");function Dt(e,t){1&e&&m.ac(0,"th",10)}function Nt(e,t){if(1&e){const e=m.gc();m.fc(0,"td",11),m.fc(1,"mat-checkbox",12),m.nc("change",(function(c){m.Fc(e);const i=t.$implicit;return m.rc().check(c.checked,i)})),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.xc("checked",c.checkState(e.id))}}function St(e,t){1&e&&(m.fc(0,"th",10),m.Oc(1,"Name"),m.ec())}function kt(e,t){if(1&e&&(m.fc(0,"td",11),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.name)}}function Pt(e,t){1&e&&m.ac(0,"tr",13)}function _t(e,t){1&e&&m.ac(0,"tr",14)}let It=(()=>{class e{constructor(e,t,c,i,o,r,a){this.groupService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialogRef=o,this.dialog=r,this.data=a,this.dataSource=new re.k([]),this.displayedColumns=["select","name"],this.sms=[{id:1,value:"true"},{id:0,value:"false"}],this.Id=a.pageValue}ngOnInit(){this.getAllDevice(),this.getAllDeviceByUser()}getAllDevice(){this.groupService.getAllGroup().subscribe(e=>{this.commands=e,this.dataSource=new re.k(e),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getAllDeviceByUser(){this.groupService.getGroupByUserId(this.Id).subscribe(e=>{console.log(e),this.userGroups=e,this.userGroups.forEach(e=>{this.userGroups.push(e.groupid)})})}close(){this.dialogRef.close()}checkState(e){if(this.userGroups)return this.userGroups.indexOf(e)>-1}check(e,t){e?(this.object={userId:this.Id,groupId:t.id},this.groupService.addGroupWithUser(this.object).subscribe()):(this.object={userId:this.Id,groupId:t.id},this.groupService.deleteUserGroup(this.object).subscribe())}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(wt.a),m.Zb(f.a),m.Zb(n.c),m.Zb(ne.a),m.Zb(ae.f),m.Zb(ae.b),m.Zb(ae.a,8))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-group-user"]],viewQuery:function(e,t){var c;1&e&&(m.Sc(oe.a,!0),m.Sc(ie.a,!0)),2&e&&(m.Cc(c=m.oc())&&(t.sort=c.first),m.Cc(c=m.oc())&&(t.paginator=c.first))},decls:17,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(e,t){1&e&&(m.fc(0,"div",0),m.fc(1,"div",1),m.fc(2,"h3"),m.Oc(3,"Group Table"),m.ec(),m.fc(4,"span"),m.fc(5,"a"),m.fc(6,"mat-icon",2),m.nc("click",(function(){return t.close()})),m.Oc(7,"X"),m.ec(),m.ec(),m.ec(),m.ec(),m.fc(8,"table",3),m.dc(9,4),m.Nc(10,Dt,1,0,"th",5),m.Nc(11,Nt,2,1,"td",6),m.cc(),m.dc(12,7),m.Nc(13,St,2,0,"th",5),m.Nc(14,kt,2,1,"td",6),m.cc(),m.Nc(15,Pt,1,0,"tr",8),m.Nc(16,_t,1,0,"tr",9),m.ec(),m.ec()),2&e&&(m.Ob(8),m.xc("dataSource",t.dataSource),m.Ob(7),m.xc("matHeaderRowDef",t.displayedColumns),m.Ob(1),m.xc("matRowDefColumns",t.displayedColumns))},directives:[I.a,re.j,a.a,re.c,re.e,re.b,re.g,re.i,re.d,re.a,A.a,re.f,re.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),e})();var Mt=c("Nl8B"),At=c("STbY"),Rt=c("znSr"),Ft=c("Xa2L");function Bt(e,t){1&e&&(m.fc(0,"th",33),m.Oc(1,"Action"),m.ec())}function Ut(e,t){if(1&e){const e=m.gc();m.fc(0,"button",40),m.fc(1,"mat-icon",41),m.nc("click",(function(){m.Fc(e);const t=m.rc().$implicit;return m.rc().editUser(t)})),m.Oc(2,"edit"),m.ec(),m.ec()}}function Tt(e,t){if(1&e){const e=m.gc();m.fc(0,"button",42),m.fc(1,"mat-icon",41),m.nc("click",(function(){m.Fc(e);const t=m.rc().$implicit;return m.rc().deleteUser(t)})),m.Oc(2,"delete_outline"),m.ec(),m.ec()}}function Zt(e,t){if(1&e&&(m.fc(0,"button",43),m.fc(1,"mat-icon"),m.Oc(2,"settings"),m.ec(),m.ec()),2&e){m.rc();const e=m.Dc(5);m.xc("matMenuTriggerFor",e)}}function Lt(e,t){if(1&e){const e=m.gc();m.fc(0,"td",34),m.Nc(1,Ut,3,0,"button",35),m.Nc(2,Tt,3,0,"button",36),m.Nc(3,Zt,3,1,"button",37),m.fc(4,"mat-menu",null,38),m.fc(6,"button",39),m.nc("click",(function(){m.Fc(e);const c=t.$implicit;return m.rc().openDeviceModal(c)})),m.Oc(7,"Devices"),m.ec(),m.fc(8,"button",39),m.nc("click",(function(){m.Fc(e);const c=t.$implicit;return m.rc().openGroupModal(c)})),m.Oc(9,"Groups"),m.ec(),m.fc(10,"button",39),m.nc("click",(function(){m.Fc(e);const c=t.$implicit;return m.rc().openDriverModal(c)})),m.Oc(11,"Drivers"),m.ec(),m.fc(12,"button",39),m.nc("click",(function(){m.Fc(e);const c=t.$implicit;return m.rc().openNotificationModal(c)})),m.Oc(13,"Notifications"),m.ec(),m.fc(14,"button",39),m.nc("click",(function(){m.Fc(e);const c=t.$implicit;return m.rc().openMaintenanceModal(c)})),m.Oc(15,"Maintenance"),m.ec(),m.fc(16,"button",39),m.nc("click",(function(){m.Fc(e);const c=t.$implicit;return m.rc().openAttributeModal(c)})),m.Oc(17,"Computed Attributes"),m.ec(),m.fc(18,"button",39),m.nc("click",(function(){m.Fc(e);const c=t.$implicit;return m.rc().openCommandModal(c)})),m.Oc(19,"Saved Commands"),m.ec(),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.xc("ngIf",1==c.assigedRole.includes("user_edit")),m.Ob(1),m.xc("ngIf",1==c.assigedRole.includes("user_delete")),m.Ob(1),m.xc("ngIf",1==c.assigedRole.includes("user_setting")&&0!=e.customer_id)}}function $t(e,t){1&e&&(m.fc(0,"th",44),m.Oc(1,"#"),m.ec())}function jt(e,t){if(1&e&&(m.fc(0,"td",34),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.id)}}function qt(e,t){1&e&&(m.fc(0,"th",44),m.Oc(1,"Name"),m.ec())}function zt(e,t){if(1&e&&(m.fc(0,"td",34),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.name)}}function Gt(e,t){1&e&&(m.fc(0,"th",44),m.Oc(1,"Customer ID"),m.ec())}function Et(e,t){if(1&e&&(m.fc(0,"td",34),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(0==e.customer_id?"":e.customer_id)}}function Ht(e,t){1&e&&(m.fc(0,"th",44),m.Oc(1,"Customer Name"),m.ec())}function Vt(e,t){if(1&e&&(m.fc(0,"td",34),m.Oc(1),m.ec()),2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.Pc(null==c.customerIndex[null==e?null:e.customer_id]?null:c.customerIndex[null==e?null:e.customer_id].name)}}function Qt(e,t){1&e&&(m.fc(0,"th",44),m.Oc(1,"Mobile"),m.ec())}function Wt(e,t){if(1&e&&(m.fc(0,"td",34),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.phone)}}function Xt(e,t){1&e&&(m.fc(0,"th",44),m.Oc(1,"Email"),m.ec())}function Jt(e,t){if(1&e&&(m.fc(0,"td",34),m.Oc(1),m.ec()),2&e){const e=t.$implicit;m.Ob(1),m.Pc(e.email)}}function Kt(e,t){1&e&&(m.fc(0,"th",44),m.Oc(1,"Status"),m.ec())}function Yt(e,t){if(1&e&&(m.fc(0,"td",34),m.Oc(1),m.ec()),2&e){const e=t.$implicit,c=m.rc();m.Ob(1),m.Pc(null==c.states[e.status]?null:c.states[e.status].value)}}function ec(e,t){1&e&&m.ac(0,"tr",45)}function tc(e,t){1&e&&m.ac(0,"tr",46)}const cc=function(e){return{active:e}};function ic(e,t){if(1&e){const e=m.gc();m.fc(0,"li",48),m.fc(1,"a",41),m.nc("click",(function(){m.Fc(e);const c=t.$implicit;return m.rc(2).getUserByPage(c)})),m.Oc(2),m.ec(),m.ec()}if(2&e){const e=t.$implicit,c=m.rc(2);m.xc("ngClass",m.zc(2,cc,c.pager.currentPage===e)),m.Ob(2),m.Pc(e)}}const oc=function(e){return{disabled:e}};function rc(e,t){if(1&e){const e=m.gc();m.fc(0,"ul",47),m.fc(1,"li",48),m.fc(2,"a",41),m.nc("click",(function(){m.Fc(e);const t=m.rc();return t.getUserByPage(t.pager.currentPage-1)})),m.Oc(3,"\xab"),m.ec(),m.ec(),m.Nc(4,ic,3,4,"li",49),m.fc(5,"li",48),m.fc(6,"a",41),m.nc("click",(function(){m.Fc(e);const t=m.rc();return t.getUserByPage(t.pager.currentPage+1)})),m.Oc(7,"\xbb"),m.ec(),m.ec(),m.ec()}if(2&e){const e=m.rc();m.Ob(1),m.xc("ngClass",m.zc(3,oc,1===e.pager.currentPage)),m.Ob(3),m.xc("ngForOf",e.pager.pages),m.Ob(1),m.xc("ngClass",m.zc(5,oc,2===e.pager.currentPage))}}function ac(e,t){1&e&&(m.fc(0,"mat-card",50),m.ac(1,"mat-progress-spinner",51),m.ec())}const sc=function(){return[0]},nc=[{path:"add",component:H,canActivate:[l.a],data:{roles:"user_add"}},{path:"list",component:(()=>{class e{constructor(e,t,c,i,o,r,a,s){this.userService=e,this.snackBar=t,this.router=c,this.dialogService=i,this.dialog=o,this.pagination=r,this.fb=a,this.customerService=s,this.assigedRole=[],this.currentPage=1,this.params={},this.pager=[],this.record=[],this.customerIndex=[],this.idColumn="id",this.dataSource=new re.k([]),this.states=[{id:0,value:"Inactive"},{id:1,value:"Active"}],this.displayedColumns=["action","id","name","customer_id","customer_name","mobile","email","status"],this.isLoading=!0,this.assigedRole=JSON.parse(localStorage.getItem("rolesData"))}ngOnInit(){this.myform=this.fb.group({name:[""],email:[""],phone:[""],customer_id:[""]}),this.getAllCustomer(),this.getAllUser()}getAllCustomer(){this.customerService.getAllCustomerList().subscribe(e=>{this.customers=e,console.log(this.customers),this.customers.forEach((e,t)=>{this.customerIndex[e.customer_id]=this.customers[t]})})}getAllUser(){this.params={currentPage:this.currentPage},this.userService.getAllUserByPage(this.params).subscribe(e=>{this.users=e.rows,this.record=e.count,console.log(e.count),this.pager=this.pagination.paginate(this.record),console.log(this.pager.totalPages),this.dataSource=new re.k(this.users),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator),this.isLoading=!1}),this.removeColumn()}getUserByPage(e){this.page=e,this.page>this.pager.totalPages||(this.params={currentPage:e,name:this.myform.value.name,email:this.myform.value.email,phone:this.myform.value.phone,customer_id:this.myform.value.customer_id},this.userService.getAllUserByPage(this.params).subscribe(t=>{this.isLoading=!1,this.users=t.rows,console.log(this.record),this.pager=this.pagination.paginate(this.record,e),this.dataSource=new re.k(this.users),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)}))}getUserBySearch(){this.params={currentPage:this.currentPage,name:this.myform.value.name,email:this.myform.value.email,phone:this.myform.value.phone,customer_id:this.myform.value.customer_id},console.log(this.params),this.userService.getAllUserByPage(this.params).subscribe(e=>{this.isLoading=!1,this.users=e.rows,this.record=e.count,this.pager=this.pagination.paginate(this.record),this.dataSource=new re.k(this.users),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}removeColumn(){0==this.assigedRole.includes("role_edit")&&0==this.assigedRole.includes("role_delete")&&(this.displayedColumns=["id","name","mobile","email","status"])}editUser(e){this.router.navigate(["admin/authorization/users/edit",e.id])}deleteUser(e){this.dialogService.openConfirmDialog().afterClosed().subscribe(t=>{t&&(this.userService.deleteUser(e.id).subscribe(),this.deleteRowDataTable(e.id,this.idColumn,this.paginator,this.dataSource),this.openSnackBar())})}deleteRowDataTable(e,t,c,i){this.users=i.data;const o=this.users.findIndex(c=>c[t]===e);i.data.splice(o,1),i.paginator=c}openSnackBar(){this.snackBar.open("Deleted!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}getBack(){this.getAllUser(),this.myform.reset()}applyFilter(e){this.dataSource.filter=e.trim().toLowerCase()}openDriverModal(e){console.log(e.id);const t=new ae.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(be,{width:"680px",height:"460px",data:{user_id:e.id,customer_id:e.customer_id}}).afterClosed().subscribe(e=>{})}openNotificationModal(e){console.log(e.id);const t=new ae.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(_e,{width:"580px",height:"460px",data:{pageValue:e.id}}).afterClosed().subscribe(e=>{})}openMaintenanceModal(e){console.log(e.id);const t=new ae.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(ze,{width:"580px",height:"460px",data:{pageValue:e.id}}).afterClosed().subscribe(e=>{})}openAttributeModal(e){console.log(e.id);const t=new ae.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(Ye,{width:"580px",height:"460px",data:{pageValue:e.id}}).afterClosed().subscribe(e=>{})}openCommandModal(e){console.log(e.id);const t=new ae.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(ut,{width:"580px",height:"460px",data:{pageValue:e.id}}).afterClosed().subscribe(e=>{})}openDeviceModal(e){console.log(e.customer_id);const t=new ae.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(xt,{width:"580px",height:"460px",data:{user_id:e.id,customer_id:e.customer_id}}).afterClosed().subscribe(e=>{})}openGroupModal(e){console.log(e.id);const t=new ae.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(It,{width:"580px",height:"460px",data:{pageValue:e.id}}).afterClosed().subscribe(e=>{})}settingDevice(e){console.log(e.id)}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(d.a),m.Zb(f.a),m.Zb(n.c),m.Zb(ne.a),m.Zb(ae.b),m.Zb(Mt.a),m.Zb(o.e),m.Zb(P.a))},e.\u0275cmp=m.Tb({type:e,selectors:[["app-user-list"]],viewQuery:function(e,t){var c;1&e&&(m.Sc(oe.a,!0),m.Sc(ie.a,!0)),2&e&&(m.Cc(c=m.oc())&&(t.sort=c.first),m.Cc(c=m.oc())&&(t.paginator=c.first))},decls:54,vars:8,consts:[[1,"custom-style"],[1,"table-title"],["fxLayout","row","fxLayout.xs","column",1,"search-div"],["fxFlex","70%","fxFlex.xs","100%"],[3,"formGroup"],["fxFlex","24%","fxFlex.xs","30%",1,"search_field"],["matInput","","placeholder","Name","formControlName","name","autocomplete","off"],["fxFlex","24%",1,"search_field"],["matInput","","placeholder","Email","formControlName","email","autocomplete","off"],["matInput","","placeholder","Phone","formControlName","phone","autocomplete","off"],["matInput","","placeholder","Customer ID","formControlName","customer_id","autocomplete","off"],["fxFlex","30%","fxFlex.xs","100%"],["mat-button","",1,"mat-stroked-button","mat-primary",3,"click"],["mat-button","",1,"mat-raised-button","mat-primary",3,"click"],[1,"table_container"],["mat-table","","matTableExporter","","matSort","",1,"mat-elevation-z8",3,"dataSource","hiddenColumns"],["exporter","matTableExporter"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","name"],["matColumnDef","customer_id"],["matColumnDef","customer_name"],["matColumnDef","mobile"],["matColumnDef","email"],["matColumnDef","status"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],[1,"middle"],["class","pagination",4,"ngIf"],["style","display:flex; justify-content: center; align-items: center",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",4,"ngIf"],["mat-icon-button","","color","warn",4,"ngIf"],["mat-icon-button","","color","info",3,"matMenuTriggerFor",4,"ngIf"],["setting","matMenu"],["mat-menu-item","",3,"click"],["mat-icon-button",""],[3,"click"],["mat-icon-button","","color","warn"],["mat-icon-button","","color","info",3,"matMenuTriggerFor"],["mat-header-cell","","mat-sort-header",""],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"],[1,"pagination"],[1,"pagination",3,"ngClass"],["class","pagination",3,"ngClass",4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"]],template:function(e,t){if(1&e){const e=m.gc();m.fc(0,"div",0),m.fc(1,"div",1),m.fc(2,"h3"),m.Oc(3,"User Table"),m.ec(),m.ec(),m.fc(4,"div",2),m.fc(5,"div",3),m.fc(6,"form",4),m.fc(7,"mat-form-field",5),m.ac(8,"input",6),m.ec(),m.fc(9,"mat-form-field",7),m.ac(10,"input",8),m.ec(),m.fc(11,"mat-form-field",7),m.ac(12,"input",9),m.ec(),m.fc(13,"mat-form-field",5),m.ac(14,"input",10),m.ec(),m.ec(),m.ec(),m.fc(15,"div",11),m.fc(16,"button",12),m.nc("click",(function(){return t.getUserBySearch()})),m.Oc(17," Search "),m.ec(),m.fc(18,"button",12),m.nc("click",(function(){return t.getBack()})),m.Oc(19," Back "),m.ec(),m.fc(20,"button",13),m.nc("click",(function(){return m.Fc(e),m.Dc(24).exportTable("csv",{fileName:"user"})})),m.Oc(21," CSV "),m.ec(),m.ec(),m.ec(),m.fc(22,"div",14),m.fc(23,"table",15,16),m.dc(25,17),m.Nc(26,Bt,2,0,"th",18),m.Nc(27,Lt,20,3,"td",19),m.cc(),m.dc(28,20),m.Nc(29,$t,2,0,"th",21),m.Nc(30,jt,2,1,"td",19),m.cc(),m.dc(31,22),m.Nc(32,qt,2,0,"th",21),m.Nc(33,zt,2,1,"td",19),m.cc(),m.dc(34,23),m.Nc(35,Gt,2,0,"th",21),m.Nc(36,Et,2,1,"td",19),m.cc(),m.dc(37,24),m.Nc(38,Ht,2,0,"th",21),m.Nc(39,Vt,2,1,"td",19),m.cc(),m.dc(40,25),m.Nc(41,Qt,2,0,"th",21),m.Nc(42,Wt,2,1,"td",19),m.cc(),m.dc(43,26),m.Nc(44,Xt,2,0,"th",21),m.Nc(45,Jt,2,1,"td",19),m.cc(),m.dc(46,27),m.Nc(47,Kt,2,0,"th",21),m.Nc(48,Yt,2,1,"td",19),m.cc(),m.Nc(49,ec,1,0,"tr",28),m.Nc(50,tc,1,0,"tr",29),m.ec(),m.ec(),m.ec(),m.fc(51,"div",30),m.Nc(52,rc,8,7,"ul",31),m.ec(),m.Nc(53,ac,2,0,"mat-card",32)}2&e&&(m.Ob(6),m.xc("formGroup",t.myform),m.Ob(17),m.xc("dataSource",t.dataSource)("hiddenColumns",m.yc(7,sc)),m.Ob(26),m.xc("matHeaderRowDef",t.displayedColumns),m.Ob(1),m.xc("matRowDefColumns",t.displayedColumns),m.Ob(2),m.xc("ngIf",t.pager.pages&&t.pager.pages.length),m.Ob(1),m.xc("ngIf",t.isLoading))},directives:[_.b,_.a,o.t,o.n,o.g,p.c,g.b,o.c,o.m,o.f,b.b,re.j,a.a,oe.a,re.c,re.e,re.b,re.g,re.i,i.l,re.d,re.a,At.d,At.a,I.a,At.c,oe.b,re.f,re.h,i.j,Rt.a,i.k,h.a,Ft.a],styles:[".table_container[_ngcontent-%COMP%]{margin-left:2%;width:96%;margin-right:2%;overflow:auto}.filter[_ngcontent-%COMP%]{width:15%;margin-right:50%}.header[_ngcontent-%COMP%]{overflow:hidden}.table[_ngcontent-%COMP%]{width:96%!important;margin-left:2%;margin-right:2%}.spacerb[_ngcontent-%COMP%]{margin-right:5px}h3[_ngcontent-%COMP%]{font-weight:500}.row[_ngcontent-%COMP%]{height:40px!important}.fl[_ngcontent-%COMP%]{position:relative;display:flex}.closeButton[_ngcontent-%COMP%]{margin-top:20px}.search_div[_ngcontent-%COMP%]{margin-left:10%}.search_field[_ngcontent-%COMP%]{margin-left:1%;width:10%;float:left}.mat-stroked-button[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;border:1px solid #00f}.mat-raised-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%]{width:8%;margin-left:.5%}.pagination[_ngcontent-%COMP%]{display:inline-block}.pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;float:left;padding:8px 16px;text-decoration:none;transition:background-color .3s;border:1px solid #ddd}.active[_ngcontent-%COMP%]{background-color:#29abe2;background:#4169e1;color:red}.pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:not(.active){background-color:#ddd}.middle[_ngcontent-%COMP%]{margin-left:50%}a[_ngcontent-%COMP%]{cursor:pointer}.mat-column-action[_ngcontent-%COMP%]{width:15%!important}"]}),e})(),canActivate:[l.a],data:{roles:"user_list"}},{path:"edit/:id",component:ce,canActivate:[l.a],data:{roles:"user_edit"}},{path:"reset-password",component:S,canActivate:[l.a],data:{roles:"user_password_reset"}},{path:"change-password",component:C},{path:"user-profile",component:(()=>{class e{constructor(){this.userData=JSON.parse(localStorage.getItem("userData"))}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Tb({type:e,selectors:[["app-user-profile"]],decls:8,vars:4,template:function(e,t){1&e&&(m.fc(0,"mat-card"),m.Oc(1),m.ac(2,"br"),m.Oc(3),m.ac(4,"br"),m.Oc(5),m.ac(6,"br"),m.Oc(7),m.ec()),2&e&&(m.Ob(1),m.Qc(" Name: ",t.userData.fullName,""),m.Ob(2),m.Qc(" Email: ",t.userData.email,""),m.Ob(2),m.Qc(" Mobile: ",t.userData.mobile,""),m.Ob(2),m.Qc(" Device Limit: ",t.userData.device_limit,"\n"))},directives:[h.a],styles:[""]}),e})()}];let lc=(()=>{class e{}return e.\u0275mod=m.Xb({type:e}),e.\u0275inj=m.Wb({factory:function(t){return new(t||e)},imports:[[n.f.forChild(nc)],n.f]}),e})(),mc=(()=>{class e{}return e.\u0275mod=m.Xb({type:e}),e.\u0275inj=m.Wb({factory:function(t){return new(t||e)},imports:[[i.c,lc,r.a,o.q,o.i,a.b,s.a]]}),e})()},Cp0R:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var i=c("fXoL"),o=c("Ofeh"),r=c("tyNb");let a=(()=>{class e{constructor(e,t){this.loginService=e,this.router=t,this.assigedRole=[]}canActivate(e,t){return this.loginService.loggedIn()?(this.assigedRole=JSON.parse(localStorage.getItem("rolesData")),1==this.assigedRole.includes(e.data.roles)||(this.router.navigate(["/deny"]),!1)):(this.router.navigate(["/"]),!1)}}return e.\u0275fac=function(t){return new(t||e)(i.jc(o.a),i.jc(r.c))},e.\u0275prov=i.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},H0VJ:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var i=c("fXoL"),o=c("0IaG"),r=c("NFeN"),a=c("bTqV");let s=(()=>{class e{constructor(e){this.dialogRef=e}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return e.\u0275fac=function(t){return new(t||e)(i.Zb(o.f))},e.\u0275cmp=i.Tb({type:e,selectors:[["app-mat-dialog"]],decls:11,vars:2,consts:[[1,"content-container"],["id","close-button",3,"click"],[1,"content-span"],["mat-flat-button","","id","no-button",3,"mat-dialog-close"],["mat-flat-button","","id","yes-button","color","warn",3,"mat-dialog-close"]],template:function(e,t){1&e&&(i.fc(0,"div"),i.fc(1,"div",0),i.fc(2,"mat-icon",1),i.nc("click",(function(){return t.closeDialog()})),i.Oc(3,"close"),i.ec(),i.fc(4,"div",2),i.Oc(5,"Are you sure to delete this record ?"),i.ec(),i.ec(),i.fc(6,"div"),i.fc(7,"button",3),i.Oc(8,"No"),i.ec(),i.fc(9,"button",4),i.Oc(10,"Yes"),i.ec(),i.ec(),i.ec()),2&e&&(i.Ob(7),i.xc("mat-dialog-close",!1),i.Ob(2),i.xc("mat-dialog-close",!0))},directives:[r.a,a.b,o.c],styles:["#close-button[_ngcontent-%COMP%]{margin-left:90%;cursor:pointer}.content-span[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:20px}#no-button[_ngcontent-%COMP%]{width:30%;margin-left:7%;margin-right:25%;background-color:#ff0}#yes-button[_ngcontent-%COMP%]{width:30%}"]}),e})(),n=(()=>{class e{constructor(e){this.dialog=e}openConfirmDialog(){return this.dialog.open(s,{width:"300px",disableClose:!0,position:{top:"20px"}})}}return e.\u0275fac=function(t){return new(t||e)(i.jc(o.b))},e.\u0275prov=i.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},M5z4:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var i=c("AytR"),o=c("fXoL"),r=c("tk/3");let a=(()=>{class e{constructor(e){this.http=e,this.url=i.a.apiUrl+"/customer/"}addCustomer(e){return this.http.post(this.url+"/addCustomer",e)}getAllCustomer(e){return this.http.post(this.url+"/listCustomer",e)}getCustomerById(e){return this.http.get(this.url+e+"/editCustomer")}updateCustomer(e,t){return this.http.put(this.url+e+"/updateCustomer",t)}getAllCustomerList(){return this.http.get(this.url+"/allCustomerList")}customerSearch(e){return this.http.post(this.url+"/customerSearch",e)}DeviceByCustomer(e){return this.http.get(this.url+e+"/getDeviceByCustomer")}DeviceByCustomerWithPosition(e){return this.http.get(this.url+e+"/getDeviceByCustomerWithPosition")}}return e.\u0275fac=function(t){return new(t||e)(o.jc(r.b))},e.\u0275prov=o.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},XCAU:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var i=c("AytR"),o=c("fXoL"),r=c("tk/3");let a=(()=>{class e{constructor(e){this.http=e,this.url=i.a.apiUrl+"/device/"}getAllDevices(){return this.http.get(this.url+"/listDevices")}addDevice(e){return this.http.post(this.url+"/addDevice",e)}getAllDevice(){return this.http.get(this.url+"/listDevice")}getDeviceById(e){return this.http.get(this.url+e+"/editDevice")}updateDevice(e,t){return this.http.put(this.url+e+"/updateDevice",t)}deleteDevice(e){return this.http.delete(this.url+e+"/deleteDevice")}addDeviceWithUser(e){return this.http.post(this.url+"/addUserDevice",e)}deleteUserDevice(e){return this.http.post(this.url+"/deleteUserDevice",e)}getDeviceByUserId(e){return this.http.get(this.url+e+"/getDeviceByUser")}getDeviceByAllUser(){return this.http.get(this.url+"/getDeviceByAllUser")}addDeviceWithCustomer(e){return this.http.post(this.url+"/addCustomerDevice",e)}deleteCustomerDevice(e){return this.http.post(this.url+"/deleteCustomerDevice",e)}getDeviceByCustomerId(e){return this.http.get(this.url+e+"/getDeviceByCustomerId")}getAllPostion(){return this.http.get(this.url+"/listPositions")}getAllPostionBySearch(e){return console.log(e),this.http.post(this.url+"/listSearchPositions",e)}getAllEvents(){return this.http.get(this.url+"/listEvents")}getDeviceWithPositionById(e){return this.http.get(this.url+e+"/getDeviceWithPositionById")}}return e.\u0275fac=function(t){return new(t||e)(o.jc(r.b))},e.\u0275prov=o.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);
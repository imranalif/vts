(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+OO2":function(t,e,c){"use strict";c.r(e),c.d(e,"CustomerModule",(function(){return Ue}));var r=c("ofXK"),i=c("3Pt+"),o=c("jAig"),a=c("KUt4"),n=c("YUcS"),s=c("tyNb"),l=c("M9IT"),u=c("Dh3D"),m=c("+0xr"),d=c("0IaG"),f=c("fXoL"),h=c("XCAU"),p=c("dNgK"),g=c("H0VJ"),b=c("NFeN"),v=c("bSwM");function y(t,e){1&t&&f.ac(0,"th",11)}function C(t,e){if(1&t){const t=f.gc();f.fc(0,"td",12),f.fc(1,"mat-checkbox",13),f.nc("change",(function(c){f.Hc(t);const r=e.$implicit;return f.rc().check(c.checked,r)})),f.ec(),f.ec()}if(2&t){const t=e.$implicit,c=f.rc();f.Ob(1),f.yc("checked",c.checkState(t.id))}}function P(t,e){1&t&&(f.fc(0,"th",11),f.Qc(1,"Name"),f.ec())}function D(t,e){if(1&t&&(f.fc(0,"td",12),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.name)}}function O(t,e){1&t&&(f.fc(0,"th",11),f.Qc(1,"Identifier"),f.ec())}function x(t,e){if(1&t&&(f.fc(0,"td",12),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.identifier)}}function S(t,e){1&t&&f.ac(0,"tr",14)}function w(t,e){1&t&&f.ac(0,"tr",15)}let _=(()=>{class t{constructor(t,e,c,r,i,o,a){this.devcieService=t,this.snackBar=e,this.router=c,this.dialogService=r,this.dialogRef=i,this.dialog=o,this.data=a,this.source=[],this.dataSource=new m.k([]),this.displayedColumns=["select","name","identifier"],this.sms=[{id:1,value:"true"},{id:0,value:"false"}],this.Id=a.pageValue}ngOnInit(){this.getAllDevice(),this.getDeviceByCustomer()}getAllDevice(){this.devcieService.getAllDevice().subscribe(t=>{console.log(t),this.devices=t,this.devices.forEach(t=>{this.source.push({id:t.id,name:t.name,identifier:t.uniqueid}),this.dataSource=new m.k(this.source),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})})}getDeviceByCustomer(){this.devcieService.getDeviceByCustomerId(this.Id).subscribe(t=>{console.log(t),this.customerDevices=t,this.customerDevices.length>0&&this.customerDevices.forEach(t=>{this.source.push({id:t.id,name:t.name,identifier:t.uniqueid}),console.log(this.source),this.dataSource=new m.k(this.source),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator),this.customerDevices.push(t.id)})})}close(){this.dialogRef.close()}checkState(t){if(this.customerDevices)return this.customerDevices.indexOf(t)>-1}check(t,e){t?(this.object={customerId:this.Id,deviceId:e.id},this.devcieService.addDeviceWithCustomer(this.object).subscribe()):(this.object={customerId:this.Id,deviceId:e.id},this.devcieService.deleteCustomerDevice(this.object).subscribe())}}return t.\u0275fac=function(e){return new(e||t)(f.Zb(h.a),f.Zb(p.a),f.Zb(s.c),f.Zb(g.a),f.Zb(d.f),f.Zb(d.b),f.Zb(d.a,8))},t.\u0275cmp=f.Tb({type:t,selectors:[["app-customer-device"]],viewQuery:function(t,e){var c;1&t&&(f.Uc(u.a,!0),f.Uc(l.a,!0)),2&t&&(f.Ec(c=f.oc())&&(e.sort=c.first),f.Ec(c=f.oc())&&(e.paginator=c.first))},decls:20,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(t,e){1&t&&(f.fc(0,"div",0),f.fc(1,"div",1),f.fc(2,"h3"),f.Qc(3,"Device Table"),f.ec(),f.fc(4,"span"),f.fc(5,"a"),f.fc(6,"mat-icon",2),f.nc("click",(function(){return e.close()})),f.Qc(7,"X"),f.ec(),f.ec(),f.ec(),f.ec(),f.fc(8,"table",3),f.dc(9,4),f.Pc(10,y,1,0,"th",5),f.Pc(11,C,2,1,"td",6),f.cc(),f.dc(12,7),f.Pc(13,P,2,0,"th",5),f.Pc(14,D,2,1,"td",6),f.cc(),f.dc(15,8),f.Pc(16,O,2,0,"th",5),f.Pc(17,x,2,1,"td",6),f.cc(),f.Pc(18,S,1,0,"tr",9),f.Pc(19,w,1,0,"tr",10),f.ec(),f.ec()),2&t&&(f.Ob(8),f.yc("dataSource",e.dataSource),f.Ob(10),f.yc("matHeaderRowDef",e.displayedColumns),f.Ob(1),f.yc("matRowDefColumns",e.displayedColumns))},directives:[b.a,m.j,a.a,m.c,m.e,m.b,m.g,m.i,m.d,m.a,v.a,m.f,m.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),t})();var I=c("1jOF");function Q(t,e){1&t&&f.ac(0,"th",12)}function k(t,e){if(1&t){const t=f.gc();f.fc(0,"td",13),f.fc(1,"mat-checkbox",14),f.nc("change",(function(c){f.Hc(t);const r=e.$implicit;return f.rc().check(c.checked,r)})),f.ec(),f.ec()}if(2&t){const t=e.$implicit,c=f.rc();f.Ob(1),f.yc("checked",c.checkState(t.id))}}function M(t,e){1&t&&(f.fc(0,"th",12),f.Qc(1,"Name"),f.ec())}function R(t,e){if(1&t&&(f.fc(0,"td",13),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.name)}}function B(t,e){1&t&&(f.fc(0,"th",12),f.Qc(1,"Identifier"),f.ec())}function q(t,e){if(1&t&&(f.fc(0,"td",13),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.uniqueid)}}function A(t,e){1&t&&f.ac(0,"tr",15)}function N(t,e){1&t&&f.ac(0,"tr",16)}function F(t,e){1&t&&(f.fc(0,"div"),f.Qc(1," No Records Found! "),f.ec())}let T=(()=>{class t{constructor(t,e,c,r,i,o,a){this.driverService=t,this.snackBar=e,this.router=c,this.dialogService=r,this.dialogRef=i,this.dialog=o,this.data=a,this.source=[],this.dataSource=new m.k([]),this.displayedColumns=["select","name","identifier"],this.Id=a.pageValue}ngOnInit(){this.getDriveByCustomer(),this.getAllCustomerDriver()}getAllCustomerDriver(){this.driverService.getAllCustomerDriver().subscribe(t=>{console.log(t),this.drivers=t,this.drivers.forEach(t=>{this.source.push({id:t.id,name:t.name,identifier:t.uniqueid}),this.dataSource=new m.k(this.source),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})})}getDriveByCustomer(){this.driverService.getDriverByCustomerId(this.Id).subscribe(t=>{console.log(t),this.customerDrivers=t,this.customerDrivers.length>0&&this.customerDrivers.forEach(t=>{this.source.push({id:t.id,name:t.name,identifier:t.uniqueid}),console.log(this.source),this.dataSource=new m.k(this.source),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator),this.customerDrivers.push(t.id)})})}close(){this.dialogRef.close()}checkState(t){if(this.customerDrivers)return this.customerDrivers.indexOf(t)>-1}check(t,e){t?(this.object={customerId:this.Id,driverId:e.id},this.driverService.addDriverWithCustomer(this.object).subscribe()):(this.object={customerId:this.Id,driverId:e.id},this.driverService.deleteCustomerDriver(this.object).subscribe())}}return t.\u0275fac=function(e){return new(e||t)(f.Zb(I.a),f.Zb(p.a),f.Zb(s.c),f.Zb(g.a),f.Zb(d.f),f.Zb(d.b),f.Zb(d.a,8))},t.\u0275cmp=f.Tb({type:t,selectors:[["app-customer-driver"]],viewQuery:function(t,e){var c;1&t&&(f.Uc(u.a,!0),f.Uc(l.a,!0)),2&t&&(f.Ec(c=f.oc())&&(e.sort=c.first),f.Ec(c=f.oc())&&(e.paginator=c.first))},decls:21,vars:4,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(t,e){1&t&&(f.fc(0,"div",0),f.fc(1,"div",1),f.fc(2,"h3"),f.Qc(3,"Driver Table"),f.ec(),f.fc(4,"span"),f.fc(5,"a"),f.fc(6,"mat-icon",2),f.nc("click",(function(){return e.close()})),f.Qc(7,"X"),f.ec(),f.ec(),f.ec(),f.ec(),f.fc(8,"table",3),f.dc(9,4),f.Pc(10,Q,1,0,"th",5),f.Pc(11,k,2,1,"td",6),f.cc(),f.dc(12,7),f.Pc(13,M,2,0,"th",5),f.Pc(14,R,2,1,"td",6),f.cc(),f.dc(15,8),f.Pc(16,B,2,0,"th",5),f.Pc(17,q,2,1,"td",6),f.cc(),f.Pc(18,A,1,0,"tr",9),f.Pc(19,N,1,0,"tr",10),f.ec(),f.Pc(20,F,2,0,"div",11),f.ec()),2&t&&(f.Ob(8),f.yc("dataSource",e.dataSource),f.Ob(10),f.yc("matHeaderRowDef",e.displayedColumns),f.Ob(1),f.yc("matRowDefColumns",e.displayedColumns),f.Ob(1),f.yc("ngIf",0===e.dataSource.data.length))},directives:[b.a,m.j,a.a,m.c,m.e,m.b,m.g,m.i,r.m,m.d,m.a,v.a,m.f,m.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),t})();var E=c("M5z4"),Z=c("Nl8B"),$=c("XiUz"),U=c("kmnG"),H=c("qFsG"),L=c("d3UM"),j=c("bTqV"),V=c("FKr1"),W=c("STbY"),G=c("znSr"),z=c("Wp6s"),X=c("Xa2L");function J(t,e){if(1&t&&(f.fc(0,"mat-option",41),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.yc("value",t.id),f.Ob(1),f.Sc(" ",t.value," ")}}function Y(t,e){if(1&t&&(f.fc(0,"mat-option",41),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.yc("value",t.id),f.Ob(1),f.Sc(" ",t.value," ")}}function K(t,e){1&t&&(f.fc(0,"th",42),f.Qc(1,"Action"),f.ec())}function tt(t,e){if(1&t){const t=f.gc();f.fc(0,"button",50),f.fc(1,"mat-icon",47),f.nc("click",(function(){f.Hc(t);const e=f.rc().$implicit;return f.rc().editCustomer(e.customer_id)})),f.Qc(2,"edit"),f.ec(),f.ec()}}function et(t,e){if(1&t&&(f.fc(0,"button",51),f.fc(1,"mat-icon"),f.Qc(2,"settings"),f.ec(),f.ec()),2&t){f.rc();const t=f.Fc(8);f.yc("matMenuTriggerFor",t)}}function ct(t,e){if(1&t){const t=f.gc();f.fc(0,"button",50),f.fc(1,"mat-icon",47),f.nc("click",(function(){f.Hc(t);const e=f.rc().$implicit;return f.rc().resellerCustomer(e.id)})),f.Qc(2,"view_list"),f.ec(),f.ec()}}function rt(t,e){if(1&t){const t=f.gc();f.fc(0,"td",43),f.Pc(1,tt,3,0,"button",44),f.Pc(2,et,3,1,"button",45),f.fc(3,"button",46),f.fc(4,"mat-icon",47),f.nc("click",(function(){f.Hc(t);const c=e.$implicit;return f.rc().customerQuery(c.customer_id)})),f.Qc(5,"visibility"),f.ec(),f.ec(),f.Pc(6,ct,3,0,"button",44),f.fc(7,"mat-menu",null,48),f.fc(9,"button",49),f.nc("click",(function(){f.Hc(t);const c=e.$implicit;return f.rc().openDeviceModal(c)})),f.Qc(10,"Devices"),f.ec(),f.fc(11,"button",49),f.nc("click",(function(){f.Hc(t);const c=e.$implicit;return f.rc().openDriverModal(c)})),f.Qc(12,"Drivers"),f.ec(),f.ec(),f.ec()}if(2&t){const t=e.$implicit,c=f.rc();f.Ob(1),f.yc("ngIf",1==c.assigedRole.includes("customer_edit")),f.Ob(1),f.yc("ngIf",1==c.assigedRole.includes("customer_setting")),f.Ob(4),f.yc("ngIf",1==t.reseller)}}function it(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"#"),f.ec())}function ot(t,e){if(1&t&&(f.fc(0,"td",43),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.id)}}function at(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"Customer ID"),f.ec())}function nt(t,e){if(1&t&&(f.fc(0,"td",43),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.customer_id)}}function st(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"Name"),f.ec())}function lt(t,e){if(1&t&&(f.fc(0,"td",43),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.name)}}function ut(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"Phone"),f.ec())}function mt(t,e){if(1&t&&(f.fc(0,"td",43),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.phone)}}function dt(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"Email"),f.ec())}function ft(t,e){if(1&t&&(f.fc(0,"td",43),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.email)}}function ht(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"Reseller"),f.ec())}function pt(t,e){if(1&t&&(f.fc(0,"td",43),f.Qc(1),f.ec()),2&t){const t=e.$implicit,c=f.rc();f.Ob(1),f.Rc(null==c.resale[t.reseller]?null:c.resale[t.reseller].value)}}function gt(t,e){1&t&&(f.fc(0,"th",52),f.Qc(1,"Status"),f.ec())}function bt(t,e){if(1&t&&(f.fc(0,"td",43),f.Qc(1),f.ec()),2&t){const t=e.$implicit,c=f.rc();f.Ob(1),f.Rc(null==c.states[t.status]?null:c.states[t.status].value)}}function vt(t,e){1&t&&f.ac(0,"tr",53)}function yt(t,e){1&t&&f.ac(0,"tr",54)}const Ct=function(t){return{active:t}};function Pt(t,e){if(1&t){const t=f.gc();f.fc(0,"li",56),f.fc(1,"a",47),f.nc("click",(function(){f.Hc(t);const c=e.$implicit;return f.rc(2).getCustomerByPage(c)})),f.Qc(2),f.ec(),f.ec()}if(2&t){const t=e.$implicit,c=f.rc(2);f.yc("ngClass",f.Bc(2,Ct,c.pager.currentPage===t)),f.Ob(2),f.Rc(t)}}const Dt=function(t){return{disabled:t}};function Ot(t,e){if(1&t){const t=f.gc();f.fc(0,"ul",55),f.fc(1,"li",56),f.fc(2,"a",47),f.nc("click",(function(){f.Hc(t);const e=f.rc();return e.getCustomerByPage(e.pager.currentPage-1)})),f.Qc(3,"\xab"),f.ec(),f.ec(),f.Pc(4,Pt,3,4,"li",57),f.fc(5,"li",56),f.fc(6,"a",47),f.nc("click",(function(){f.Hc(t);const e=f.rc();return e.getCustomerByPage(e.pager.currentPage+1)})),f.Qc(7,"\xbb"),f.ec(),f.ec(),f.ec()}if(2&t){const t=f.rc();f.Ob(1),f.yc("ngClass",f.Bc(3,Dt,1===t.pager.currentPage)),f.Ob(3),f.yc("ngForOf",t.pager.pages),f.Ob(1),f.yc("ngClass",f.Bc(5,Dt,2===t.pager.currentPage))}}function xt(t,e){1&t&&(f.fc(0,"mat-card",58),f.ac(1,"mat-progress-spinner",59),f.ec())}function St(t,e){1&t&&(f.fc(0,"mat-card"),f.Qc(1," No Records Found! "),f.ec())}const wt=function(){return[0]};let _t=(()=>{class t{constructor(t,e,c,r,i,o,a){this.customerService=t,this.snackBar=e,this.router=c,this.dialogService=r,this.dialog=i,this.pagination=o,this.fb=a,this.currentPage=1,this.params={},this.pager=[],this.record=[],this.assigedRole=[],this.states=[{id:0,value:"Inactive"},{id:1,value:"Active"}],this.resale=[{id:0,value:"NO"},{id:1,value:"YES"}],this.dataSource=new m.k([]),this.isLoading=!0,this.displayedColumns=["action","id","customer_id","name","email","phone","reseller","status"],this.assigedRole=JSON.parse(sessionStorage.getItem("rolesData"))}ngOnInit(){this.myform=this.fb.group({customer_id:[""],name:[""],email:[""],phone:[""],reseller_id:[],status:[]}),this.getAllCustomer()}getAllCustomerTest(){this.customerService.getAllCustomer(this.params).subscribe(t=>{this.customers=t,this.dataSource=new m.k(this.customers),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator),this.isLoading=!1})}getAllCustomer(){this.params={currentPage:this.currentPage},this.customerService.getAllCustomer(this.params).subscribe(t=>{this.customers=t.rows,this.record=t.count,console.log(t.count),this.pager=this.pagination.paginate(this.record),console.log(this.pager.totalPages),this.dataSource=new m.k(this.customers),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator),this.isLoading=!1})}getCustomerByPage(t){this.page=t,this.page>this.pager.totalPages||(this.params={currentPage:t,name:this.myform.value.name,customer_id:this.myform.value.customer_id,email:this.myform.value.email,phone:this.myform.value.phone},this.customerService.getAllCustomer(this.params).subscribe(e=>{this.isLoading=!1,this.customers=e.rows,console.log(this.record),this.pager=this.pagination.paginate(this.record,t),this.dataSource=new m.k(this.customers),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)}))}getCustomerBySearch(){this.params={currentPage:this.currentPage,name:this.myform.value.name,reseller_id:this.myform.value.reseller_id,customer_id:this.myform.value.customer_id,email:this.myform.value.email,phone:this.myform.value.phone,status:this.myform.value.status},console.log(this.params),this.customerService.getAllCustomer(this.params).subscribe(t=>{this.isLoading=!1,this.customers=t.rows,this.record=t.count,this.pager=this.pagination.paginate(this.record),this.dataSource=new m.k(this.customers),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getBack(){this.getAllCustomer()}applyFilter(t){}editCustomer(t){this.router.navigate(["admin/customer/edit",t])}openDeviceModal(t){console.log(t.customer_id);const e=new d.d;e.disableClose=!0,e.width="600px",e.height="480px",this.dialog.open(_,{width:"580px",height:"460px",data:{pageValue:t.customer_id}}).afterClosed().subscribe(t=>{})}openDriverModal(t){const e=new d.d;e.disableClose=!0,e.width="600px",e.height="480px",this.dialog.open(T,{width:"580px",height:"460px",data:{pageValue:t.customer_id}}).afterClosed().subscribe(t=>{})}goAddPage(){this.router.navigate(["admin/customer/add"])}cleanForm(t){Object.keys(t.controls).forEach(e=>t.get(e).setValue(t.get(e).value.trim()))}customerQuery(t){this.router.navigate(["admin/customer/customer-query",t])}resellerCustomer(t){this.router.navigate(["admin/customer/reseller-customer",t])}}return t.\u0275fac=function(e){return new(e||t)(f.Zb(E.a),f.Zb(p.a),f.Zb(s.c),f.Zb(g.a),f.Zb(d.b),f.Zb(Z.a),f.Zb(i.e))},t.\u0275cmp=f.Tb({type:t,selectors:[["app-customer-list"]],viewQuery:function(t,e){var c;1&t&&(f.Uc(u.a,!0),f.Uc(l.a,!0)),2&t&&(f.Ec(c=f.oc())&&(e.sort=c.first),f.Ec(c=f.oc())&&(e.paginator=c.first))},decls:71,vars:11,consts:[[1,"custom-style"],[1,"table-title"],["fxLayout","row","fxLayout.xs","column",1,"search-div"],["fxFlex","70%"],[3,"formGroup"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","50%","fxFlex.xs","50%"],["fxFlex","32%","fxFlex.xs","32%",1,"search_field"],["matInput","","placeholder","Customer Id","formControlName","customer_id","autocomplete","off"],["matInput","","placeholder","Name","formControlName","name","autocomplete","off"],["matInput","","placeholder","Email","formControlName","email","autocomplete","off"],["fxFlex.xs","50%"],["fxFlex","22%","fxFlex.xs","32%",1,"search_field"],["matInput","","placeholder","Phone","formControlName","phone","autocomplete","off"],["formControlName","reseller_id"],[3,"value",4,"ngFor","ngForOf"],["formControlName","status"],["fxFlex","30%","fxFlex.xs","100%"],["mat-button","",1,"mat-stroked-button","mat-primary",3,"click"],[1,"addButton"],["mat-button","",1,"mat-raised-button","mat-primary",3,"click"],[1,"table_container"],["mat-table","","matTableExporter","","matSort","",1,"mat-elevation-z8",3,"dataSource","hiddenColumns"],["exporter","matTableExporter"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","customer_id"],["matColumnDef","name"],["matColumnDef","phone"],["matColumnDef","email"],["matColumnDef","reseller"],["matColumnDef","status"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],[1,"middle"],["class","pagination",4,"ngIf"],["style","display:flex; justify-content: center; align-items: center",4,"ngIf"],[4,"ngIf"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",4,"ngIf"],["mat-icon-button","","color","info",3,"matMenuTriggerFor",4,"ngIf"],["mat-icon-button","","color","info"],[3,"click"],["setting","matMenu"],["mat-menu-item","",3,"click"],["mat-icon-button",""],["mat-icon-button","","color","info",3,"matMenuTriggerFor"],["mat-header-cell","","mat-sort-header",""],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"],[1,"pagination"],[1,"pagination",3,"ngClass"],["class","pagination",3,"ngClass",4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"]],template:function(t,e){if(1&t){const t=f.gc();f.fc(0,"div",0),f.fc(1,"div",1),f.fc(2,"h3"),f.Qc(3,"Customer List"),f.ec(),f.ec(),f.fc(4,"div",2),f.fc(5,"div",3),f.fc(6,"form",4),f.fc(7,"div",5),f.fc(8,"div",6),f.fc(9,"mat-form-field",7),f.ac(10,"input",8),f.ec(),f.fc(11,"mat-form-field",7),f.ac(12,"input",9),f.ec(),f.fc(13,"mat-form-field",7),f.ac(14,"input",10),f.ec(),f.ec(),f.fc(15,"div",11),f.fc(16,"mat-form-field",12),f.ac(17,"input",13),f.ec(),f.fc(18,"mat-form-field",12),f.fc(19,"mat-label"),f.Qc(20,"Reseller"),f.ec(),f.fc(21,"mat-select",14),f.Pc(22,J,2,2,"mat-option",15),f.ec(),f.ec(),f.fc(23,"mat-form-field",12),f.fc(24,"mat-label"),f.Qc(25,"Status"),f.ec(),f.fc(26,"mat-select",16),f.Pc(27,Y,2,2,"mat-option",15),f.ec(),f.ec(),f.ec(),f.ec(),f.ec(),f.ec(),f.fc(28,"div",17),f.fc(29,"button",18),f.nc("click",(function(){return e.cleanForm(e.myform)}))("click",(function(){return e.getCustomerBySearch()})),f.Qc(30," Search "),f.ec(),f.fc(31,"button",18),f.nc("click",(function(){return e.getBack()})),f.Qc(32," Back "),f.ec(),f.fc(33,"span",19),f.fc(34,"button",20),f.nc("click",(function(){return e.goAddPage()})),f.Qc(35," Add "),f.ec(),f.ec(),f.fc(36,"button",20),f.nc("click",(function(){return f.Hc(t),f.Fc(40).exportTable("csv",{fileName:"product"})})),f.Qc(37," CSV "),f.ec(),f.ec(),f.ec(),f.fc(38,"div",21),f.fc(39,"table",22,23),f.dc(41,24),f.Pc(42,K,2,0,"th",25),f.Pc(43,rt,13,3,"td",26),f.cc(),f.dc(44,27),f.Pc(45,it,2,0,"th",28),f.Pc(46,ot,2,1,"td",26),f.cc(),f.dc(47,29),f.Pc(48,at,2,0,"th",28),f.Pc(49,nt,2,1,"td",26),f.cc(),f.dc(50,30),f.Pc(51,st,2,0,"th",28),f.Pc(52,lt,2,1,"td",26),f.cc(),f.dc(53,31),f.Pc(54,ut,2,0,"th",28),f.Pc(55,mt,2,1,"td",26),f.cc(),f.dc(56,32),f.Pc(57,dt,2,0,"th",28),f.Pc(58,ft,2,1,"td",26),f.cc(),f.dc(59,33),f.Pc(60,ht,2,0,"th",28),f.Pc(61,pt,2,1,"td",26),f.cc(),f.dc(62,34),f.Pc(63,gt,2,0,"th",28),f.Pc(64,bt,2,1,"td",26),f.cc(),f.Pc(65,vt,1,0,"tr",35),f.Pc(66,yt,1,0,"tr",36),f.ec(),f.ec(),f.ec(),f.fc(67,"div",37),f.Pc(68,Ot,8,7,"ul",38),f.ec(),f.Pc(69,xt,2,0,"mat-card",39),f.Pc(70,St,2,0,"mat-card",40)}2&t&&(f.Ob(6),f.yc("formGroup",e.myform),f.Ob(16),f.yc("ngForOf",e.resale),f.Ob(5),f.yc("ngForOf",e.states),f.Ob(12),f.yc("dataSource",e.dataSource)("hiddenColumns",f.Ac(10,wt)),f.Ob(26),f.yc("matHeaderRowDef",e.displayedColumns),f.Ob(1),f.yc("matRowDefColumns",e.displayedColumns),f.Ob(2),f.yc("ngIf",e.pager.pages&&e.pager.pages.length),f.Ob(1),f.yc("ngIf",e.isLoading),f.Ob(1),f.yc("ngIf",""==e.customers))},directives:[$.b,$.a,i.t,i.n,i.g,U.c,H.b,i.c,i.m,i.f,U.g,L.a,r.l,j.b,m.j,a.a,u.a,m.c,m.e,m.b,m.g,m.i,r.m,V.o,m.d,m.a,b.a,W.d,W.a,W.c,u.b,m.f,m.h,r.k,G.a,z.a,X.a],styles:[".table_container[_ngcontent-%COMP%]{margin-left:2%;width:96%;margin-right:2%;overflow:auto}.filter[_ngcontent-%COMP%]{width:15%;margin-right:50%}.header[_ngcontent-%COMP%]{overflow:hidden}.table[_ngcontent-%COMP%]{width:96%!important;margin-left:2%;margin-right:2%}.spacerb[_ngcontent-%COMP%]{margin-right:5px}h3[_ngcontent-%COMP%]{font-weight:500}.row[_ngcontent-%COMP%]{height:40px!important}.fl[_ngcontent-%COMP%]{position:relative;display:flex}.closeButton[_ngcontent-%COMP%]{margin-top:20px}.search_div[_ngcontent-%COMP%]{margin-left:5%}.search_field[_ngcontent-%COMP%]{margin-left:1%;width:10%;float:left}.mat-stroked-button[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;border:1px solid #00f}.mat-raised-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%]{width:8%;margin-left:.5%}.pagination[_ngcontent-%COMP%]{display:inline-block}.pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;float:left;padding:8px 16px;text-decoration:none;transition:background-color .3s;border:1px solid #ddd}.active[_ngcontent-%COMP%]{background-color:#29abe2;background:#4169e1;color:red}.pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:not(.active){background-color:#ddd}.middle[_ngcontent-%COMP%]{margin-left:50%}a[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();var It=c("Cp0R");function Qt(t,e){if(1&t&&(f.fc(0,"mat-option",18),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.yc("value",t.id),f.Ob(1),f.Sc(" ",t.value," ")}}function kt(t,e){1&t&&(f.fc(0,"mat-checkbox",20),f.Qc(1," Reseller\n"),f.ec())}function Mt(t,e){if(1&t&&(f.fc(0,"span"),f.Pc(1,kt,2,0,"mat-checkbox",19),f.ec()),2&t){const t=f.rc();f.Ob(1),f.yc("ngIf",!t.resellerId.reseller_id)}}let Rt=(()=>{class t{constructor(t,e,c,r,i){this.fb=t,this.router=e,this.snackBar=c,this.customerService=r,this.route=i,this.submitted=!1,this.states=[{id:1,value:"Active"},{id:0,value:"Inactive"}]}ngOnInit(){this.myform=this.fb.group({name:["",[i.s.required]],email:[""],phone:[""],reseller:[],status:[],notes:[""],billing_address:["",[i.s.required]],contact_address:["",[i.s.required]]}),this.route.paramMap.subscribe(t=>{this.Id=t.get("id"),this.edit(this.Id)})}edit(t){console.log(t),this.customerService.getCustomerById(t).subscribe(t=>{this.resellerId=t,this.setData(t)})}setData(t){this.myform.patchValue({name:t.name,email:t.email,phone:t.phone,status:t.status,reseller:t.reseller,notes:t.notes,billing_address:t.billing_address,contact_address:t.contact_address})}goBack(){this.router.navigate(["/admin/customer/list"])}openSnackBar(){this.snackBar.open("Successfully updated!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}updateCustomer(){this.submitted=!0,this.myform.invalid||(this.userData=JSON.parse(localStorage.getItem("userData")),this.myform.value.updated_by=this.userData.id,this.myform.value.updated_time=new Date,this.customerService.updateCustomer(this.Id,this.myform.value).subscribe(t=>{this.openSnackBar(),this.router.navigate(["/admin/customer/list"])}))}}return t.\u0275fac=function(e){return new(e||t)(f.Zb(i.e),f.Zb(s.c),f.Zb(p.a),f.Zb(E.a),f.Zb(s.a))},t.\u0275cmp=f.Tb({type:t,selectors:[["app-customer-edit"]],decls:35,vars:4,consts:[["fxFlex","50%","fxFlex.xs","100%",1,"main"],["fxLayout","column",1,"customStyle"],[3,"formGroup"],["mat-button","",3,"click"],[1,"ab"],[1,"full"],["matInput","","placeholder","Name","formControlName","name","required","","autocomplete","off"],["matInput","","placeholder","Email","formControlName","email","autocomplete","off"],["matInput","","placeholder","Phone","formControlName","phone","required","","autocomplete","off"],[1,"fullhalf"],["matInput","","placeholder","Contact Address","formControlName","contact_address","required","","autocomplete","off"],[1,"half"],["matInput","","placeholder","Billing Address","formControlName","billing_address","required","","autocomplete","off"],["matInput","","placeholder","Notes","formControlName","notes","autocomplete","off"],["formControlName","status","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["mat-stroked-button","","color","primary",1,"btn-block",3,"disabled","click"],[3,"value"],["class","checkbox","formControlName","reseller","labelPosition","before",4,"ngIf"],["formControlName","reseller","labelPosition","before",1,"checkbox"]],template:function(t,e){1&t&&(f.fc(0,"div",0),f.fc(1,"mat-card",1),f.fc(2,"form",2),f.fc(3,"mat-card-header"),f.fc(4,"div"),f.fc(5,"button",3),f.nc("click",(function(){return e.goBack()})),f.fc(6,"mat-icon"),f.Qc(7,"arrow_back"),f.ec(),f.ec(),f.ec(),f.fc(8,"div",4),f.fc(9,"h2"),f.Qc(10,"Customer Update"),f.ec(),f.ec(),f.ec(),f.fc(11,"mat-card-content"),f.fc(12,"mat-form-field",5),f.ac(13,"input",6),f.ec(),f.fc(14,"mat-form-field",5),f.ac(15,"input",7),f.ec(),f.fc(16,"mat-form-field",5),f.ac(17,"input",8),f.ec(),f.fc(18,"mat-form-field",9),f.ac(19,"textarea",10),f.ec(),f.fc(20,"mat-form-field",11),f.ac(21,"textarea",12),f.ec(),f.ec(),f.fc(22,"mat-form-field",5),f.ac(23,"textarea",13),f.ec(),f.fc(24,"mat-form-field",5),f.fc(25,"mat-label"),f.Qc(26,"Status"),f.ec(),f.fc(27,"mat-select",14),f.Pc(28,Qt,2,2,"mat-option",15),f.ec(),f.ec(),f.Pc(29,Mt,2,1,"span",16),f.fc(30,"mat-card-actions"),f.fc(31,"button",17),f.nc("click",(function(){return e.updateCustomer()})),f.Qc(32," Update "),f.ec(),f.fc(33,"p"),f.Qc(34,"Note: Field marked with * is Mandatory"),f.ec(),f.ec(),f.ec(),f.ec(),f.ec()),2&t&&(f.Ob(2),f.yc("formGroup",e.myform),f.Ob(26),f.yc("ngForOf",e.states),f.Ob(1),f.yc("ngIf",e.resellerId),f.Ob(2),f.yc("disabled",!e.myform.valid))},directives:[$.a,z.a,$.b,i.t,i.n,i.g,z.d,j.b,b.a,z.c,U.c,H.b,i.c,i.m,i.f,i.r,U.g,L.a,r.l,r.m,z.b,V.o,v.a],styles:[".main[_ngcontent-%COMP%]{margin:auto!important}.mat-card[_ngcontent-%COMP%]{width:95%!important}.customStyle[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important;margin-bottom:25px}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.full[_ngcontent-%COMP%]{width:90%}.half[_ngcontent-%COMP%]{margin-right:5%}.mat-raised-button[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}h1[_ngcontent-%COMP%]{font-weight:600}.arrow[_ngcontent-%COMP%]{float:right}h2[_ngcontent-%COMP%]{color:#00f}.checkbox[_ngcontent-%COMP%]{margin-left:5%}"]}),t})();function Bt(t,e){if(1&t&&(f.fc(0,"mat-option",15),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.yc("value",t.id),f.Ob(1),f.Sc(" ",t.value," ")}}let qt=(()=>{class t{constructor(t,e,c,r,i){this.fb=t,this.router=e,this.snackBar=c,this.customerService=r,this.route=i,this.submitted=!1,this.states=[{id:1,value:"Active"},{id:0,value:"Inactive"}]}ngOnInit(){this.myform=this.fb.group({customer_id:[],name:["",[i.s.required]],email:["",[i.s.required,i.s.email]],reseller:[],reseller_id:[],status:[],notes:[""],phone:["",i.s.pattern("[- +()0-9]+")],billing_address:["",[i.s.required]],contact_address:["",[i.s.required]]})}openSnackBar(){this.snackBar.open("Successfully added!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}errorMessage(){this.snackBar.open("Something is error!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}addCustomer(){this.submitted=!0,this.myform.invalid||(this.myform.value.customer_id=Math.floor(9e4*Math.random())+1e4,this.userData=JSON.parse(localStorage.getItem("userData")),this.myform.value.created_by=this.userData.id,this.customerService.addCustomer(this.myform.value).subscribe(t=>{this.openSnackBar(),this.router.navigate(["/admin/customer/list"])}))}}return t.\u0275fac=function(e){return new(e||t)(f.Zb(i.e),f.Zb(s.c),f.Zb(p.a),f.Zb(E.a),f.Zb(s.a))},t.\u0275cmp=f.Tb({type:t,selectors:[["app-customer-add"]],decls:30,vars:3,consts:[["fxFlex","50%","fxFlex.xs","100%",1,"customStyle"],[3,"formGroup"],[1,"title-style"],[1,"full"],["matInput","","placeholder","Name","formControlName","name","required","","autocomplete","off"],["matInput","","placeholder","Email","formControlName","email","autocomplete","off"],["matInput","","placeholder","Phone","formControlName","phone","required","","autocomplete","off"],[1,"half"],["matInput","","placeholder","Contact Address","formControlName","contact_address","required","","autocomplete","off"],["matInput","","placeholder","Billing Address","formControlName","billing_address","required","","autocomplete","off"],["matInput","","placeholder","Notes","formControlName","notes","required","","autocomplete","off"],["formControlName","status","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","reseller","labelPosition","before",1,"checkbox"],["mat-stroked-button","","color","primary",1,"btn-block",3,"disabled","click"],[3,"value"]],template:function(t,e){1&t&&(f.fc(0,"mat-card",0),f.fc(1,"form",1),f.fc(2,"div",2),f.fc(3,"mat-card-title"),f.Qc(4,"Customer Add"),f.ec(),f.ec(),f.fc(5,"mat-card-content"),f.fc(6,"mat-form-field",3),f.ac(7,"input",4),f.ec(),f.fc(8,"mat-form-field",3),f.ac(9,"input",5),f.ec(),f.fc(10,"mat-form-field",3),f.ac(11,"input",6),f.ec(),f.fc(12,"mat-form-field",7),f.ac(13,"textarea",8),f.ec(),f.fc(14,"mat-form-field",7),f.ac(15,"textarea",9),f.ec(),f.fc(16,"mat-form-field",3),f.ac(17,"textarea",10),f.ec(),f.fc(18,"mat-form-field",3),f.fc(19,"mat-label"),f.Qc(20,"Status"),f.ec(),f.fc(21,"mat-select",11),f.Pc(22,Bt,2,2,"mat-option",12),f.ec(),f.ec(),f.fc(23,"mat-checkbox",13),f.Qc(24," Reseller "),f.ec(),f.ec(),f.fc(25,"mat-card-actions"),f.fc(26,"button",14),f.nc("click",(function(){return e.addCustomer()})),f.Qc(27," Add "),f.ec(),f.fc(28,"p"),f.Qc(29,"Note: Field marked with * is Mandatory"),f.ec(),f.ec(),f.ec(),f.ec()),2&t&&(f.Ob(1),f.yc("formGroup",e.myform),f.Ob(21),f.yc("ngForOf",e.states),f.Ob(4),f.yc("disabled",!e.myform.valid))},directives:[z.a,$.a,i.t,i.n,i.g,z.f,z.c,U.c,H.b,i.c,i.m,i.f,i.r,U.g,L.a,r.l,v.a,z.b,j.b,V.o],styles:[".main[_ngcontent-%COMP%]{margin:auto!important}.mat-card[_ngcontent-%COMP%]{width:90%!important}.customStyle[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important;margin-bottom:25px}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.full[_ngcontent-%COMP%]{width:90%}.mat-raised-button[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}h1[_ngcontent-%COMP%]{font-weight:600}.arrow[_ngcontent-%COMP%]{float:right}h2[_ngcontent-%COMP%]{color:#00f}.checkbox[_ngcontent-%COMP%]{margin-left:5%}"]}),t})();var At=c("whuR"),Nt=c("CjG4"),Ft=c("zkoq"),Tt=c("f0Cb");function Et(t,e){1&t&&(f.fc(0,"th",22),f.Qc(1,"Category"),f.ec())}function Zt(t,e){if(1&t&&(f.fc(0,"td",23),f.Qc(1),f.ec()),2&t){const t=e.$implicit,c=f.rc(2);f.Ob(1),f.Rc(null==c.categoryIndex[null==t?null:t.category]?null:c.categoryIndex[null==t?null:t.category].name)}}function $t(t,e){1&t&&(f.fc(0,"th",22),f.Qc(1,"Model"),f.ec())}function Ut(t,e){if(1&t&&(f.fc(0,"td",23),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.model)}}function Ht(t,e){1&t&&(f.fc(0,"th",22),f.Qc(1,"Unit Price"),f.ec())}function Lt(t,e){if(1&t&&(f.fc(0,"td",23),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.unit_price)}}function jt(t,e){1&t&&(f.fc(0,"th",22),f.Qc(1,"Quantity"),f.ec())}function Vt(t,e){if(1&t&&(f.fc(0,"td",23),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.quantity)}}function Wt(t,e){1&t&&(f.fc(0,"th",22),f.Qc(1,"Total Price"),f.ec())}function Gt(t,e){if(1&t&&(f.fc(0,"td",23),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.total_price)}}function zt(t,e){1&t&&(f.fc(0,"th",22),f.Qc(1,"Complementary"),f.ec())}function Xt(t,e){if(1&t&&(f.fc(0,"td",23),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.complementary)}}function Jt(t,e){1&t&&f.ac(0,"tr",24)}function Yt(t,e){1&t&&f.ac(0,"tr",25)}function Kt(t,e){1&t&&(f.fc(0,"th",22),f.Qc(1,"Title"),f.ec())}function te(t,e){if(1&t&&(f.fc(0,"td",23),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.title)}}function ee(t,e){1&t&&(f.fc(0,"th",22),f.Qc(1,"Amount"),f.ec())}function ce(t,e){if(1&t&&(f.fc(0,"td",23),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.amount)}}function re(t,e){1&t&&f.ac(0,"tr",24)}function ie(t,e){1&t&&f.ac(0,"tr",25)}function oe(t,e){if(1&t&&(f.fc(0,"div"),f.fc(1,"mat-grid-list",28),f.fc(2,"mat-grid-tile",29),f.fc(3,"div"),f.fc(4,"b"),f.Qc(5," By:"),f.ec(),f.Qc(6),f.ac(7,"br"),f.fc(8,"b"),f.Qc(9," Time:"),f.ec(),f.Qc(10),f.sc(11,"date"),f.ac(12,"br"),f.fc(13,"b"),f.Qc(14," States:"),f.ec(),f.Qc(15),f.ac(16,"br"),f.ec(),f.ec(),f.fc(17,"mat-grid-tile",29),f.Qc(18),f.ec(),f.ac(19,"mat-divider"),f.ec(),f.ec()),2&t){const t=e.$implicit,c=f.rc(3);f.Ob(2),f.yc("colspan",3),f.Ob(4),f.Sc(" ",null==c.usersIndex[null==t?null:t.created_by]?null:c.usersIndex[null==t?null:t.created_by].full_name,""),f.Ob(4),f.Sc(" ",f.uc(11,6,null==t?null:t.created_time,"medium"),""),f.Ob(5),f.Rc(null==t?null:t.state),f.Ob(2),f.yc("colspan",5),f.Ob(1),f.Sc(" ",null==t?null:t.remark,"")}}function ae(t,e){if(1&t&&(f.fc(0,"div",26),f.fc(1,"b"),f.Qc(2,"Query Action "),f.ec(),f.ac(3,"br"),f.Pc(4,oe,20,9,"div",27),f.ec()),2&t){const t=f.rc(2);f.Ob(4),f.yc("ngForOf",t.queryAction)}}const ne=function(){return[0]};function se(t,e){if(1&t){const t=f.gc();f.fc(0,"mat-card",3),f.fc(1,"div"),f.fc(2,"button",4),f.nc("click",(function(){return f.Hc(t),f.rc().goBack()})),f.fc(3,"mat-icon"),f.Qc(4,"arrow_back"),f.ec(),f.ec(),f.ec(),f.fc(5,"div",5),f.fc(6,"div"),f.fc(7,"mat-card-title"),f.Qc(8,"Customer Query Details"),f.ec(),f.ec(),f.ec(),f.fc(9,"div"),f.fc(10,"div"),f.fc(11,"mat-grid-list",6),f.fc(12,"mat-grid-tile"),f.fc(13,"div"),f.fc(14,"b"),f.Qc(15,"Name:"),f.ec(),f.Qc(16),f.ec(),f.ec(),f.fc(17,"mat-grid-tile"),f.fc(18,"div"),f.fc(19,"b"),f.Qc(20,"Email:"),f.ec(),f.Qc(21),f.ec(),f.ec(),f.fc(22,"mat-grid-tile"),f.fc(23,"div"),f.fc(24,"b"),f.Qc(25,"Phone:"),f.ec(),f.Qc(26),f.ec(),f.ec(),f.fc(27,"mat-grid-tile"),f.fc(28,"div"),f.fc(29,"b"),f.Qc(30,"Type:"),f.ec(),f.Qc(31),f.ec(),f.ec(),f.fc(32,"mat-grid-tile"),f.fc(33,"div"),f.fc(34,"b"),f.Qc(35,"Priority:"),f.ec(),f.Qc(36),f.ec(),f.ec(),f.fc(37,"mat-grid-tile"),f.fc(38,"div"),f.fc(39,"b"),f.Qc(40,"Source:"),f.ec(),f.Qc(41),f.ec(),f.ec(),f.fc(42,"mat-grid-tile"),f.fc(43,"b"),f.Qc(44,"Status :"),f.ec(),f.Qc(45),f.ec(),f.fc(46,"mat-grid-tile"),f.fc(47,"div"),f.fc(48,"b"),f.Qc(49," Created : "),f.ec(),f.Qc(50),f.ac(51,"br"),f.Qc(52),f.sc(53,"date"),f.ac(54,"br"),f.ec(),f.ec(),f.fc(55,"mat-grid-tile"),f.fc(56,"div"),f.fc(57,"b"),f.Qc(58,"Updated :"),f.ec(),f.Qc(59),f.ac(60,"br"),f.Qc(61),f.sc(62,"date"),f.ec(),f.ec(),f.ec(),f.ec(),f.fc(63,"div"),f.fc(64,"b"),f.Qc(65,"Product "),f.ec(),f.ac(66,"br"),f.fc(67,"table",7,8),f.dc(69,9),f.Pc(70,Et,2,0,"th",10),f.Pc(71,Zt,2,1,"td",11),f.cc(),f.dc(72,12),f.Pc(73,$t,2,0,"th",10),f.Pc(74,Ut,2,1,"td",11),f.cc(),f.dc(75,13),f.Pc(76,Ht,2,0,"th",10),f.Pc(77,Lt,2,1,"td",11),f.cc(),f.dc(78,14),f.Pc(79,jt,2,0,"th",10),f.Pc(80,Vt,2,1,"td",11),f.cc(),f.dc(81,15),f.Pc(82,Wt,2,0,"th",10),f.Pc(83,Gt,2,1,"td",11),f.cc(),f.dc(84,16),f.Pc(85,zt,2,0,"th",10),f.Pc(86,Xt,2,1,"td",11),f.cc(),f.Pc(87,Jt,1,0,"tr",17),f.Pc(88,Yt,1,0,"tr",18),f.ec(),f.ec(),f.fc(89,"div"),f.fc(90,"b"),f.Qc(91,"Mrc "),f.ec(),f.ac(92,"br"),f.fc(93,"table",7,8),f.dc(95,19),f.Pc(96,Kt,2,0,"th",10),f.Pc(97,te,2,1,"td",11),f.cc(),f.dc(98,20),f.Pc(99,ee,2,0,"th",10),f.Pc(100,ce,2,1,"td",11),f.cc(),f.Pc(101,re,1,0,"tr",17),f.Pc(102,ie,1,0,"tr",18),f.ec(),f.ec(),f.Pc(103,ae,5,1,"div",21),f.ec(),f.ec()}if(2&t){const t=f.rc();f.Ob(16),f.Sc(" ",t.queryData.name,""),f.Ob(5),f.Sc(" ",t.queryData.email,""),f.Ob(5),f.Sc(" ",t.queryData.phone,""),f.Ob(5),f.Sc(" ",t.queryData.type,""),f.Ob(5),f.Sc(" ",t.queryData.priority,""),f.Ob(5),f.Sc(" ",t.queryData.source,""),f.Ob(4),f.Rc(null==t.queryData?null:t.queryData.status),f.Ob(5),f.Sc(" By: ",null==t.usersIndex[null==t.queryData?null:t.queryData.created_by]?null:t.usersIndex[null==t.queryData?null:t.queryData.created_by].full_name,""),f.Ob(2),f.Sc(" Time: ",f.uc(53,20,null==t.queryData?null:t.queryData.created_time,"medium"),""),f.Ob(7),f.Sc(" By: ",null==t.usersIndex[null==t.queryData?null:t.queryData.created_by]?null:t.usersIndex[null==t.queryData?null:t.queryData.created_by].full_name,""),f.Ob(2),f.Sc(" Time: ",f.uc(62,23,null==t.queryData?null:t.queryData.created_time,"medium"),""),f.Ob(6),f.yc("dataSource",t.queryProducts)("hiddenColumns",f.Ac(26,ne)),f.Ob(20),f.yc("matHeaderRowDef",t.displayedColumns),f.Ob(1),f.yc("matRowDefColumns",t.displayedColumns),f.Ob(5),f.yc("dataSource",t.queryMrc)("hiddenColumns",f.Ac(27,ne)),f.Ob(8),f.yc("matHeaderRowDef",t.displayedMrcColumns),f.Ob(1),f.yc("matRowDefColumns",t.displayedMrcColumns),f.Ob(1),f.yc("ngIf",""!=t.queryAction)}}function le(t,e){1&t&&(f.fc(0,"div"),f.Qc(1," No Records Found! "),f.ec())}function ue(t,e){1&t&&(f.fc(0,"mat-card",30),f.ac(1,"mat-progress-spinner",31),f.ec())}let me=(()=>{class t{constructor(t,e,c,r,i){this.route=t,this.snackBar=e,this.queryService=c,this.userService=r,this.router=i,this.isLoading=!0,this.usersIndex=[]}ngOnInit(){this.route.paramMap.subscribe(t=>{this.Id=t.get("id"),this.edit(this.Id)})}edit(t){this.queryService.getQueryByCustomerId(t).subscribe(t=>{this.isLoading=!1,this.queryData=t,console.log(t),this.getAllUser();var e=this.queryData.queryID;this.queryService.getQueryProductById(e).subscribe(t=>{this.queryProducts=t,console.log(t)}),this.queryService.getQueryMrcById(e).subscribe(t=>{console.log(t),this.queryMrc=t}),this.queryService.getQueryActionById(e).subscribe(t=>{this.queryAction=t,console.log(t)})})}getAllUser(){this.userService.getAllUser().subscribe(t=>{var e;this.users=t,console.log(null===(e=this.users[6])||void 0===e?void 0:e.full_name),this.users.forEach((t,e)=>{var c;this.usersIndex[t.id]=this.users[e],console.log(null===(c=this.usersIndex[6])||void 0===c?void 0:c.full_name)})})}goBack(){this.router.navigate(["/admin/customer/list"])}}return t.\u0275fac=function(e){return new(e||t)(f.Zb(s.a),f.Zb(p.a),f.Zb(At.a),f.Zb(Nt.a),f.Zb(s.c))},t.\u0275cmp=f.Tb({type:t,selectors:[["app-customer-query"]],decls:3,vars:3,consts:[["class","customStyle",4,"ngIf"],[4,"ngIf"],["style","display:flex; justify-content: center; align-items: center",4,"ngIf"],[1,"customStyle"],["mat-button","",1,"mat-primary",3,"click"],[1,"title-style"],["cols","3","rowHeight","40px"],["mat-table","","matTableExporter","","matSort","",1,"mat-elevation-z8",3,"dataSource","hiddenColumns"],["exporter","matTableExporter"],["matColumnDef","category"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","model"],["matColumnDef","unit_price"],["matColumnDef","quantity"],["matColumnDef","total_price"],["matColumnDef","complementary"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","title"],["matColumnDef","amount"],["class","actionSection",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"],[1,"actionSection"],[4,"ngFor","ngForOf"],["cols","8","rowHeight","100px"],[3,"colspan"],[2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"]],template:function(t,e){1&t&&(f.Pc(0,se,104,28,"mat-card",0),f.Pc(1,le,2,0,"div",1),f.Pc(2,ue,2,0,"mat-card",2)),2&t&&(f.yc("ngIf",e.users&&e.queryData),f.Ob(1),f.yc("ngIf",!e.queryData),f.Ob(1),f.yc("ngIf",e.isLoading))},directives:[r.m,z.a,j.b,b.a,z.f,Ft.a,Ft.c,m.j,a.a,u.a,m.c,m.e,m.b,m.g,m.i,m.d,u.b,m.a,m.f,m.h,r.l,Tt.a,X.a],pipes:[r.e],styles:["mat-card[_ngcontent-%COMP%]{top:0;width:80%;min-height:400px}.form[_ngcontent-%COMP%]{margin-top:30px}.customStyle[_ngcontent-%COMP%]{border-radius:10px 10px 10px 10px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.mat-stroked-button[_ngcontent-%COMP%]{width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}mat-grid-tile[_ngcontent-%COMP%]{background:#add8e6}mat-card-title[_ngcontent-%COMP%]{margin-top:-25px;margin-bottom:20px}.actionSection[_ngcontent-%COMP%]{margin-top:20px}.actionSection[_ngcontent-%COMP%]   mat-grid-tile[_ngcontent-%COMP%]{background:#e8f8f5}"]}),t})();function de(t,e){1&t&&(f.fc(0,"mat-card",11),f.ac(1,"mat-progress-spinner",12),f.ec())}let fe=(()=>{class t{constructor(t,e,c,r,i,o,a){this.fb=t,this.customerService=e,this.dialogRef=c,this.dialog=r,this.router=i,this.snackBar=o,this.data=a,this.errorInfo=[],this.Id=a.id}ngOnInit(){this.myform=this.fb.group({customerId:["",[i.s.required]]}),this.dialogRef.disableClose=!0}close(){this.dialogRef.close()}importCustomer(){this.errorInfo=[],this.userData=JSON.parse(localStorage.getItem("userData")),this.myform.value.updated_by=this.userData.id,this.myform.value.updated_time=new Date,this.myform.value.customerId.split(",").forEach(t=>{this.isLoading=!0,this.myform.value.customerId=t,this.myform.value.reseller_id=this.Id,this.customerService.addCustomerWithReseller(this.myform.value).subscribe(e=>{this.errorInfo.push(e.message?{id:e.id,status:"Fail",reason:e.message.reason}:{id:t,status:"Successful",reason:""})})}),this.isLoading=!1,this.dialogRef.close(),this.errorInfo&&(console.log(this.errorInfo),this.customerService.importDataExchange(this.errorInfo))}}return t.\u0275fac=function(e){return new(e||t)(f.Zb(i.e),f.Zb(E.a),f.Zb(d.f),f.Zb(d.b),f.Zb(s.c),f.Zb(p.a),f.Zb(d.a,8))},t.\u0275cmp=f.Tb({type:t,selectors:[["app-customer-import"]],decls:21,vars:2,consts:[[1,"table-title"],[3,"click"],[1,"customStyle"],[3,"formGroup"],[1,"main"],[1,"full"],["trim","blur","matInput","","placeholder","Customer ID","formControlName","customerId","autocomplete","off","required",""],["align","end"],[1,"button"],["mat-stroked-button","","color","primary",1,"btn-block",3,"click"],["class","center","style","display:flex; justify-content: center; align-items: center",4,"ngIf"],[1,"center",2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"]],template:function(t,e){1&t&&(f.fc(0,"div",0),f.fc(1,"h3"),f.Qc(2,"Add Customer "),f.ec(),f.fc(3,"span"),f.fc(4,"a"),f.fc(5,"mat-icon",1),f.nc("click",(function(){return e.close()})),f.Qc(6,"close"),f.ec(),f.ec(),f.ec(),f.ec(),f.fc(7,"mat-card",2),f.fc(8,"mat-card-content"),f.fc(9,"form",3),f.fc(10,"div",4),f.fc(11,"mat-form-field",5),f.ac(12,"input",6),f.fc(13,"mat-hint",7),f.Qc(14," Please customer id with comma seperated"),f.ec(),f.ec(),f.ec(),f.ec(),f.ec(),f.fc(15,"mat-card-actions",8),f.fc(16,"button",9),f.nc("click",(function(){return e.importCustomer()})),f.Qc(17," Submit "),f.ec(),f.fc(18,"button",9),f.nc("click",(function(){return e.close()})),f.Qc(19," Close "),f.ec(),f.ec(),f.ec(),f.Pc(20,de,2,0,"mat-card",10)),2&t&&(f.Ob(9),f.yc("formGroup",e.myform),f.Ob(11),f.yc("ngIf",e.isLoading))},directives:[b.a,z.a,z.c,i.t,i.n,i.g,U.c,H.b,i.c,i.m,i.f,i.r,U.f,z.b,j.b,r.m,X.a],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:70%;margin-left:5%}mat-card[_ngcontent-%COMP%]{width:80%}.center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}"]}),t})();function he(t,e){1&t&&(f.fc(0,"th",9),f.Qc(1,"Customer ID"),f.ec())}function pe(t,e){if(1&t&&(f.fc(0,"td",10),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.id)}}function ge(t,e){1&t&&(f.fc(0,"th",9),f.Qc(1,"Status"),f.ec())}function be(t,e){if(1&t&&(f.fc(0,"td",10),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.status)}}function ve(t,e){1&t&&(f.fc(0,"th",9),f.Qc(1,"Reason"),f.ec())}function ye(t,e){if(1&t&&(f.fc(0,"td",10),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.reason)}}function Ce(t,e){1&t&&f.ac(0,"tr",11)}function Pe(t,e){1&t&&f.ac(0,"tr",12)}let De=(()=>{class t{constructor(t,e,c,r){this.customerService=t,this.dialogRef=e,this.dialog=c,this.data=r,this.error=1,this.dataSource=new m.k([]),this.displayedColumns=["id","status","reason"]}ngOnInit(){this.obs=this.customerService.importErrorCatch.subscribe(t=>{console.log(t),t&&(this.errorData=t,this.dataSource=new m.k(t))})}ngOnDestroy(){this.obs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(f.Zb(E.a),f.Zb(d.f),f.Zb(d.b),f.Zb(d.a,8))},t.\u0275cmp=f.Tb({type:t,selectors:[["app-invalid-show"]],decls:13,vars:3,consts:[[1,"custom-style"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","reason"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(t,e){1&t&&(f.fc(0,"div",0),f.fc(1,"table",1),f.dc(2,2),f.Pc(3,he,2,0,"th",3),f.Pc(4,pe,2,1,"td",4),f.cc(),f.dc(5,5),f.Pc(6,ge,2,0,"th",3),f.Pc(7,be,2,1,"td",4),f.cc(),f.dc(8,6),f.Pc(9,ve,2,0,"th",3),f.Pc(10,ye,2,1,"td",4),f.cc(),f.Pc(11,Ce,1,0,"tr",7),f.Pc(12,Pe,1,0,"tr",8),f.ec(),f.ec()),2&t&&(f.Ob(1),f.yc("dataSource",e.dataSource),f.Ob(10),f.yc("matHeaderRowDef",e.displayedColumns),f.Ob(1),f.yc("matRowDefColumns",e.displayedColumns))},directives:[m.j,u.a,m.c,m.e,m.b,m.g,m.i,m.d,u.b,m.a,m.f,m.h],styles:[""]}),t})();function Oe(t,e){if(1&t&&(f.fc(0,"mat-option",32),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.yc("value",t.id),f.Ob(1),f.Sc(" ",t.value," ")}}function xe(t,e){1&t&&(f.fc(0,"th",33),f.Qc(1,"#"),f.ec())}function Se(t,e){if(1&t&&(f.fc(0,"td",34),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.id)}}function we(t,e){1&t&&(f.fc(0,"th",33),f.Qc(1,"Customer ID"),f.ec())}function _e(t,e){if(1&t&&(f.fc(0,"td",34),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.customer_id)}}function Ie(t,e){1&t&&(f.fc(0,"th",33),f.Qc(1,"Name"),f.ec())}function Qe(t,e){if(1&t&&(f.fc(0,"td",34),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.name)}}function ke(t,e){1&t&&(f.fc(0,"th",33),f.Qc(1,"Phone"),f.ec())}function Me(t,e){if(1&t&&(f.fc(0,"td",34),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.phone)}}function Re(t,e){1&t&&(f.fc(0,"th",33),f.Qc(1,"Email"),f.ec())}function Be(t,e){if(1&t&&(f.fc(0,"td",34),f.Qc(1),f.ec()),2&t){const t=e.$implicit;f.Ob(1),f.Rc(t.email)}}function qe(t,e){1&t&&(f.fc(0,"th",33),f.Qc(1,"Status"),f.ec())}function Ae(t,e){if(1&t&&(f.fc(0,"td",34),f.Qc(1),f.ec()),2&t){const t=e.$implicit,c=f.rc();f.Ob(1),f.Rc(null==c.states[t.status]?null:c.states[t.status].value)}}function Ne(t,e){1&t&&f.ac(0,"tr",35)}function Fe(t,e){1&t&&f.ac(0,"tr",36)}function Te(t,e){1&t&&(f.fc(0,"mat-card",37),f.ac(1,"mat-progress-spinner",38),f.ec())}const Ee=function(){return[0]},Ze=[{path:"list",component:_t,canActivate:[It.a],data:{roles:"customer_list"}},{path:"add",component:qt,canActivate:[It.a],data:{roles:"customer_add"}},{path:"edit/:id",component:Rt,canActivate:[It.a],data:{roles:"customer_edit"}},{path:"customer-query/:id",component:me},{path:"reseller-customer/:id",component:(()=>{class t{constructor(t,e,c,r,i,o){this.route=t,this.customerService=e,this.snackBar=c,this.router=r,this.dialog=i,this.fb=o,this.params={},this.errorCatch="",this.currentPage=1,this.states=[{id:0,value:"Inactive"},{id:1,value:"Active"}],this.displayedColumns=["id","customer_id","name","email","phone","status"],this.dataSource=new m.k([]),this.isLoading=!0,this.testingValue=0}ngOnInit(){this.myform=this.fb.group({customer_id:[""],name:[""],email:[""],phone:[""],status:[""]}),this.route.paramMap.subscribe(t=>{this.Id=t.get("id"),this.getCustomerByReseller(this.Id)}),console.log(this.testingValue),this.obs=this.customerService.importDataCatch.subscribe(t=>{console.log(t),this.errorCatch=t,1==this.testingValue&&t&&(this.errorData=t,this.customerService.importErrorExchange(t),this.isLoading=!0,setTimeout(()=>{this.getCustomerByReseller(this.Id)},1e3),setTimeout(()=>{this.openImportErrorModal()},1e3))}),this.addCustomer(),console.log(this.testingValue)}ngOnDestroy(){this.obs.unsubscribe()}getCustomerByReseller(t){this.customerService.getCustomerByReseller(t).subscribe(t=>{this.customers=t,this.dataSource=new m.k(t),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator),this.isLoading=!1})}addCustomer(){this.testingValue=1}openCustomerModal(t){const e=new d.d;e.disableClose=!0,e.width="600px",e.height="480px",this.dialog.open(fe,{width:"580px",height:"460px",data:{id:t}}).afterClosed().subscribe(t=>{})}openImportErrorModal(){const t=new d.d;t.disableClose=!0,t.width="600px",t.height="480px",this.dialog.open(De,{width:"580px",height:"260px",data:this.errorData}).afterClosed().subscribe(t=>{})}getCustomerBySearch(){this.params={reseller_id:this.resellerAutoId,currentPage:this.currentPage,name:this.myform.value.name,status:this.myform.value.status,customer_id:this.myform.value.customer_id,email:this.myform.value.email,phone:this.myform.value.phone},console.log(this.params),this.customerService.getAllCustomer(this.params).subscribe(t=>{this.isLoading=!1,this.customers=t.rows,this.dataSource=new m.k(this.customers),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getBack(){this.getCustomerByReseller(this.Id)}}return t.\u0275fac=function(e){return new(e||t)(f.Zb(s.a),f.Zb(E.a),f.Zb(p.a),f.Zb(s.c),f.Zb(d.b),f.Zb(i.e))},t.\u0275cmp=f.Tb({type:t,selectors:[["app-reseller-customer"]],viewQuery:function(t,e){var c;1&t&&(f.Uc(u.a,!0),f.Uc(l.a,!0)),2&t&&(f.Ec(c=f.oc())&&(e.sort=c.first),f.Ec(c=f.oc())&&(e.paginator=c.first))},decls:55,vars:8,consts:[[1,"custom-style"],[1,"table-title"],["fxLayout","row","fxLayout.xs","column",1,"search-div"],["fxFlex","70%"],[3,"formGroup"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","20%","fxFlex.xs","90%",1,"search_field"],["matInput","","placeholder","Customer Id","formControlName","customer_id","autocomplete","off"],["matInput","","placeholder","Name","formControlName","name","autocomplete","off"],["fxFlex","20%","fxFlex.xs","45%",1,"search_field"],["matInput","","placeholder","Email","formControlName","email","autocomplete","off"],["matInput","","placeholder","Phone","formControlName","phone","autocomplete","off"],["formControlName","status"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","30%","fxFlex.xs","100%"],["mat-button","",1,"mat-stroked-button","mat-primary",3,"click"],[1,"addButton"],["mat-button","",1,"mat-raised-button","mat-primary",3,"click"],[1,"table_container"],["mat-table","","matTableExporter","","matSort","",1,"mat-elevation-z8",3,"dataSource","hiddenColumns"],["exporter","matTableExporter"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","customer_id"],["matColumnDef","name"],["matColumnDef","phone"],["matColumnDef","email"],["matColumnDef","status"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["style","display:flex; justify-content: center; align-items: center",4,"ngIf"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"],[2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"]],template:function(t,e){if(1&t){const t=f.gc();f.fc(0,"div",0),f.fc(1,"div",1),f.fc(2,"h3"),f.Qc(3,"Reseller Customer List"),f.ec(),f.ec(),f.fc(4,"div",2),f.fc(5,"div",3),f.fc(6,"form",4),f.fc(7,"div",5),f.fc(8,"mat-form-field",6),f.ac(9,"input",7),f.ec(),f.fc(10,"mat-form-field",6),f.ac(11,"input",8),f.ec(),f.fc(12,"mat-form-field",9),f.ac(13,"input",10),f.ec(),f.fc(14,"mat-form-field",9),f.ac(15,"input",11),f.ec(),f.fc(16,"mat-form-field",9),f.fc(17,"mat-label"),f.Qc(18,"Status"),f.ec(),f.fc(19,"mat-select",12),f.Pc(20,Oe,2,2,"mat-option",13),f.ec(),f.ec(),f.ec(),f.ec(),f.ec(),f.fc(21,"div",14),f.fc(22,"button",15),f.nc("click",(function(){return e.getCustomerBySearch()})),f.Qc(23," Search "),f.ec(),f.fc(24,"button",15),f.nc("click",(function(){return e.getBack()})),f.Qc(25," Back "),f.ec(),f.fc(26,"span",16),f.fc(27,"button",17),f.nc("click",(function(){return e.openCustomerModal(e.Id)})),f.Qc(28," Add "),f.ec(),f.ec(),f.fc(29,"button",17),f.nc("click",(function(){return f.Hc(t),f.Fc(33).exportTable("csv",{fileName:"Customer"})})),f.Qc(30," CSV "),f.ec(),f.ec(),f.ec(),f.fc(31,"div",18),f.fc(32,"table",19,20),f.dc(34,21),f.Pc(35,xe,2,0,"th",22),f.Pc(36,Se,2,1,"td",23),f.cc(),f.dc(37,24),f.Pc(38,we,2,0,"th",22),f.Pc(39,_e,2,1,"td",23),f.cc(),f.dc(40,25),f.Pc(41,Ie,2,0,"th",22),f.Pc(42,Qe,2,1,"td",23),f.cc(),f.dc(43,26),f.Pc(44,ke,2,0,"th",22),f.Pc(45,Me,2,1,"td",23),f.cc(),f.dc(46,27),f.Pc(47,Re,2,0,"th",22),f.Pc(48,Be,2,1,"td",23),f.cc(),f.dc(49,28),f.Pc(50,qe,2,0,"th",22),f.Pc(51,Ae,2,1,"td",23),f.cc(),f.Pc(52,Ne,1,0,"tr",29),f.Pc(53,Fe,1,0,"tr",30),f.ec(),f.ec(),f.ec(),f.Pc(54,Te,2,0,"mat-card",31)}2&t&&(f.Ob(6),f.yc("formGroup",e.myform),f.Ob(14),f.yc("ngForOf",e.states),f.Ob(12),f.yc("dataSource",e.dataSource)("hiddenColumns",f.Ac(7,Ee)),f.Ob(20),f.yc("matHeaderRowDef",e.displayedColumns),f.Ob(1),f.yc("matRowDefColumns",e.displayedColumns),f.Ob(1),f.yc("ngIf",e.isLoading))},directives:[$.b,$.a,i.t,i.n,i.g,U.c,H.b,i.c,i.m,i.f,U.g,L.a,r.l,j.b,m.j,a.a,u.a,m.c,m.e,m.b,m.g,m.i,r.m,V.o,m.d,u.b,m.a,m.f,m.h,z.a,X.a],styles:[".table_container[_ngcontent-%COMP%]{margin-left:2%;width:96%;margin-right:2%;overflow:auto}.filter[_ngcontent-%COMP%]{width:15%;margin-right:50%}.header[_ngcontent-%COMP%]{overflow:hidden}.table[_ngcontent-%COMP%]{width:96%!important;margin-left:2%;margin-right:2%}.spacerb[_ngcontent-%COMP%]{margin-right:5px}h3[_ngcontent-%COMP%]{font-weight:500}.row[_ngcontent-%COMP%]{height:40px!important}.fl[_ngcontent-%COMP%]{position:relative;display:flex}.closeButton[_ngcontent-%COMP%]{margin-top:20px}.search_div[_ngcontent-%COMP%]{margin-left:5%}.search_field[_ngcontent-%COMP%]{margin-left:1%;width:10%;float:left}.mat-stroked-button[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;border:1px solid #00f}.mat-raised-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%]{width:8%;margin-left:.5%}.pagination[_ngcontent-%COMP%]{display:inline-block}.pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;float:left;padding:8px 16px;text-decoration:none;transition:background-color .3s;border:1px solid #ddd}.active[_ngcontent-%COMP%]{background-color:#29abe2;background:#4169e1;color:red}.pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:not(.active){background-color:#ddd}.middle[_ngcontent-%COMP%]{margin-left:50%}a[_ngcontent-%COMP%]{cursor:pointer}"]}),t})()}];let $e=(()=>{class t{}return t.\u0275mod=f.Xb({type:t}),t.\u0275inj=f.Wb({factory:function(e){return new(e||t)},imports:[[s.f.forChild(Ze)],s.f]}),t})(),Ue=(()=>{class t{}return t.\u0275mod=f.Xb({type:t}),t.\u0275inj=f.Wb({factory:function(e){return new(e||t)},imports:[[r.c,$e,o.a,i.q,i.i,a.b,n.a]]}),t})()},"1jOF":function(t,e,c){"use strict";c.d(e,"a",(function(){return a}));var r=c("AytR"),i=c("fXoL"),o=c("tk/3");let a=(()=>{class t{constructor(t){this.http=t,this.url=r.a.apiUrl+"/driver/"}addDriver(t){return this.http.post(this.url+"/addDriver",t)}getAllDriver(){return this.http.get(this.url+"/listDriver")}getDriverById(t){return this.http.get(this.url+t+"/editDriver")}updateDriver(t,e){return this.http.put(this.url+t+"/updateDriver",e)}deleteDriver(t){return this.http.delete(this.url+t+"/deleteDriver")}addDriverWithDevice(t){return this.http.post(this.url+"/addDeviceDriver",t)}deleteDeviceDriver(t){return this.http.post(this.url+"/deleteDeviceDriver",t)}getDriverByDeviceId(t){return this.http.get(this.url+t+"/getDriverByDevice")}addDriverWithGroup(t){return this.http.post(this.url+"/addGroupDriver",t)}deleteGroupDriver(t){return this.http.post(this.url+"/deleteGroupDriver",t)}getDriverByGroupId(t){return this.http.get(this.url+t+"/getDriverByGroup")}addDriverWithUser(t){return this.http.post(this.url+"/addUserDriver",t)}deleteUserDriver(t){return this.http.post(this.url+"/deleteUserDriver",t)}getDriverByUserId(t){return this.http.get(this.url+t+"/getDriverByUser")}getAllCustomerDriver(){return this.http.get(this.url+"/listCustomerDriver")}getDriverByCustomerId(t){return this.http.get(this.url+t+"/getDriverByCustomerId")}addDriverWithCustomer(t){return this.http.post(this.url+"/addCustomerDriver",t)}deleteCustomerDriver(t){return this.http.post(this.url+"/deleteCustomerDriver",t)}}return t.\u0275fac=function(e){return new(e||t)(i.jc(o.b))},t.\u0275prov=i.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Cp0R:function(t,e,c){"use strict";c.d(e,"a",(function(){return a}));var r=c("fXoL"),i=c("Ofeh"),o=c("tyNb");let a=(()=>{class t{constructor(t,e){this.loginService=t,this.router=e,this.assigedRole=[]}canActivate(t,e){return this.loginService.loggedIn()?(this.assigedRole=JSON.parse(sessionStorage.getItem("rolesData")),1==this.assigedRole.includes(t.data.roles)||(this.router.navigate(["/deny"]),!1)):(this.router.navigate(["/"]),!1)}}return t.\u0275fac=function(e){return new(e||t)(r.jc(i.a),r.jc(o.c))},t.\u0275prov=r.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},H0VJ:function(t,e,c){"use strict";c.d(e,"a",(function(){return s}));var r=c("fXoL"),i=c("0IaG"),o=c("NFeN"),a=c("bTqV");let n=(()=>{class t{constructor(t){this.dialogRef=t}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(i.f))},t.\u0275cmp=r.Tb({type:t,selectors:[["app-mat-dialog"]],decls:11,vars:2,consts:[[1,"content-container"],["id","close-button",3,"click"],[1,"content-span"],["mat-flat-button","","id","no-button",3,"mat-dialog-close"],["mat-flat-button","","id","yes-button","color","warn",3,"mat-dialog-close"]],template:function(t,e){1&t&&(r.fc(0,"div"),r.fc(1,"div",0),r.fc(2,"mat-icon",1),r.nc("click",(function(){return e.closeDialog()})),r.Qc(3,"close"),r.ec(),r.fc(4,"div",2),r.Qc(5,"Are you sure to delete this record ?"),r.ec(),r.ec(),r.fc(6,"div"),r.fc(7,"button",3),r.Qc(8,"No"),r.ec(),r.fc(9,"button",4),r.Qc(10,"Yes"),r.ec(),r.ec(),r.ec()),2&t&&(r.Ob(7),r.yc("mat-dialog-close",!1),r.Ob(2),r.yc("mat-dialog-close",!0))},directives:[o.a,a.b,i.c],styles:["#close-button[_ngcontent-%COMP%]{margin-left:90%;cursor:pointer}.content-span[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:20px}#no-button[_ngcontent-%COMP%]{width:30%;margin-left:7%;margin-right:25%;background-color:#ff0}#yes-button[_ngcontent-%COMP%]{width:30%}"]}),t})(),s=(()=>{class t{constructor(t){this.dialog=t}openConfirmDialog(){return this.dialog.open(n,{width:"300px",disableClose:!0,position:{top:"20px"}})}}return t.\u0275fac=function(e){return new(e||t)(r.jc(i.b))},t.\u0275prov=r.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},M5z4:function(t,e,c){"use strict";c.d(e,"a",(function(){return n}));var r=c("AytR"),i=c("2Vo4"),o=c("fXoL"),a=c("tk/3");let n=(()=>{class t{constructor(t){this.http=t,this.importDataSent=new i.a(""),this.importDataCatch=this.importDataSent.asObservable(),this.messageCatch=this.importDataSent.asObservable(),this.importErrorSent=new i.a(""),this.messageSent=new i.a(""),this.importErrorCatch=this.importErrorSent.asObservable(),this.url=r.a.apiUrl+"/customer/"}importDataExchange(t){console.log("test"),this.importDataSent.next(t)}importErrorExchange(t){this.importErrorSent.next(t)}messageExchange(t){this.messageSent.next(t)}DestroySubject(){alert("hi")}addCustomer(t){return this.http.post(this.url+"/addCustomer",t)}getAllCustomer(t){return this.http.post(this.url+"/listCustomer",t)}getCustomerById(t){return this.http.get(this.url+t+"/editCustomer")}getCustomerByUserId(t){return this.http.get(this.url+t+"/getCustomerByUserId")}updateCustomer(t,e){return this.http.put(this.url+t+"/updateCustomer",e)}getAllCustomerList(){return this.http.get(this.url+"/allCustomerList")}getAllCustomerListJoinWithDevices(){return this.http.get(this.url+"/allCustomerListJoinWithDevices")}customerSearch(t){return this.http.post(this.url+"/customerSearch",t)}resellerSearch(t){return this.http.post(this.url+"/resellerSearch",t)}DeviceByCustomer(t){return this.http.get(this.url+t+"/getDeviceByCustomer")}DeviceByDeviceId(t){return this.http.post(this.url+"/getDeviceByDeviceId",t)}DeviceIdByUser(t){return this.http.get(this.url+t+"/getDeviceIdByUser")}DeviceByCustomerWithPosition(t){return this.http.get(this.url+t+"/getDeviceByCustomerWithPosition")}DeviceByCustomerUserWithPosition(t){return this.http.post(this.url+"/getDeviceByCustomerUserWithPosition",t)}DevicePositionByPositionId(t){return this.http.post(this.url+"/getDevicePositionByPositionId",t)}DevicePositionByCustomer(t){return this.http.get(this.url+t+"/getDevicePositionByCustomer")}getCustomerByReseller(t){return this.http.get(this.url+t+"/getCustomerByReseller")}addCustomerWithReseller(t){return this.http.post(this.url+"/addCustomerWithReseller",t)}getResellerAutoId(t){return this.http.get(this.url+t+"/getResellerAutoId")}getCustomerByResellerId(t){return this.http.get(this.url+t+"/getCustomerByResellerId")}}return t.\u0275fac=function(e){return new(e||t)(o.jc(a.b))},t.\u0275prov=o.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},XCAU:function(t,e,c){"use strict";c.d(e,"a",(function(){return n}));var r=c("2Vo4"),i=c("AytR"),o=c("fXoL"),a=c("tk/3");let n=(()=>{class t{constructor(t){this.http=t,this.url=i.a.apiUrl+"/device/",this.importDataSent=new r.a(""),this.importDataCatch=this.importDataSent.asObservable(),this.importErrorSent=new r.a(""),this.importErrorCatch=this.importErrorSent.asObservable()}importDataExchange(t){this.importDataSent.next(t)}importErrorExchange(t){this.importErrorSent.next(t)}getAllDevices(){return this.http.get(this.url+"/listDevices")}addDevice(t){return this.http.post(this.url+"/addDevice",t)}getAllDevice(){return this.http.get(this.url+"/listDevice")}getDeviceById(t){return this.http.get(this.url+t+"/editDevice")}updateDevice(t,e){return this.http.put(this.url+t+"/updateDevice",e)}deleteDevice(t){return this.http.delete(this.url+t+"/deleteDevice")}addDeviceWithUser(t){return this.http.post(this.url+"/addUserDevice",t)}deleteUserDevice(t){return this.http.post(this.url+"/deleteUserDevice",t)}getDeviceByUserId(t){return this.http.get(this.url+t+"/getDeviceByUser")}getDeviceByAllUser(){return this.http.get(this.url+"/getDeviceByAllUser")}addDeviceWithCustomer(t){return this.http.post(this.url+"/addCustomerDevice",t)}deleteCustomerDevice(t){return this.http.post(this.url+"/deleteCustomerDevice",t)}getDeviceByCustomerId(t){return this.http.get(this.url+t+"/getDeviceByCustomerId")}getAllPostion(){return this.http.get(this.url+"/listPositions")}getHistoryPostionBySearch(t){return this.http.post(this.url+"/listHistoryPositions",t)}getAllPostionBySearch(t){return this.http.post(this.url+"/listAllPositions",t)}getAllEvents(){return this.http.get(this.url+"/listEvents")}getDeviceWithPositionById(t){return this.http.get(this.url+t+"/getDeviceWithPositionById")}getDeviceCurrentPositionById(t){return this.http.get(this.url+t+"/getDeviceCurrentPositionById")}getMovingPosition(t){return this.http.post(this.url+"/movingPositions",t)}getDevicePositionByPositionId(t){return this.http.post(this.url+"/getDevicePositionByPositionId",t)}getEventPositionById(t){return this.http.get(this.url+t+"/getEventPositionById")}}return t.\u0275fac=function(e){return new(e||t)(o.jc(a.b))},t.\u0275prov=o.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);
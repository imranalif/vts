(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+OO2":function(t,e,c){"use strict";c.r(e),c.d(e,"CustomerModule",(function(){return re}));var i=c("ofXK"),r=c("3Pt+"),o=c("jAig"),n=c("KUt4"),a=c("YUcS"),s=c("tyNb"),u=c("M9IT"),l=c("Dh3D"),d=c("+0xr"),m=c("0IaG"),h=c("fXoL"),f=c("XCAU"),p=c("dNgK"),g=c("H0VJ"),b=c("NFeN"),v=c("bSwM");function y(t,e){1&t&&h.ac(0,"th",11)}function C(t,e){if(1&t){const t=h.gc();h.fc(0,"td",12),h.fc(1,"mat-checkbox",13),h.nc("change",(function(c){h.Hc(t);const i=e.$implicit;return h.rc().check(c.checked,i)})),h.ec(),h.ec()}if(2&t){const t=e.$implicit,c=h.rc();h.Ob(1),h.yc("checked",c.checkState(t.id))}}function D(t,e){1&t&&(h.fc(0,"th",11),h.Qc(1,"Name"),h.ec())}function P(t,e){if(1&t&&(h.fc(0,"td",12),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.name)}}function O(t,e){1&t&&(h.fc(0,"th",11),h.Qc(1,"Identifier"),h.ec())}function x(t,e){if(1&t&&(h.fc(0,"td",12),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.identifier)}}function S(t,e){1&t&&h.ac(0,"tr",14)}function _(t,e){1&t&&h.ac(0,"tr",15)}let w=(()=>{class t{constructor(t,e,c,i,r,o,n){this.devcieService=t,this.snackBar=e,this.router=c,this.dialogService=i,this.dialogRef=r,this.dialog=o,this.data=n,this.source=[],this.dataSource=new d.k([]),this.displayedColumns=["select","name","identifier"],this.sms=[{id:1,value:"true"},{id:0,value:"false"}],this.Id=n.pageValue}ngOnInit(){this.getAllDevice(),this.getDeviceByCustomer()}getAllDevice(){this.devcieService.getAllDevice().subscribe(t=>{console.log(t),this.devices=t,this.devices.forEach(t=>{this.source.push({id:t.id,name:t.name,identifier:t.uniqueid}),this.dataSource=new d.k(this.source),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})})}getDeviceByCustomer(){this.devcieService.getDeviceByCustomerId(this.Id).subscribe(t=>{console.log(t),this.customerDevices=t,this.customerDevices.length>0&&this.customerDevices.forEach(t=>{this.source.push({id:t.id,name:t.name,identifier:t.uniqueid}),console.log(this.source),this.dataSource=new d.k(this.source),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator),this.customerDevices.push(t.id)})})}close(){this.dialogRef.close()}checkState(t){if(this.customerDevices)return this.customerDevices.indexOf(t)>-1}check(t,e){t?(this.object={customerId:this.Id,deviceId:e.id},this.devcieService.addDeviceWithCustomer(this.object).subscribe()):(this.object={customerId:this.Id,deviceId:e.id},this.devcieService.deleteCustomerDevice(this.object).subscribe())}}return t.\u0275fac=function(e){return new(e||t)(h.Zb(f.a),h.Zb(p.a),h.Zb(s.c),h.Zb(g.a),h.Zb(m.f),h.Zb(m.b),h.Zb(m.a,8))},t.\u0275cmp=h.Tb({type:t,selectors:[["app-customer-device"]],viewQuery:function(t,e){var c;1&t&&(h.Uc(l.a,!0),h.Uc(u.a,!0)),2&t&&(h.Ec(c=h.oc())&&(e.sort=c.first),h.Ec(c=h.oc())&&(e.paginator=c.first))},decls:20,vars:3,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(t,e){1&t&&(h.fc(0,"div",0),h.fc(1,"div",1),h.fc(2,"h3"),h.Qc(3,"Device Table"),h.ec(),h.fc(4,"span"),h.fc(5,"a"),h.fc(6,"mat-icon",2),h.nc("click",(function(){return e.close()})),h.Qc(7,"X"),h.ec(),h.ec(),h.ec(),h.ec(),h.fc(8,"table",3),h.dc(9,4),h.Pc(10,y,1,0,"th",5),h.Pc(11,C,2,1,"td",6),h.cc(),h.dc(12,7),h.Pc(13,D,2,0,"th",5),h.Pc(14,P,2,1,"td",6),h.cc(),h.dc(15,8),h.Pc(16,O,2,0,"th",5),h.Pc(17,x,2,1,"td",6),h.cc(),h.Pc(18,S,1,0,"tr",9),h.Pc(19,_,1,0,"tr",10),h.ec(),h.ec()),2&t&&(h.Ob(8),h.yc("dataSource",e.dataSource),h.Ob(10),h.yc("matHeaderRowDef",e.displayedColumns),h.Ob(1),h.yc("matRowDefColumns",e.displayedColumns))},directives:[b.a,d.j,n.a,d.c,d.e,d.b,d.g,d.i,d.d,d.a,v.a,d.f,d.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),t})();var I=c("1jOF");function Q(t,e){1&t&&h.ac(0,"th",12)}function k(t,e){if(1&t){const t=h.gc();h.fc(0,"td",13),h.fc(1,"mat-checkbox",14),h.nc("change",(function(c){h.Hc(t);const i=e.$implicit;return h.rc().check(c.checked,i)})),h.ec(),h.ec()}if(2&t){const t=e.$implicit,c=h.rc();h.Ob(1),h.yc("checked",c.checkState(t.id))}}function M(t,e){1&t&&(h.fc(0,"th",12),h.Qc(1,"Name"),h.ec())}function B(t,e){if(1&t&&(h.fc(0,"td",13),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.name)}}function q(t,e){1&t&&(h.fc(0,"th",12),h.Qc(1,"Identifier"),h.ec())}function R(t,e){if(1&t&&(h.fc(0,"td",13),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.uniqueid)}}function A(t,e){1&t&&h.ac(0,"tr",15)}function T(t,e){1&t&&h.ac(0,"tr",16)}function U(t,e){1&t&&(h.fc(0,"div"),h.Qc(1," No Records Found! "),h.ec())}let N=(()=>{class t{constructor(t,e,c,i,r,o,n){this.driverService=t,this.snackBar=e,this.router=c,this.dialogService=i,this.dialogRef=r,this.dialog=o,this.data=n,this.source=[],this.dataSource=new d.k([]),this.displayedColumns=["select","name","identifier"],this.Id=n.pageValue}ngOnInit(){this.getDriveByCustomer(),this.getAllCustomerDriver()}getAllCustomerDriver(){this.driverService.getAllCustomerDriver().subscribe(t=>{console.log(t),this.drivers=t,this.drivers.forEach(t=>{this.source.push({id:t.id,name:t.name,identifier:t.uniqueid}),this.dataSource=new d.k(this.source),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})})}getDriveByCustomer(){this.driverService.getDriverByCustomerId(this.Id).subscribe(t=>{console.log(t),this.customerDrivers=t,this.customerDrivers.length>0&&this.customerDrivers.forEach(t=>{this.source.push({id:t.id,name:t.name,identifier:t.uniqueid}),console.log(this.source),this.dataSource=new d.k(this.source),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator),this.customerDrivers.push(t.id)})})}close(){this.dialogRef.close()}checkState(t){if(this.customerDrivers)return this.customerDrivers.indexOf(t)>-1}check(t,e){t?(this.object={customerId:this.Id,driverId:e.id},this.driverService.addDriverWithCustomer(this.object).subscribe()):(this.object={customerId:this.Id,driverId:e.id},this.driverService.deleteCustomerDriver(this.object).subscribe())}}return t.\u0275fac=function(e){return new(e||t)(h.Zb(I.a),h.Zb(p.a),h.Zb(s.c),h.Zb(g.a),h.Zb(m.f),h.Zb(m.b),h.Zb(m.a,8))},t.\u0275cmp=h.Tb({type:t,selectors:[["app-customer-driver"]],viewQuery:function(t,e){var c;1&t&&(h.Uc(l.a,!0),h.Uc(u.a,!0)),2&t&&(h.Ec(c=h.oc())&&(e.sort=c.first),h.Ec(c=h.oc())&&(e.paginator=c.first))},decls:21,vars:4,consts:[[1,"custom-style"],[1,"table-title"],[3,"click"],["mat-table","","matTableExporter","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","identifier"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"]],template:function(t,e){1&t&&(h.fc(0,"div",0),h.fc(1,"div",1),h.fc(2,"h3"),h.Qc(3,"Driver Table"),h.ec(),h.fc(4,"span"),h.fc(5,"a"),h.fc(6,"mat-icon",2),h.nc("click",(function(){return e.close()})),h.Qc(7,"X"),h.ec(),h.ec(),h.ec(),h.ec(),h.fc(8,"table",3),h.dc(9,4),h.Pc(10,Q,1,0,"th",5),h.Pc(11,k,2,1,"td",6),h.cc(),h.dc(12,7),h.Pc(13,M,2,0,"th",5),h.Pc(14,B,2,1,"td",6),h.cc(),h.dc(15,8),h.Pc(16,q,2,0,"th",5),h.Pc(17,R,2,1,"td",6),h.cc(),h.Pc(18,A,1,0,"tr",9),h.Pc(19,T,1,0,"tr",10),h.ec(),h.Pc(20,U,2,0,"div",11),h.ec()),2&t&&(h.Ob(8),h.yc("dataSource",e.dataSource),h.Ob(10),h.yc("matHeaderRowDef",e.displayedColumns),h.Ob(1),h.yc("matRowDefColumns",e.displayedColumns),h.Ob(1),h.yc("ngIf",0===e.dataSource.data.length))},directives:[b.a,d.j,n.a,d.c,d.e,d.b,d.g,d.i,i.m,d.d,d.a,v.a,d.f,d.h],styles:["h3[_ngcontent-%COMP%]{float:left;margin-right:60%;margin-left:5%}"]}),t})();var Z=c("M5z4"),E=c("Nl8B"),F=c("XiUz"),H=c("kmnG"),$=c("qFsG"),j=c("bTqV"),L=c("STbY"),W=c("znSr"),G=c("Wp6s"),V=c("Xa2L");function z(t,e){1&t&&(h.fc(0,"th",36),h.Qc(1,"Action"),h.ec())}function X(t,e){if(1&t){const t=h.gc();h.fc(0,"button",44),h.fc(1,"mat-icon",41),h.nc("click",(function(){h.Hc(t);const e=h.rc().$implicit;return h.rc().editCustomer(e.customer_id)})),h.Qc(2,"edit"),h.ec(),h.ec()}}function J(t,e){if(1&t&&(h.fc(0,"button",45),h.fc(1,"mat-icon"),h.Qc(2,"settings"),h.ec(),h.ec()),2&t){h.rc();const t=h.Fc(7);h.yc("matMenuTriggerFor",t)}}function K(t,e){if(1&t){const t=h.gc();h.fc(0,"td",37),h.Pc(1,X,3,0,"button",38),h.Pc(2,J,3,1,"button",39),h.fc(3,"button",40),h.fc(4,"mat-icon",41),h.nc("click",(function(){h.Hc(t);const c=e.$implicit;return h.rc().customerQuery(c.customer_id)})),h.Qc(5,"visibility"),h.ec(),h.ec(),h.fc(6,"mat-menu",null,42),h.fc(8,"button",43),h.nc("click",(function(){h.Hc(t);const c=e.$implicit;return h.rc().openDeviceModal(c)})),h.Qc(9,"Devices"),h.ec(),h.fc(10,"button",43),h.nc("click",(function(){h.Hc(t);const c=e.$implicit;return h.rc().openDriverModal(c)})),h.Qc(11,"Drivers"),h.ec(),h.ec(),h.ec()}if(2&t){const t=h.rc();h.Ob(1),h.yc("ngIf",1==t.assigedRole.includes("customer_edit")),h.Ob(1),h.yc("ngIf",1==t.assigedRole.includes("customer_setting"))}}function Y(t,e){1&t&&(h.fc(0,"th",46),h.Qc(1,"#"),h.ec())}function tt(t,e){if(1&t&&(h.fc(0,"td",37),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.id)}}function et(t,e){1&t&&(h.fc(0,"th",46),h.Qc(1,"Customer ID"),h.ec())}function ct(t,e){if(1&t&&(h.fc(0,"td",37),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.customer_id)}}function it(t,e){1&t&&(h.fc(0,"th",46),h.Qc(1,"Name"),h.ec())}function rt(t,e){if(1&t&&(h.fc(0,"td",37),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.name)}}function ot(t,e){1&t&&(h.fc(0,"th",46),h.Qc(1,"Phone"),h.ec())}function nt(t,e){if(1&t&&(h.fc(0,"td",37),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.phone)}}function at(t,e){1&t&&(h.fc(0,"th",46),h.Qc(1,"Email"),h.ec())}function st(t,e){if(1&t&&(h.fc(0,"td",37),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.email)}}function ut(t,e){1&t&&(h.fc(0,"th",46),h.Qc(1,"Contact Address"),h.ec())}function lt(t,e){if(1&t&&(h.fc(0,"td",37),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.contact_address)}}function dt(t,e){1&t&&(h.fc(0,"th",46),h.Qc(1,"Billing Address"),h.ec())}function mt(t,e){if(1&t&&(h.fc(0,"td",37),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.billing_address)}}function ht(t,e){1&t&&h.ac(0,"tr",47)}function ft(t,e){1&t&&h.ac(0,"tr",48)}const pt=function(t){return{active:t}};function gt(t,e){if(1&t){const t=h.gc();h.fc(0,"li",50),h.fc(1,"a",41),h.nc("click",(function(){h.Hc(t);const c=e.$implicit;return h.rc(2).getCustomerByPage(c)})),h.Qc(2),h.ec(),h.ec()}if(2&t){const t=e.$implicit,c=h.rc(2);h.yc("ngClass",h.Bc(2,pt,c.pager.currentPage===t)),h.Ob(2),h.Rc(t)}}const bt=function(t){return{disabled:t}};function vt(t,e){if(1&t){const t=h.gc();h.fc(0,"ul",49),h.fc(1,"li",50),h.fc(2,"a",41),h.nc("click",(function(){h.Hc(t);const e=h.rc();return e.getCustomerByPage(e.pager.currentPage-1)})),h.Qc(3,"\xab"),h.ec(),h.ec(),h.Pc(4,gt,3,4,"li",51),h.fc(5,"li",50),h.fc(6,"a",41),h.nc("click",(function(){h.Hc(t);const e=h.rc();return e.getCustomerByPage(e.pager.currentPage+1)})),h.Qc(7,"\xbb"),h.ec(),h.ec(),h.ec()}if(2&t){const t=h.rc();h.Ob(1),h.yc("ngClass",h.Bc(3,bt,1===t.pager.currentPage)),h.Ob(3),h.yc("ngForOf",t.pager.pages),h.Ob(1),h.yc("ngClass",h.Bc(5,bt,2===t.pager.currentPage))}}function yt(t,e){1&t&&(h.fc(0,"mat-card",52),h.ac(1,"mat-progress-spinner",53),h.ec())}function Ct(t,e){1&t&&(h.fc(0,"mat-card"),h.Qc(1," No Records Found! "),h.ec())}const Dt=function(){return[0]};let Pt=(()=>{class t{constructor(t,e,c,i,r,o,n){this.customerService=t,this.snackBar=e,this.router=c,this.dialogService=i,this.dialog=r,this.pagination=o,this.fb=n,this.currentPage=1,this.params={},this.pager=[],this.record=[],this.assigedRole=[],this.dataSource=new d.k([]),this.isLoading=!0,this.displayedColumns=["action","id","customer_id","name","email","phone","contact_address","billing_address"],this.assigedRole=JSON.parse(sessionStorage.getItem("rolesData"))}ngOnInit(){this.myform=this.fb.group({customer_id:[""],name:[""],email:[""],phone:[""]}),this.getAllCustomer()}getAllCustomerTest(){this.customerService.getAllCustomer(this.params).subscribe(t=>{this.customers=t,this.dataSource=new d.k(this.customers),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator),this.isLoading=!1})}getAllCustomer(){this.params={currentPage:this.currentPage},this.customerService.getAllCustomer(this.params).subscribe(t=>{this.customers=t.rows,this.record=t.count,console.log(t.count),this.pager=this.pagination.paginate(this.record),console.log(this.pager.totalPages),this.dataSource=new d.k(this.customers),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator),this.isLoading=!1})}getCustomerByPage(t){this.page=t,this.page>this.pager.totalPages||(this.params={currentPage:t,name:this.myform.value.name,customer_id:this.myform.value.customer_id,email:this.myform.value.email,phone:this.myform.value.phone},this.customerService.getAllCustomer(this.params).subscribe(e=>{this.isLoading=!1,this.customers=e.rows,console.log(this.record),this.pager=this.pagination.paginate(this.record,t),this.dataSource=new d.k(this.customers),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)}))}getCustomerBySearch(){this.params={currentPage:this.currentPage,name:this.myform.value.name,customer_id:this.myform.value.customer_id,email:this.myform.value.email,phone:this.myform.value.phone},console.log(this.params),this.customerService.getAllCustomer(this.params).subscribe(t=>{this.isLoading=!1,this.customers=t.rows,this.record=t.count,this.pager=this.pagination.paginate(this.record),this.dataSource=new d.k(this.customers),setTimeout(()=>this.dataSource.sort=this.sort),setTimeout(()=>this.dataSource.paginator=this.paginator)})}getBack(){this.getAllCustomer()}applyFilter(t){}editCustomer(t){this.router.navigate(["admin/customer/edit",t])}openDeviceModal(t){console.log(t.customer_id);const e=new m.d;e.disableClose=!0,e.width="600px",e.height="480px",this.dialog.open(w,{width:"580px",height:"460px",data:{pageValue:t.customer_id}}).afterClosed().subscribe(t=>{})}openDriverModal(t){const e=new m.d;e.disableClose=!0,e.width="600px",e.height="480px",this.dialog.open(N,{width:"580px",height:"460px",data:{pageValue:t.customer_id}}).afterClosed().subscribe(t=>{})}goAddPage(){this.router.navigate(["admin/customer/add"])}cleanForm(t){Object.keys(t.controls).forEach(e=>t.get(e).setValue(t.get(e).value.trim()))}customerQuery(t){this.router.navigate(["admin/customer/customer-query",t])}}return t.\u0275fac=function(e){return new(e||t)(h.Zb(Z.a),h.Zb(p.a),h.Zb(s.c),h.Zb(g.a),h.Zb(m.b),h.Zb(E.a),h.Zb(r.e))},t.\u0275cmp=h.Tb({type:t,selectors:[["app-customer-list"]],viewQuery:function(t,e){var c;1&t&&(h.Uc(l.a,!0),h.Uc(u.a,!0)),2&t&&(h.Ec(c=h.oc())&&(e.sort=c.first),h.Ec(c=h.oc())&&(e.paginator=c.first))},decls:61,vars:9,consts:[[1,"custom-style"],[1,"table-title"],["fxLayout","row","fxLayout.xs","column",1,"search-div"],["fxFlex","70%"],[3,"formGroup"],["fxLayout","row","fxLayout.xs","column"],["fxFlex.xs","100%"],["fxFlex","45%","fxFlex.xs","45%",1,"search_field"],["matInput","","placeholder","Customer Id","formControlName","customer_id","autocomplete","off"],["matInput","","placeholder","Name","formControlName","name","autocomplete","off"],["matInput","","placeholder","Email","formControlName","email","autocomplete","off"],["matInput","","placeholder","Phone","formControlName","phone","autocomplete","off"],["fxFlex","30%","fxFlex.xs","100%"],["mat-button","",1,"mat-stroked-button","mat-primary",3,"click"],[1,"addButton"],["mat-button","",1,"mat-raised-button","mat-primary",3,"click"],[1,"table_container"],["mat-table","","matTableExporter","","matSort","",1,"mat-elevation-z8",3,"dataSource","hiddenColumns"],["exporter","matTableExporter"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","customer_id"],["matColumnDef","name"],["matColumnDef","phone"],["matColumnDef","email"],["matColumnDef","contact_address"],["matColumnDef","billing_address"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],[1,"middle"],["class","pagination",4,"ngIf"],["style","display:flex; justify-content: center; align-items: center",4,"ngIf"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",4,"ngIf"],["mat-icon-button","","color","info",3,"matMenuTriggerFor",4,"ngIf"],["mat-icon-button","","color","info"],[3,"click"],["setting","matMenu"],["mat-menu-item","",3,"click"],["mat-icon-button",""],["mat-icon-button","","color","info",3,"matMenuTriggerFor"],["mat-header-cell","","mat-sort-header",""],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"],[1,"pagination"],[1,"pagination",3,"ngClass"],["class","pagination",3,"ngClass",4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"]],template:function(t,e){if(1&t){const t=h.gc();h.fc(0,"div",0),h.fc(1,"div",1),h.fc(2,"h3"),h.Qc(3,"Customer List"),h.ec(),h.ec(),h.fc(4,"div",2),h.fc(5,"div",3),h.fc(6,"form",4),h.fc(7,"div",5),h.fc(8,"div",6),h.fc(9,"mat-form-field",7),h.ac(10,"input",8),h.ec(),h.fc(11,"mat-form-field",7),h.ac(12,"input",9),h.ec(),h.ec(),h.fc(13,"div",6),h.fc(14,"mat-form-field",7),h.ac(15,"input",10),h.ec(),h.fc(16,"mat-form-field",7),h.ac(17,"input",11),h.ec(),h.ec(),h.ec(),h.ec(),h.ec(),h.fc(18,"div",12),h.fc(19,"button",13),h.nc("click",(function(){return e.cleanForm(e.myform)}))("click",(function(){return e.getCustomerBySearch()})),h.Qc(20," Search "),h.ec(),h.fc(21,"button",13),h.nc("click",(function(){return e.getBack()})),h.Qc(22," Back "),h.ec(),h.fc(23,"span",14),h.fc(24,"button",15),h.nc("click",(function(){return e.goAddPage()})),h.Qc(25," Add "),h.ec(),h.ec(),h.fc(26,"button",15),h.nc("click",(function(){return h.Hc(t),h.Fc(30).exportTable("csv",{fileName:"product"})})),h.Qc(27," CSV "),h.ec(),h.ec(),h.ec(),h.fc(28,"div",16),h.fc(29,"table",17,18),h.dc(31,19),h.Pc(32,z,2,0,"th",20),h.Pc(33,K,12,2,"td",21),h.cc(),h.dc(34,22),h.Pc(35,Y,2,0,"th",23),h.Pc(36,tt,2,1,"td",21),h.cc(),h.dc(37,24),h.Pc(38,et,2,0,"th",23),h.Pc(39,ct,2,1,"td",21),h.cc(),h.dc(40,25),h.Pc(41,it,2,0,"th",23),h.Pc(42,rt,2,1,"td",21),h.cc(),h.dc(43,26),h.Pc(44,ot,2,0,"th",23),h.Pc(45,nt,2,1,"td",21),h.cc(),h.dc(46,27),h.Pc(47,at,2,0,"th",23),h.Pc(48,st,2,1,"td",21),h.cc(),h.dc(49,28),h.Pc(50,ut,2,0,"th",23),h.Pc(51,lt,2,1,"td",21),h.cc(),h.dc(52,29),h.Pc(53,dt,2,0,"th",23),h.Pc(54,mt,2,1,"td",21),h.cc(),h.Pc(55,ht,1,0,"tr",30),h.Pc(56,ft,1,0,"tr",31),h.ec(),h.ec(),h.ec(),h.fc(57,"div",32),h.Pc(58,vt,8,7,"ul",33),h.ec(),h.Pc(59,yt,2,0,"mat-card",34),h.Pc(60,Ct,2,0,"mat-card",35)}2&t&&(h.Ob(6),h.yc("formGroup",e.myform),h.Ob(23),h.yc("dataSource",e.dataSource)("hiddenColumns",h.Ac(8,Dt)),h.Ob(26),h.yc("matHeaderRowDef",e.displayedColumns),h.Ob(1),h.yc("matRowDefColumns",e.displayedColumns),h.Ob(2),h.yc("ngIf",e.pager.pages&&e.pager.pages.length),h.Ob(1),h.yc("ngIf",e.isLoading),h.Ob(1),h.yc("ngIf",""==e.customers))},directives:[F.b,F.a,r.t,r.n,r.g,H.c,$.b,r.c,r.m,r.f,j.b,d.j,n.a,l.a,d.c,d.e,d.b,d.g,d.i,i.m,d.d,d.a,b.a,L.d,L.a,L.c,l.b,d.f,d.h,i.k,W.a,i.l,G.a,V.a],styles:[".table_container[_ngcontent-%COMP%]{margin-left:2%;width:96%;margin-right:2%;overflow:auto}.filter[_ngcontent-%COMP%]{width:15%;margin-right:50%}.header[_ngcontent-%COMP%]{overflow:hidden}.table[_ngcontent-%COMP%]{width:96%!important;margin-left:2%;margin-right:2%}.spacerb[_ngcontent-%COMP%]{margin-right:5px}h3[_ngcontent-%COMP%]{font-weight:500}.row[_ngcontent-%COMP%]{height:40px!important}.fl[_ngcontent-%COMP%]{position:relative;display:flex}.closeButton[_ngcontent-%COMP%]{margin-top:20px}.search_div[_ngcontent-%COMP%]{margin-left:5%}.search_field[_ngcontent-%COMP%]{margin-left:1%;width:10%;float:left}.mat-stroked-button[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;border:1px solid #00f}.mat-raised-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%]{width:8%;margin-left:.5%}.pagination[_ngcontent-%COMP%]{display:inline-block}.pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;float:left;padding:8px 16px;text-decoration:none;transition:background-color .3s;border:1px solid #ddd}.active[_ngcontent-%COMP%]{background-color:#29abe2;background:#4169e1;color:red}.pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:not(.active){background-color:#ddd}.middle[_ngcontent-%COMP%]{margin-left:50%}a[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();var Ot=c("Cp0R");let xt=(()=>{class t{constructor(t,e,c,i,r){this.fb=t,this.router=e,this.snackBar=c,this.customerService=i,this.route=r,this.submitted=!1}ngOnInit(){this.myform=this.fb.group({name:["",[r.s.required]],email:[""],phone:[""],billing_address:["",[r.s.required]],contact_address:["",[r.s.required]]}),this.route.paramMap.subscribe(t=>{this.Id=t.get("id"),this.edit(this.Id)})}edit(t){console.log(t),this.customerService.getCustomerById(t).subscribe(t=>{this.setData(t)})}setData(t){this.myform.patchValue({name:t.name,email:t.email,phone:t.phone,billing_address:t.billing_address,contact_address:t.contact_address})}goBack(){this.router.navigate(["/admin/customer/list"])}openSnackBar(){this.snackBar.open("Successfully added!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}updateCustomer(){this.submitted=!0,this.myform.invalid||(this.userData=JSON.parse(localStorage.getItem("userData")),this.myform.value.updated_by=this.userData.id,this.myform.value.updated_time=new Date,this.customerService.updateCustomer(this.Id,this.myform.value).subscribe(t=>{this.openSnackBar(),this.router.navigate(["/admin/customer/list"])}))}}return t.\u0275fac=function(e){return new(e||t)(h.Zb(r.e),h.Zb(s.c),h.Zb(p.a),h.Zb(Z.a),h.Zb(s.a))},t.\u0275cmp=h.Tb({type:t,selectors:[["app-customer-edit"]],decls:27,vars:2,consts:[["fxFlex","50%","fxFlex.xs","100%",1,"main"],["fxLayout","column",1,"customStyle"],[3,"formGroup"],["mat-button","",3,"click"],[1,"ab"],[1,"full"],["matInput","","placeholder","Name","formControlName","name","required","","autocomplete","off"],["matInput","","placeholder","Email","formControlName","email","autocomplete","off"],["matInput","","placeholder","Phone","formControlName","phone","required","","autocomplete","off"],["matInput","","placeholder","Contact Address","formControlName","contact_address","required","","autocomplete","off"],["matInput","","placeholder","Billing Address","formControlName","billing_address","required","","autocomplete","off"],["mat-stroked-button","","color","primary",1,"btn-block",3,"disabled","click"]],template:function(t,e){1&t&&(h.fc(0,"div",0),h.fc(1,"mat-card",1),h.fc(2,"form",2),h.fc(3,"mat-card-header"),h.fc(4,"div"),h.fc(5,"button",3),h.nc("click",(function(){return e.goBack()})),h.fc(6,"mat-icon"),h.Qc(7,"arrow_back"),h.ec(),h.ec(),h.ec(),h.fc(8,"div",4),h.fc(9,"h2"),h.Qc(10,"Customer Update"),h.ec(),h.ec(),h.ec(),h.fc(11,"mat-card-content"),h.fc(12,"mat-form-field",5),h.ac(13,"input",6),h.ec(),h.fc(14,"mat-form-field",5),h.ac(15,"input",7),h.ec(),h.fc(16,"mat-form-field",5),h.ac(17,"input",8),h.ec(),h.fc(18,"mat-form-field",5),h.ac(19,"input",9),h.ec(),h.fc(20,"mat-form-field",5),h.ac(21,"input",10),h.ec(),h.ec(),h.fc(22,"mat-card-actions"),h.fc(23,"button",11),h.nc("click",(function(){return e.updateCustomer()})),h.Qc(24," Update "),h.ec(),h.fc(25,"p"),h.Qc(26,"Note: Field marked with * is Mandatory"),h.ec(),h.ec(),h.ec(),h.ec(),h.ec()),2&t&&(h.Ob(2),h.yc("formGroup",e.myform),h.Ob(21),h.yc("disabled",!e.myform.valid))},directives:[F.a,G.a,F.b,r.t,r.n,r.g,G.d,j.b,b.a,G.c,H.c,$.b,r.c,r.m,r.f,r.r,G.b],styles:[".main[_ngcontent-%COMP%]{margin:auto!important}.mat-card[_ngcontent-%COMP%]{width:90%!important}.customStyle[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important;margin-bottom:25px}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.full[_ngcontent-%COMP%]{width:90%}.mat-raised-button[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}h1[_ngcontent-%COMP%]{font-weight:600}.arrow[_ngcontent-%COMP%]{float:right}h2[_ngcontent-%COMP%]{color:#00f}"]}),t})(),St=(()=>{class t{constructor(t,e,c,i,r){this.fb=t,this.router=e,this.snackBar=c,this.customerService=i,this.route=r,this.submitted=!1}ngOnInit(){this.myform=this.fb.group({customer_id:[],name:["",[r.s.required]],email:[""],phone:["",[r.s.required]],billing_address:["",[r.s.required]],contact_address:["",[r.s.required]]})}openSnackBar(){this.snackBar.open("Successfully added!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}errorMessage(){this.snackBar.open("Something is error!!","Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"end"})}addCustomer(){this.submitted=!0,this.myform.invalid||(this.myform.value.customer_id=Math.floor(9e4*Math.random())+1e4,this.userData=JSON.parse(localStorage.getItem("userData")),this.myform.value.created_by=this.userData.id,this.customerService.addCustomer(this.myform.value).subscribe(t=>{this.openSnackBar(),this.router.navigate(["/admin/customer/list"])}))}}return t.\u0275fac=function(e){return new(e||t)(h.Zb(r.e),h.Zb(s.c),h.Zb(p.a),h.Zb(Z.a),h.Zb(s.a))},t.\u0275cmp=h.Tb({type:t,selectors:[["app-customer-add"]],decls:21,vars:2,consts:[["fxFlex","50%","fxFlex.xs","100%",1,"customStyle"],[3,"formGroup"],[1,"title-style"],[1,"full"],["matInput","","placeholder","Name","formControlName","name","required","","autocomplete","off"],["matInput","","placeholder","Email","formControlName","email","autocomplete","off"],["matInput","","placeholder","Phone","formControlName","phone","required","","autocomplete","off"],["matInput","","placeholder","Contact Address","formControlName","contact_address","required","","autocomplete","off"],["matInput","","placeholder","Billing Address","formControlName","billing_address","required","","autocomplete","off"],["mat-stroked-button","","color","primary",1,"btn-block",3,"disabled","click"]],template:function(t,e){1&t&&(h.fc(0,"mat-card",0),h.fc(1,"form",1),h.fc(2,"div",2),h.fc(3,"mat-card-title"),h.Qc(4,"Customer Add"),h.ec(),h.ec(),h.fc(5,"mat-card-content"),h.fc(6,"mat-form-field",3),h.ac(7,"input",4),h.ec(),h.fc(8,"mat-form-field",3),h.ac(9,"input",5),h.ec(),h.fc(10,"mat-form-field",3),h.ac(11,"input",6),h.ec(),h.fc(12,"mat-form-field",3),h.ac(13,"input",7),h.ec(),h.fc(14,"mat-form-field",3),h.ac(15,"input",8),h.ec(),h.ec(),h.fc(16,"mat-card-actions"),h.fc(17,"button",9),h.nc("click",(function(){return e.addCustomer()})),h.Qc(18," Add "),h.ec(),h.fc(19,"p"),h.Qc(20,"Note: Field marked with * is Mandatory"),h.ec(),h.ec(),h.ec(),h.ec()),2&t&&(h.Ob(1),h.yc("formGroup",e.myform),h.Ob(16),h.yc("disabled",!e.myform.valid))},directives:[G.a,F.a,r.t,r.n,r.g,G.f,G.c,H.c,$.b,r.c,r.m,r.f,r.r,G.b,j.b],styles:[".main[_ngcontent-%COMP%]{margin:auto!important}.mat-card[_ngcontent-%COMP%]{width:90%!important}.customStyle[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important;margin-bottom:25px}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.full[_ngcontent-%COMP%]{width:90%}.mat-raised-button[_ngcontent-%COMP%]{border-radius:20px 20px 20px 20px;width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}h1[_ngcontent-%COMP%]{font-weight:600}.arrow[_ngcontent-%COMP%]{float:right}h2[_ngcontent-%COMP%]{color:#00f}"]}),t})();var _t=c("whuR"),wt=c("CjG4"),It=c("zkoq"),Qt=c("f0Cb");function kt(t,e){1&t&&(h.fc(0,"th",22),h.Qc(1,"Category"),h.ec())}function Mt(t,e){if(1&t&&(h.fc(0,"td",23),h.Qc(1),h.ec()),2&t){const t=e.$implicit,c=h.rc(2);h.Ob(1),h.Rc(null==c.categoryIndex[null==t?null:t.category]?null:c.categoryIndex[null==t?null:t.category].name)}}function Bt(t,e){1&t&&(h.fc(0,"th",22),h.Qc(1,"Model"),h.ec())}function qt(t,e){if(1&t&&(h.fc(0,"td",23),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.model)}}function Rt(t,e){1&t&&(h.fc(0,"th",22),h.Qc(1,"Unit Price"),h.ec())}function At(t,e){if(1&t&&(h.fc(0,"td",23),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.unit_price)}}function Tt(t,e){1&t&&(h.fc(0,"th",22),h.Qc(1,"Quantity"),h.ec())}function Ut(t,e){if(1&t&&(h.fc(0,"td",23),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.quantity)}}function Nt(t,e){1&t&&(h.fc(0,"th",22),h.Qc(1,"Total Price"),h.ec())}function Zt(t,e){if(1&t&&(h.fc(0,"td",23),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.total_price)}}function Et(t,e){1&t&&(h.fc(0,"th",22),h.Qc(1,"Complementary"),h.ec())}function Ft(t,e){if(1&t&&(h.fc(0,"td",23),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.complementary)}}function Ht(t,e){1&t&&h.ac(0,"tr",24)}function $t(t,e){1&t&&h.ac(0,"tr",25)}function jt(t,e){1&t&&(h.fc(0,"th",22),h.Qc(1,"Title"),h.ec())}function Lt(t,e){if(1&t&&(h.fc(0,"td",23),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.title)}}function Wt(t,e){1&t&&(h.fc(0,"th",22),h.Qc(1,"Amount"),h.ec())}function Gt(t,e){if(1&t&&(h.fc(0,"td",23),h.Qc(1),h.ec()),2&t){const t=e.$implicit;h.Ob(1),h.Rc(t.amount)}}function Vt(t,e){1&t&&h.ac(0,"tr",24)}function zt(t,e){1&t&&h.ac(0,"tr",25)}function Xt(t,e){if(1&t&&(h.fc(0,"div"),h.fc(1,"mat-grid-list",28),h.fc(2,"mat-grid-tile",29),h.fc(3,"div"),h.fc(4,"b"),h.Qc(5," By:"),h.ec(),h.Qc(6),h.ac(7,"br"),h.fc(8,"b"),h.Qc(9," Time:"),h.ec(),h.Qc(10),h.sc(11,"date"),h.ac(12,"br"),h.fc(13,"b"),h.Qc(14," States:"),h.ec(),h.Qc(15),h.ac(16,"br"),h.ec(),h.ec(),h.fc(17,"mat-grid-tile",29),h.Qc(18),h.ec(),h.ac(19,"mat-divider"),h.ec(),h.ec()),2&t){const t=e.$implicit,c=h.rc(3);h.Ob(2),h.yc("colspan",3),h.Ob(4),h.Sc(" ",null==c.usersIndex[null==t?null:t.created_by]?null:c.usersIndex[null==t?null:t.created_by].full_name,""),h.Ob(4),h.Sc(" ",h.uc(11,6,null==t?null:t.created_time,"medium"),""),h.Ob(5),h.Rc(null==t?null:t.state),h.Ob(2),h.yc("colspan",5),h.Ob(1),h.Sc(" ",null==t?null:t.remark,"")}}function Jt(t,e){if(1&t&&(h.fc(0,"div",26),h.fc(1,"b"),h.Qc(2,"Query Action "),h.ec(),h.ac(3,"br"),h.Pc(4,Xt,20,9,"div",27),h.ec()),2&t){const t=h.rc(2);h.Ob(4),h.yc("ngForOf",t.queryAction)}}const Kt=function(){return[0]};function Yt(t,e){if(1&t){const t=h.gc();h.fc(0,"mat-card",3),h.fc(1,"div"),h.fc(2,"button",4),h.nc("click",(function(){return h.Hc(t),h.rc().goBack()})),h.fc(3,"mat-icon"),h.Qc(4,"arrow_back"),h.ec(),h.ec(),h.ec(),h.fc(5,"div",5),h.fc(6,"div"),h.fc(7,"mat-card-title"),h.Qc(8,"Customer Query Details"),h.ec(),h.ec(),h.ec(),h.fc(9,"div"),h.fc(10,"div"),h.fc(11,"mat-grid-list",6),h.fc(12,"mat-grid-tile"),h.fc(13,"div"),h.fc(14,"b"),h.Qc(15,"Name:"),h.ec(),h.Qc(16),h.ec(),h.ec(),h.fc(17,"mat-grid-tile"),h.fc(18,"div"),h.fc(19,"b"),h.Qc(20,"Email:"),h.ec(),h.Qc(21),h.ec(),h.ec(),h.fc(22,"mat-grid-tile"),h.fc(23,"div"),h.fc(24,"b"),h.Qc(25,"Phone:"),h.ec(),h.Qc(26),h.ec(),h.ec(),h.fc(27,"mat-grid-tile"),h.fc(28,"div"),h.fc(29,"b"),h.Qc(30,"Type:"),h.ec(),h.Qc(31),h.ec(),h.ec(),h.fc(32,"mat-grid-tile"),h.fc(33,"div"),h.fc(34,"b"),h.Qc(35,"Priority:"),h.ec(),h.Qc(36),h.ec(),h.ec(),h.fc(37,"mat-grid-tile"),h.fc(38,"div"),h.fc(39,"b"),h.Qc(40,"Source:"),h.ec(),h.Qc(41),h.ec(),h.ec(),h.fc(42,"mat-grid-tile"),h.fc(43,"b"),h.Qc(44,"Status :"),h.ec(),h.Qc(45),h.ec(),h.fc(46,"mat-grid-tile"),h.fc(47,"div"),h.fc(48,"b"),h.Qc(49," Created : "),h.ec(),h.Qc(50),h.ac(51,"br"),h.Qc(52),h.sc(53,"date"),h.ac(54,"br"),h.ec(),h.ec(),h.fc(55,"mat-grid-tile"),h.fc(56,"div"),h.fc(57,"b"),h.Qc(58,"Updated :"),h.ec(),h.Qc(59),h.ac(60,"br"),h.Qc(61),h.sc(62,"date"),h.ec(),h.ec(),h.ec(),h.ec(),h.fc(63,"div"),h.fc(64,"b"),h.Qc(65,"Product "),h.ec(),h.ac(66,"br"),h.fc(67,"table",7,8),h.dc(69,9),h.Pc(70,kt,2,0,"th",10),h.Pc(71,Mt,2,1,"td",11),h.cc(),h.dc(72,12),h.Pc(73,Bt,2,0,"th",10),h.Pc(74,qt,2,1,"td",11),h.cc(),h.dc(75,13),h.Pc(76,Rt,2,0,"th",10),h.Pc(77,At,2,1,"td",11),h.cc(),h.dc(78,14),h.Pc(79,Tt,2,0,"th",10),h.Pc(80,Ut,2,1,"td",11),h.cc(),h.dc(81,15),h.Pc(82,Nt,2,0,"th",10),h.Pc(83,Zt,2,1,"td",11),h.cc(),h.dc(84,16),h.Pc(85,Et,2,0,"th",10),h.Pc(86,Ft,2,1,"td",11),h.cc(),h.Pc(87,Ht,1,0,"tr",17),h.Pc(88,$t,1,0,"tr",18),h.ec(),h.ec(),h.fc(89,"div"),h.fc(90,"b"),h.Qc(91,"Mrc "),h.ec(),h.ac(92,"br"),h.fc(93,"table",7,8),h.dc(95,19),h.Pc(96,jt,2,0,"th",10),h.Pc(97,Lt,2,1,"td",11),h.cc(),h.dc(98,20),h.Pc(99,Wt,2,0,"th",10),h.Pc(100,Gt,2,1,"td",11),h.cc(),h.Pc(101,Vt,1,0,"tr",17),h.Pc(102,zt,1,0,"tr",18),h.ec(),h.ec(),h.Pc(103,Jt,5,1,"div",21),h.ec(),h.ec()}if(2&t){const t=h.rc();h.Ob(16),h.Sc(" ",t.queryData.name,""),h.Ob(5),h.Sc(" ",t.queryData.email,""),h.Ob(5),h.Sc(" ",t.queryData.phone,""),h.Ob(5),h.Sc(" ",t.queryData.type,""),h.Ob(5),h.Sc(" ",t.queryData.priority,""),h.Ob(5),h.Sc(" ",t.queryData.source,""),h.Ob(4),h.Rc(null==t.queryData?null:t.queryData.status),h.Ob(5),h.Sc(" By: ",null==t.usersIndex[null==t.queryData?null:t.queryData.created_by]?null:t.usersIndex[null==t.queryData?null:t.queryData.created_by].full_name,""),h.Ob(2),h.Sc(" Time: ",h.uc(53,20,null==t.queryData?null:t.queryData.created_time,"medium"),""),h.Ob(7),h.Sc(" By: ",null==t.usersIndex[null==t.queryData?null:t.queryData.created_by]?null:t.usersIndex[null==t.queryData?null:t.queryData.created_by].full_name,""),h.Ob(2),h.Sc(" Time: ",h.uc(62,23,null==t.queryData?null:t.queryData.created_time,"medium"),""),h.Ob(6),h.yc("dataSource",t.queryProducts)("hiddenColumns",h.Ac(26,Kt)),h.Ob(20),h.yc("matHeaderRowDef",t.displayedColumns),h.Ob(1),h.yc("matRowDefColumns",t.displayedColumns),h.Ob(5),h.yc("dataSource",t.queryMrc)("hiddenColumns",h.Ac(27,Kt)),h.Ob(8),h.yc("matHeaderRowDef",t.displayedMrcColumns),h.Ob(1),h.yc("matRowDefColumns",t.displayedMrcColumns),h.Ob(1),h.yc("ngIf",""!=t.queryAction)}}function te(t,e){1&t&&(h.fc(0,"div"),h.Qc(1," No Records Found! "),h.ec())}function ee(t,e){1&t&&(h.fc(0,"mat-card",30),h.ac(1,"mat-progress-spinner",31),h.ec())}const ce=[{path:"list",component:Pt,canActivate:[Ot.a],data:{roles:"customer_list"}},{path:"add",component:St,canActivate:[Ot.a],data:{roles:"customer_add"}},{path:"edit/:id",component:xt,canActivate:[Ot.a],data:{roles:"customer_edit"}},{path:"customer-query/:id",component:(()=>{class t{constructor(t,e,c,i,r){this.route=t,this.snackBar=e,this.queryService=c,this.userService=i,this.router=r,this.isLoading=!0,this.usersIndex=[]}ngOnInit(){this.route.paramMap.subscribe(t=>{this.Id=t.get("id"),this.edit(this.Id)})}edit(t){this.queryService.getQueryByCustomerId(t).subscribe(t=>{this.isLoading=!1,this.queryData=t,console.log(t),this.getAllUser();var e=this.queryData.queryID;this.queryService.getQueryProductById(e).subscribe(t=>{this.queryProducts=t,console.log(t)}),this.queryService.getQueryMrcById(e).subscribe(t=>{console.log(t),this.queryMrc=t}),this.queryService.getQueryActionById(e).subscribe(t=>{this.queryAction=t,console.log(t)})})}getAllUser(){this.userService.getAllUser().subscribe(t=>{var e;this.users=t,console.log(null===(e=this.users[6])||void 0===e?void 0:e.full_name),this.users.forEach((t,e)=>{var c;this.usersIndex[t.id]=this.users[e],console.log(null===(c=this.usersIndex[6])||void 0===c?void 0:c.full_name)})})}goBack(){this.router.navigate(["/admin/customer/list"])}}return t.\u0275fac=function(e){return new(e||t)(h.Zb(s.a),h.Zb(p.a),h.Zb(_t.a),h.Zb(wt.a),h.Zb(s.c))},t.\u0275cmp=h.Tb({type:t,selectors:[["app-customer-query"]],decls:3,vars:3,consts:[["class","customStyle",4,"ngIf"],[4,"ngIf"],["style","display:flex; justify-content: center; align-items: center",4,"ngIf"],[1,"customStyle"],["mat-button","",1,"mat-primary",3,"click"],[1,"title-style"],["cols","3","rowHeight","40px"],["mat-table","","matTableExporter","","matSort","",1,"mat-elevation-z8",3,"dataSource","hiddenColumns"],["exporter","matTableExporter"],["matColumnDef","category"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","model"],["matColumnDef","unit_price"],["matColumnDef","quantity"],["matColumnDef","total_price"],["matColumnDef","complementary"],["class","header-row","mat-header-row","",4,"matHeaderRowDef"],["class","row","mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","title"],["matColumnDef","amount"],["class","actionSection",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row","",1,"header-row"],["mat-row","",1,"row"],[1,"actionSection"],[4,"ngFor","ngForOf"],["cols","8","rowHeight","100px"],[3,"colspan"],[2,"display","flex","justify-content","center","align-items","center"],["color","primary","mode","indeterminate"]],template:function(t,e){1&t&&(h.Pc(0,Yt,104,28,"mat-card",0),h.Pc(1,te,2,0,"div",1),h.Pc(2,ee,2,0,"mat-card",2)),2&t&&(h.yc("ngIf",e.users&&e.queryData),h.Ob(1),h.yc("ngIf",!e.queryData),h.Ob(1),h.yc("ngIf",e.isLoading))},directives:[i.m,G.a,j.b,b.a,G.f,It.a,It.c,d.j,n.a,l.a,d.c,d.e,d.b,d.g,d.i,d.d,l.b,d.a,d.f,d.h,i.l,Qt.a,V.a],pipes:[i.e],styles:["mat-card[_ngcontent-%COMP%]{top:0;width:80%;min-height:400px}.form[_ngcontent-%COMP%]{margin-top:30px}.customStyle[_ngcontent-%COMP%]{border-radius:10px 10px 10px 10px;box-shadow:5px 10px 15px #1a237e}.customStyle[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{color:#1a237e;text-align:center!important}.customStyle[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:red;margin-left:30px}.customStyle[_ngcontent-%COMP%]   .error_message[_ngcontent-%COMP%]{color:red;margin-left:20px;margin-top:-10px;font-size:12px}.mat-stroked-button[_ngcontent-%COMP%]{width:120px;border:1px solid #00f}.sidenav-content[_ngcontent-%COMP%]{height:120%}mat-grid-tile[_ngcontent-%COMP%]{background:#add8e6}mat-card-title[_ngcontent-%COMP%]{margin-top:-25px;margin-bottom:20px}.actionSection[_ngcontent-%COMP%]{margin-top:20px}.actionSection[_ngcontent-%COMP%]   mat-grid-tile[_ngcontent-%COMP%]{background:#e8f8f5}"]}),t})()}];let ie=(()=>{class t{}return t.\u0275mod=h.Xb({type:t}),t.\u0275inj=h.Wb({factory:function(e){return new(e||t)},imports:[[s.f.forChild(ce)],s.f]}),t})(),re=(()=>{class t{}return t.\u0275mod=h.Xb({type:t}),t.\u0275inj=h.Wb({factory:function(e){return new(e||t)},imports:[[i.c,ie,o.a,r.q,r.i,n.b,a.a]]}),t})()},"1jOF":function(t,e,c){"use strict";c.d(e,"a",(function(){return n}));var i=c("AytR"),r=c("fXoL"),o=c("tk/3");let n=(()=>{class t{constructor(t){this.http=t,this.url=i.a.apiUrl+"/driver/"}addDriver(t){return this.http.post(this.url+"/addDriver",t)}getAllDriver(){return this.http.get(this.url+"/listDriver")}getDriverById(t){return this.http.get(this.url+t+"/editDriver")}updateDriver(t,e){return this.http.put(this.url+t+"/updateDriver",e)}deleteDriver(t){return this.http.delete(this.url+t+"/deleteDriver")}addDriverWithDevice(t){return this.http.post(this.url+"/addDeviceDriver",t)}deleteDeviceDriver(t){return this.http.post(this.url+"/deleteDeviceDriver",t)}getDriverByDeviceId(t){return this.http.get(this.url+t+"/getDriverByDevice")}addDriverWithGroup(t){return this.http.post(this.url+"/addGroupDriver",t)}deleteGroupDriver(t){return this.http.post(this.url+"/deleteGroupDriver",t)}getDriverByGroupId(t){return this.http.get(this.url+t+"/getDriverByGroup")}addDriverWithUser(t){return this.http.post(this.url+"/addUserDriver",t)}deleteUserDriver(t){return this.http.post(this.url+"/deleteUserDriver",t)}getDriverByUserId(t){return this.http.get(this.url+t+"/getDriverByUser")}getAllCustomerDriver(){return this.http.get(this.url+"/listCustomerDriver")}getDriverByCustomerId(t){return this.http.get(this.url+t+"/getDriverByCustomerId")}addDriverWithCustomer(t){return this.http.post(this.url+"/addCustomerDriver",t)}deleteCustomerDriver(t){return this.http.post(this.url+"/deleteCustomerDriver",t)}}return t.\u0275fac=function(e){return new(e||t)(r.jc(o.b))},t.\u0275prov=r.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Cp0R:function(t,e,c){"use strict";c.d(e,"a",(function(){return n}));var i=c("fXoL"),r=c("Ofeh"),o=c("tyNb");let n=(()=>{class t{constructor(t,e){this.loginService=t,this.router=e,this.assigedRole=[]}canActivate(t,e){return this.loginService.loggedIn()?(this.assigedRole=JSON.parse(sessionStorage.getItem("rolesData")),1==this.assigedRole.includes(t.data.roles)||(this.router.navigate(["/deny"]),!1)):(this.router.navigate(["/"]),!1)}}return t.\u0275fac=function(e){return new(e||t)(i.jc(r.a),i.jc(o.c))},t.\u0275prov=i.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},H0VJ:function(t,e,c){"use strict";c.d(e,"a",(function(){return s}));var i=c("fXoL"),r=c("0IaG"),o=c("NFeN"),n=c("bTqV");let a=(()=>{class t{constructor(t){this.dialogRef=t}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return t.\u0275fac=function(e){return new(e||t)(i.Zb(r.f))},t.\u0275cmp=i.Tb({type:t,selectors:[["app-mat-dialog"]],decls:11,vars:2,consts:[[1,"content-container"],["id","close-button",3,"click"],[1,"content-span"],["mat-flat-button","","id","no-button",3,"mat-dialog-close"],["mat-flat-button","","id","yes-button","color","warn",3,"mat-dialog-close"]],template:function(t,e){1&t&&(i.fc(0,"div"),i.fc(1,"div",0),i.fc(2,"mat-icon",1),i.nc("click",(function(){return e.closeDialog()})),i.Qc(3,"close"),i.ec(),i.fc(4,"div",2),i.Qc(5,"Are you sure to delete this record ?"),i.ec(),i.ec(),i.fc(6,"div"),i.fc(7,"button",3),i.Qc(8,"No"),i.ec(),i.fc(9,"button",4),i.Qc(10,"Yes"),i.ec(),i.ec(),i.ec()),2&t&&(i.Ob(7),i.yc("mat-dialog-close",!1),i.Ob(2),i.yc("mat-dialog-close",!0))},directives:[o.a,n.b,r.c],styles:["#close-button[_ngcontent-%COMP%]{margin-left:90%;cursor:pointer}.content-span[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:20px}#no-button[_ngcontent-%COMP%]{width:30%;margin-left:7%;margin-right:25%;background-color:#ff0}#yes-button[_ngcontent-%COMP%]{width:30%}"]}),t})(),s=(()=>{class t{constructor(t){this.dialog=t}openConfirmDialog(){return this.dialog.open(a,{width:"300px",disableClose:!0,position:{top:"20px"}})}}return t.\u0275fac=function(e){return new(e||t)(i.jc(r.b))},t.\u0275prov=i.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},M5z4:function(t,e,c){"use strict";c.d(e,"a",(function(){return n}));var i=c("AytR"),r=c("fXoL"),o=c("tk/3");let n=(()=>{class t{constructor(t){this.http=t,this.url=i.a.apiUrl+"/customer/"}addCustomer(t){return this.http.post(this.url+"/addCustomer",t)}getAllCustomer(t){return this.http.post(this.url+"/listCustomer",t)}getCustomerById(t){return this.http.get(this.url+t+"/editCustomer")}getCustomerByUserId(t){return this.http.get(this.url+t+"/getCustomerByUserId")}updateCustomer(t,e){return this.http.put(this.url+t+"/updateCustomer",e)}getAllCustomerList(){return this.http.get(this.url+"/allCustomerList")}getAllCustomerListJoinWithDevices(){return this.http.get(this.url+"/allCustomerListJoinWithDevices")}customerSearch(t){return this.http.post(this.url+"/customerSearch",t)}DeviceByCustomer(t){return this.http.get(this.url+t+"/getDeviceByCustomer")}DeviceByDeviceId(t){return this.http.post(this.url+"/getDeviceByDeviceId",t)}DeviceIdByUser(t){return this.http.get(this.url+t+"/getDeviceIdByUser")}DeviceByCustomerWithPosition(t){return this.http.get(this.url+t+"/getDeviceByCustomerWithPosition")}DeviceByCustomerUserWithPosition(t){return this.http.post(this.url+"/getDeviceByCustomerUserWithPosition",t)}DevicePositionByPositionId(t){return this.http.post(this.url+"/getDevicePositionByPositionId",t)}DevicePositionByCustomer(t){return this.http.get(this.url+t+"/getDevicePositionByCustomer")}}return t.\u0275fac=function(e){return new(e||t)(r.jc(o.b))},t.\u0275prov=r.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},XCAU:function(t,e,c){"use strict";c.d(e,"a",(function(){return a}));var i=c("2Vo4"),r=c("AytR"),o=c("fXoL"),n=c("tk/3");let a=(()=>{class t{constructor(t){this.http=t,this.url=r.a.apiUrl+"/device/",this.importDataSent=new i.a(""),this.importDataCatch=this.importDataSent.asObservable(),this.importErrorSent=new i.a(""),this.importErrorCatch=this.importErrorSent.asObservable()}importDataExchange(t){this.importDataSent.next(t)}importErrorExchange(t){this.importErrorSent.next(t)}getAllDevices(){return this.http.get(this.url+"/listDevices")}addDevice(t){return this.http.post(this.url+"/addDevice",t)}getAllDevice(){return this.http.get(this.url+"/listDevice")}getDeviceById(t){return this.http.get(this.url+t+"/editDevice")}updateDevice(t,e){return this.http.put(this.url+t+"/updateDevice",e)}deleteDevice(t){return this.http.delete(this.url+t+"/deleteDevice")}addDeviceWithUser(t){return this.http.post(this.url+"/addUserDevice",t)}deleteUserDevice(t){return this.http.post(this.url+"/deleteUserDevice",t)}getDeviceByUserId(t){return this.http.get(this.url+t+"/getDeviceByUser")}getDeviceByAllUser(){return this.http.get(this.url+"/getDeviceByAllUser")}addDeviceWithCustomer(t){return this.http.post(this.url+"/addCustomerDevice",t)}deleteCustomerDevice(t){return this.http.post(this.url+"/deleteCustomerDevice",t)}getDeviceByCustomerId(t){return this.http.get(this.url+t+"/getDeviceByCustomerId")}getAllPostion(){return this.http.get(this.url+"/listPositions")}getHistoryPostionBySearch(t){return this.http.post(this.url+"/listHistoryPositions",t)}getAllPostionBySearch(t){return this.http.post(this.url+"/listAllPositions",t)}getAllEvents(){return this.http.get(this.url+"/listEvents")}getDeviceWithPositionById(t){return this.http.get(this.url+t+"/getDeviceWithPositionById")}getDeviceCurrentPositionById(t){return this.http.get(this.url+t+"/getDeviceCurrentPositionById")}getMovingPosition(t){return this.http.post(this.url+"/movingPositions",t)}getDevicePositionByPositionId(t){return this.http.post(this.url+"/getDevicePositionByPositionId",t)}getEventPositionById(t){return this.http.get(this.url+t+"/getEventPositionById")}}return t.\u0275fac=function(e){return new(e||t)(o.jc(n.b))},t.\u0275prov=o.Vb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);